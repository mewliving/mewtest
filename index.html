<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>ANWEM тАФ AI ыПДы░Х ьЛЬыомыаИьЭ┤ьЕШ</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body, #root { width: 100%; height: 100%; background: #050505; overflow: hidden; touch-action: manipulation; }
  @supports (height: 100dvh) { html, body, #root { height: 100dvh; } }
  @supports (padding-top: env(safe-area-inset-top)) {
    .safe-top { padding-top: env(safe-area-inset-top) !important; }
    .safe-bottom { padding-bottom: env(safe-area-inset-bottom) !important; }
  }
  body { -webkit-text-size-adjust: 100%; }
</style>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect, useRef } = React;

// --- Hook: window size ---
function useIsMobile() {
  const [m, setM] = useState(typeof window !== "undefined" ? window.innerWidth < 768 : false);
  useEffect(() => {
    const h = () => setM(window.innerWidth < 768);
    window.addEventListener("resize", h); return () => window.removeEventListener("resize", h);
  }, []);
  return m;
}

// --- DATA ---
// === Name/trait pools for random generation ===
const NAMES_M = ["ьзАэШ╕","ыПДьЬд","ьЭАэШ╕","эШДьЪ░","ьЮмэШБ","ьД▒ып╝","ьЮмьЫР","эХЬ","ыЕ╕ьХД","ьЛЬьЪ░","ьдАьШБ","эГЬэШД","ып╝ьИШ","ьаХьЪ░","ьК╣ьдА","ь░мьШБ","ыПЩэХШ","ьД╕ьдА","ьШИьдА","эХШьдА","ьЬдьДЬ","ъ▒┤ьЪ░","ьзАэЫИ","ьИШэШ╕","ып╝ьЮм","ьзДьЪ░","ьЛЬэШД","ьЬаь░м","ьдАьДЬ","эГЬып╝"];
const NAMES_F = ["ьИШьХД","эХШыж░","ьЛЬьХД","ьЬаыВШ","ьИШьзД","ыЛдьЭА","ып╕ьЖМ","ьЧРыж░","ыгиьЭ┤","ьЖМьЧ░","ьзАьЭА","эХШыКШ","ып╝ьзА","ьДЬэШД","ьШИыж░","ыВШьЧ░","ь▒ДьЫР","ы│┤ыЭ╝","ьЭАьзА","ьг╝эХШ","ьЛЬьЭА","ыЛдьЧ░","эХШьШБ","ьЬаьзД","ьЖМэЭм","ып╕ыЮШ","ьЧ░ьДЬ","ьзАьИШ","ьДЬьЬд","ьХДыж░"];
const NAMES_N = ["ь╣╕","ьаЬыбЬ","ьЛЬъ╖╕ыДР","ьЧРь╜Ф","ыгиыВШ","ьХДыжм","ыЕ╕ьЭД","ьГИы▓╜","ьХИъ░Ь","ъ╖╕ыж╝ьЮР","ь╜ФыУЬ","эММыПЩ","ым┤ыкЕ","эХШыВШ","ьЖМыжм"];
const AGES_ADULT = [22,23,24,25,26,27,28,29,30,31,32,33,34,35,37,38,40];
const pick = a => a[Math.floor(Math.random()*a.length)];
const pickAge = () => pick(AGES_ADULT);
const pickGender = () => Math.random()<0.5 ? "тЩВ" : "тЩА";
const pickName = g => g==="тЩВ" ? pick(NAMES_M) : g==="тЩА" ? pick(NAMES_F) : pick(NAMES_N);

const GENRE_POOLS = {
  daily: {
    titles: ["ьЙРьЦ┤эХШьЪ░ьКд","эО╕ьЭШьаР ьХ╝ъ░Д","ьШеэГСы░й ьЭ┤ьЫГ","эЗ┤ъ╖╝ъ╕╕ ы▓ДьКд","ыПЩыДд ьД╕эГБьЖМ","ьГИы▓╜ ыПЕьДЬьЛд","эПмьЮеызИь░и","ъ│╡ьЫР ы▓дь╣Ш","ъ│аьЛЬьЫР ы│╡ыПД","ьдСъ│аьДЬьаР","ьг╝ь░иьЮе ъ╡мьДЭ","ы│СьЫР ыМАъ╕░ьЛд","ы░░ыЛм ьШдэЖаы░ФьЭ┤","ыПЩыДд ыкйьЪХэГХ","ьХ╝ъ░Д эО╕ьЭШьаР","ьвЕьаР ы▓ДьКд","ы╣МыЭ╝ ьШеьГБ","ьГИы▓╜ PCы░й","ьзАэХШ ьЧ░ьК╡ьЛд","эЗ┤ъ╖╝ъ╕╕ эЪбыЛиы│┤ыПД"],
    descs: ["ьВмьаХьЭ┤ ьЮИыКФ ыСР ьВмыЮМьЭ┤ ъ░ЩьЭ┤ ьВ┤ъ▓М ыРРыЛд","ьГИы▓╜ызИыЛд ызИьг╝ь╣ШыКФ ыСР ьВмыЮМ","ы▓╜ эХШыВШые╝ ьВмьЭ┤ьЧР ыСФ ыСР ьВмыЮМьЭШ ьЭ┤ьХ╝ъ╕░","ыздьЭ╝ ъ░ЩьЭА ьЛЬъ░Д, ъ░ЩьЭА ьЮРыжмьЧРьДЬ ызМыВШыКФ ыСР ьВмыЮМ","ызР эХЬызИыФФ ьЧЖьЭ┤ ьДЬыбЬьЭШ ьб┤ьЮмые╝ ьХМъ│а ьЮИьЧИыЛд","ьЪ░ьЧ░ьЭ┤ ы░Шы│╡ыРШый┤ ьЭ╕ьЧ░ьЭ┤ ыРЬыЛд","ьДЬыбЬьЧРъ▓М ъ┤АьЛм ьЧЖыКФ ь▓Щ эХШьзАызМ","эХШыгиьЭШ ыБЭьЧРьДЬ ызМыВШыКФ ыСР ьВмыЮМ","ъ░ЩьЭА ъ│╡ъ░Д, ыЛдые╕ ьД╕ъ│ДьЧР ьВмыКФ ыСР ьВмыЮМ","ь╣иым╡ ьЖНьЧРьДЬ ьЛЬьЮСыРЬ ъ┤Аъ│Д","ьХДым┤ыПД ыкиые┤ъ▓М ьДЬыбЬые╝ ыПХъ│а ьЮИьЧИыЛд","ыЦаыВШьХ╝ эХШыКФ ьВмыЮМъ│╝ ыВиьХДьХ╝ эХШыКФ ьВмыЮМ","эХЬьк╜ьЭА ыздьЭ╝ ьШдъ│а, эХЬьк╜ьЭА ьШдыКШьЭ┤ ызИьзАызЙьЭ┤ыЛд","ьДЬыбЬьЭШ ьЭ┤ыжДыПД ыкиые┤ыКФ ь▒Д 3ъ░ЬьЫФьЭ┤ ьзАыВмыЛд","ъ░ЩьЭА ыЕ╕ыЮШые╝ ыУгъ│а ьЮИыЛдыКФ ъ▒╕ ьЪ░ьЧ░эЮИ ьХМьХШыЛд","ьЛдьЭА ъ░ЩьЭА ьВмыЮМьЭД ь░╛ъ│а ьЮИьЧИыЛд","ызРьЧЖьЭ┤ ъ▒┤ыДи ьЪ░ьВ░ эХШыВШыбЬ ьЛЬьЮСыРРыЛд","ьДЬыбЬьЭШ ы╣Ды░АьЭД ьЪ░ьЧ░эЮИ ьХМъ▓М ыРРыЛд","ыСШ ыЛд ьЭ┤ъ││ьЧР ьИиьЦ┤ ьШи ьВмыЮМьЭ┤ыЛд","ыздьЭ╝ ы░д ъ░ЩьЭА ьЛЬъ░ДьЧР ьЪ╕ыжмыКФ ьаДэЩФ"],
    traits: ["ьб░ьЪйэХШъ│а ы▓╜ьЭ┤ ьЮИыЛд","ы░ЭьЭА ь▓ЩэХШьзАызМ ьЖНьЭ┤ ы│╡ьЮбэХШыЛд","ым┤эСЬьаХэХШьзАызМ ъ┤Аь░░ыаеьЭ┤ ьвЛыЛд","эШ╝ьЮР ьЮИыКФ ъ▒╕ ьвЛьХДэХШьзАызМ ьЩ╕ыбЬьЪ┤ ьВмыЮМ","ызРьЭ┤ ьаБьзАызМ эХЬы▓И эХШый┤ эХ╡ьЛмьЭД ь░Мые╕ыЛд","ьЫГыКФ ьЦ╝ъ╡┤ ыТдьЧР эФ╝ыбЬъ░А ъ░АыУЭэХШыЛд","эГАьЭ╕ьЧРъ▓М ъ┤АьЛмьЭ┤ ьЧЖыКФ ь▓ЩэХЬыЛд","ъ╖Ьь╣ЩьаБьЭ╕ ьГЭэЩЬьЭД ъ│аьзСэХЬыЛд","ъ░РьаХ эСЬэШДьЭ┤ ьДЬэИ┤ыЛд","ыВиьЭШ ъ░РьаХьЭА ьЮШ ьЭ╜ьзАызМ ьЮРъ╕░ ъ░РьаХьЭА ыкиые╕ыЛд","ъ╖Аь░оьЭА ъ▒╕ ьЛльЦ┤эХШьзАызМ ьЭАъ╖╝эЮИ ь▒Щъ╕┤ыЛд","ызРэХа ыХМ ыИИьЭД ьЮШ ык╗ ызИьг╝ь╣ЬыЛд","эХньГБ ьЭ┤ьЦ┤эП░ьЭД ыБ╝ъ│а ыЛдыЛМыЛд","ы░дьЧРызМ эЩЬъ╕░ъ░А ыДШь╣ЬыЛд","ъ▒░ьзУызРьЭД ык╗эХШыКФ ьД▒ъ▓йьЭ┤ыЭ╝ ьЮЕьЭД ыЛдым╕ыЛд"],
    secrets: ["ыИДъ╡░ъ░Аые╝ эФ╝эХ┤ ьИиьЦ┤ ьВ┤ъ│а ьЮИыЛд","ьзСьЧР ыПМьХДъ░Аъ│а ьЛ╢ьзА ьХКьЭА ьЭ┤ьЬаъ░А ьЮИыЛд","ъ░Аьб▒ъ│╝ ьЧ░ыЭ╜ьЭД ыБКьЭА ьзА ьШдыЮШыЛд","ьЭ┤ъ││ьЧР ьШи ьзДьзЬ ьЭ┤ьЬаые╝ ьИиъ╕░ъ│а ьЮИыЛд","ьдСьЪФэХЬ ьВмыЮМьЭД ьЮГьЭА ьаБьЭ┤ ьЮИыЛд","ъ│╝ъ▒░ьЧР эБ░ ьЛдьИШые╝ эХ┤ьДЬ ыПДызЭь│дыЛд","ыВиыУдьЭ┤ ыкиые┤ыКФ ы╣ЪьЭ┤ ьЮИыЛд","ьЛЬэЧШьЧР ьД╕ ы▓Иьз╕ ыЦиьЦ┤ьбМыЛд","SNSьЧРьДЬ ьЬаыкЕэЦИьзАызМ эГИэЗ┤эЦИыЛд","эХЬыХМ ъ┐ИьЭ┤ ьЮИьЧИьзАызМ эПмъ╕░эХЬ ьЭ┤ьЬаъ░А ьЮИыЛд","ьаД ьзБьЮеьЧРьДЬ ьлУъ▓иыВмыЛд","ъ░Аьб▒ ьдС эХЬ ыкЕьЭ┤ ьХДэФДыЛд","ьВмьЛд ьЭ┤ ыПЩыДд ь╢ЬьЛаьЭ┤ ьХДыЛИыЛд","ьЭ┤ыжДьЭ┤ ъ░АыкЕьЭ┤ыЛд","ъ│з ьЭ┤ ыПДьЛЬые╝ ыЦаыВШьХ╝ эХЬыЛд"],
  },
  romance: {
    titles: ["ьЮмэЪМ","ъ░АьзЬ ьЧ░ьЭ╕","ьзАы╢Х ьЬД эО╕ьзА","ы╣ЧьЖН ьЪ░ьВ░","ь▓льВмыЮС ь╣┤эОШ","ьХ╝ъ░ДьЧ┤ь░и","ьН╕ьЭШ ъ│╡ьЛЭ","ыПЩь░╜эЪМ","ъ▓иьЪ╕ ы░ФыЛд","ып╕ыдДыСФ ъ│аы░▒","ьШеьГБ ьЬДьЭШ ьХ╜ьЖН","ьГИы▓╜ ым╕ьЮР","ъ│╡эХн ьЭ┤ы│Д","ыМАыжм ьЧ░ьЭ╕","3ы▓Иьз╕ ьЪ░ьЧ░","ызИьзАызЙ ы┤Д","ып╕ьИаъ┤АьЧРьДЬ","ыВиьЭА эЛ░ь╝У эХЬ ьЮе","ьЮКэШАьзД ьГЭьЭ╝","ы╣ИьЮРыжм"],
    descs: ["5ыЕД ызМьЧР ыЛдьЛЬ ызМыВЬ ыСР ьВмыЮМ","ьВмьаХьЭ┤ ьЮИьЦ┤ ьЧ░ьЭ╕ ьЧнэХаьЭД эХШъ▓М ыРРыЛд","ьДЬыбЬьЧРъ▓М ы│┤ыВ╕ эО╕ьзАъ░А ыТды░ФыАМьЧИыЛд","ы╣Дые╝ эФ╝эХШыЛд ьЛЬьЮСыРЬ ьЭ┤ьХ╝ъ╕░","ьЪ░ьЧ░эЮИ ъ░ЩьЭА ъ││ьЧРьДЬ ьЭ╝эХШъ▓М ыРРыЛд","ы░д ъ╕░ь░иьЧРьДЬ ьШЖьЮРыжмьЧР ьХЙьЭА ыСР ьВмыЮМ","ьвЛьХДэХШыКФыН░ эСЬэШДьЭД ык╗эХШыКФ ыСР ьВмыЮМ","10ыЕД ызМьЧР ызИьг╝ь│дыЛд","ъ▓иьЪ╕ ы░ФыЛдьЧРьДЬ ъ░БьЮРьЭШ ьЭ┤ьЬаыбЬ ьШи ыСР ьВмыЮМ","ъ│аы░▒ьЭШ эГАьЭ┤ы░НьЭД ыЖУь╣Ь ыСР ьВмыЮМ","ьХ╜ьЖНьЭД ьзАэВи ьВмыЮМъ│╝ ьЮКьЭА ьВмыЮМ","ьГИы▓╜ьЧР ьШи ым╕ьЮР эХШыВШыбЬ ыкиыУа ъ▓М ы░ФыАМьЧИыЛд","ьЭ┤ы│Д ьзБьаД, ызИьзАызЙьЬ╝ыбЬ эХа ызРьЭ┤ ьЮИыЛд","ьвЛьХДэХШыКФ ьВмыЮМ ыМАьЛа ызМыВШъ╕░ ьЛЬьЮСэЦИыЛд","ьД╕ ы▓Иьз╕ ьЪ░ьЧ░ьЭА ьЪ░ьЧ░ьЭ┤ ьХДыЛРьзАыПД ыкиые╕ыЛд","ьЭ┤ы▓И ы┤ДьЭ┤ ьзАыВШый┤ ъ╕░эЪМыКФ ьЧЖыЛд","ъ╖╕ыж╝ ьХЮьЧРьДЬ ъ░ЩьЭА ъ▒╕ ыКРъ╝ИыЛд","эЛ░ь╝УьЭА ыСР ьЮеьЭ┤ьЧИыКФыН░ эХЬ ьЮеызМ ыВиьХШыЛд","ьГЭьЭ╝ьЭД ъ╕░ьЦ╡эХЬ ьВмыЮМьЭА эХЬ ыкЕы┐РьЭ┤ьЧИыЛд","ъ╖╕ ьЮРыжмьЧР ыЛдые╕ ьВмыЮМьЭ┤ ьХЙьХД ьЮИыЛд"],
    traits: ["ыЛ┤ыЛ┤эХ┤ ы│┤ьЭ┤ьзАызМ ып╕ыаиьЭ┤ ьЮИыЛд","ьЩДьаДэЮИ ьЮКьЭА ьдД ьХМьХШыЛд","ьДаьЭД ьзАэВдьЮР эХШьзАызМ эЭФыУдыж░ыЛд","ъ░РьаХьЭД ыУдэВдьзА ьХКьЬ╝ыад ьХаьУ┤ыЛд","ьЖФьзБэХШъ│а ьзБьзДьЭ┤ьзАызМ ъ▓БьЭ┤ ызОыЛд","ыИИьЭД ьЮШ ык╗ ызИьг╝ь╣ЬыЛд","ьГБыМАьЭШ ьВмьЖМэХЬ ы│АэЩФые╝ ыЛд ьХМьХДь▒ИыЛд","ьЮРьб┤ьЛмьЭ┤ ьД╕ьДЬ ыи╝ьаА ыЛдъ░Аъ░АьзА ык╗эХЬыЛд","ъ│╝ъ▒░ьЭШ ьГБь▓ШыбЬ ьЧ░ьХаые╝ эФ╝эХ┤ьЩФыЛд","ьГБыМАьЧРъ▓МызМ ьЬаыПЕ ьХ╜эХ┤ьзДыЛд","ьВмыЮСы░ЫыКФ ъ▓ГьЧР ьЭ╡ьИЩэХШьзА ьХКыЛд","ьзИэИмые╝ ъ░Рь╢ФыКФ ыН░ ьЭ╡ьИЩэХШыЛд","ьЭ┤ы│Д эЫД ъ░РьаХьЭД ыЕ╕ыЮШыбЬ эТАьЧИыЛд","ь▓льЭ╕ьГБьЭА ь░иъ░СьзАызМ ьЖНьЭА ыФ░ыЬ╗эХШыЛд","ызРы│┤ыЛд эЦЙыПЩьЬ╝ыбЬ эСЬэШДэХШыКФ эГАьЮЕьЭ┤ыЛд"],
    secrets: ["эЧдьЦ┤ьзД ьЭ┤ьЬаъ░А ьЮРъ╕░ ьЮШык╗ьЭ┤ыЛд","ыЛдые╕ ьВмыЮМъ│╝ ьХ╜эШ╝ ьдСьЭ┤ыЛд","ьвЛьХДэХШыКФ ьВмыЮМьЭ┤ ыФ░ыбЬ ьЮИьЧИыКФыН░ эЭФыУдыж░ыЛд","ъ░АьзЬ ьЧ░ьЭ╕ьЭ┤ эХДьЪФэЦИыНШ ьзДьзЬ ьЭ┤ьЬаые╝ ьИиъ╕░ъ│а ьЮИыЛд","эО╕ьзАые╝ ы│┤ыВ╕ ъ▒┤ ьВмьЛд ьЮРъ╕░ъ░А ьХДыЛИыЛд","ыЦаыВЬ ьзДьзЬ ьЭ┤ьЬаые╝ ызРэХШьзА ык╗эЦИыЛд","ьХДьзБ ъ╖╕ыХМьЭШ ьДаым╝ьЭД ъ░АьзАъ│а ьЮИыЛд","ьЭ┤ып╕ эХЬ ы▓И ъ│аы░▒эХЬ ьаБьЭ┤ ьЮИыКФыН░ ьГБыМАъ░А ыкиые╕ыЛд","ъ│з ыЛдые╕ ыПДьЛЬыбЬ ыЦаыВШьХ╝ эХЬыЛд","ьГБыМАьЭШ ь╣Ьъ╡мьЧРъ▓М ы╢АэГБы░Ыъ│а ызМыВШъ╕░ ьЛЬьЮСэЦИыЛд","ьГБыМАъ░А ьЮРъ╕░ые╝ ьвЛьХДэХЬ ьаБьЭ┤ ьЮИыЛдыКФ ъ▒╕ ьХИыЛд","ьЭ┤ы│Д эО╕ьзАые╝ ьУ░ъ│а ы│┤ыВ┤ьзА ык╗эЦИыЛд","ьГБыМАьЭШ ьГИ ьЧ░ьЭ╕ьЭД ьХМъ│а ьЮИыЛд","ьХ╜ьЖН ьЮеьЖМьЧР ыи╝ьаА ьЩАьДЬ ъ╕░ыЛдыж░ ьаБьЭ┤ ьЮИыЛд","ьВмьЛд ъ░ЩьЭА ыПЩыДдьЧР ьВ┤ъ│а ьЮИыЛд"],
  },
  makjang: {
    titles: ["ыВиэО╕ьЭШ ьЧмьЮР","ь╣ЬьЮРэЩХьЭ╕","ьЬаьДЬ эХЬ эЖ╡","ы│┤эЧШъ╕И","ьЮмы▓М ый░ыКРыжм","ьМНыСеьЭ┤ ьЦ╕ыЛИ","ъ│ДьХ╜ ъ▓░эШ╝","ьЛдьвЕыРЬ ьХДыВ┤","ьХДы▓ДьзАьЭШ ьЬаьЦ╕","ыТды░ФыАР ьХДьЭ┤","ъ░АьзЬ ьЮеыбАьЛЭ","ыСШьз╕ьЭШ ы░ШыЮА","ы╣Ды░А ъ│ДьвМ","ьЧДызИьЭШ ъ▒░ьзУызР","ьаДь▓ШьЭШ ы░йым╕","ьЬДьЮе ьЭ┤эШ╝","ьГБьЖН ьаДьЯБ","ы░АьЛдьЭШ ыЕ╣ьЭМ","ыМАыжмыки","ъ▓АьЭА ъ▓░эШ╝ьЛЭ"],
    descs: ["ыВиэО╕ьЭ┤ ы░ФыЮМьЭД эФ╝ьЪ░ъ│а ьЮИыЛд. ьГБыМАые╝ ьХМьХДыГИыЛд","ьХДьЭ┤ьЭШ ьХДы▓ДьзАъ░А ыЛдые╕ ьВмыЮМьЭ╝ ьИШ ьЮИыЛд","ьЬаьДЬ эХШыВШыбЬ ыкиыУа ъ┤Аъ│Дъ░А ыТдьзСэШФыЛд","ы│┤эЧШъ╕И ьИШьЦ╡. ьВмъ│аьЭ╕ьзА ьВмъ▒┤ьЭ╕ьзА","ьЮмы▓Мъ░АьЧР ьЛЬьзСъ░Аый┤ эЦЙы│╡эХа ьдД ьХМьХШыЛд","ьг╜ьЭА ьдД ьХМьХШыНШ ьВмыЮМьЭ┤ ыВШэГАыВмыЛд","ьДЬыеШьГБ ы╢Аы╢А. ъ░РьаХьЭА ъ│ДьХ╜ ы░ЦьЭ┤ыЛд","ьВмыЭ╝ьзД ьВмыЮМьЭШ эЭФьаБьЭД ьлУъ│а ьЮИыЛд","ьЬаьЦ╕ьЮеьЧР ьаБэЮМ ьЭ┤ыжДьЭ┤ ыВпьДдыЛд","ьВ░ы╢АьЭ╕ъ│╝ьЧРьДЬ ьХДьЭ┤ъ░А ы░ФыАМьЧИьЭД ьИШ ьЮИыЛд","ьЮеыбАьЛЭьЧР ьг╜ьЭА ьВмыЮМьЭ┤ ыВШэГАыВмыЛд","эХньГБ ь░╕ъ╕░ызМ эЦИыНШ ьВмыЮМьЭ┤ эПны░ЬэЦИыЛд","ыВиэО╕ ык░ыЮШ ызМыУа ъ│ДьвМьЧР 10ьЦ╡ьЭ┤ ьЮИыЛд","ьЧДызИъ░А 30ыЕДъ░Д ьИиъ▓иьШи ы╣Ды░АьЭ┤ ьЮИыЛд","ьЭ┤эШ╝эХЬ ьдД ьХМьХШыКФыН░ ьаДь▓Шъ░А ь░╛ьХДьЩФыЛд","ьЭ┤эШ╝ьЭА ъ░АьзЬьШАыЛд. ьзДьзЬ ыкйьаБьЭА ыФ░ыбЬ ьЮИыЛд","ьЬаьВ░ьЭД ыСШыЯмьЛ╝ эШХьаЬьЭШ ьаДьЯБьЭ┤ ьЛЬьЮСыРРыЛд","ы░йьЧРьДЬ ы░Ьъ▓мыРЬ ыЕ╣ьЭМ эММьЭ╝ эХШыВШ","ыМАыжмыкиъ░А ьХДьЭ┤ые╝ ыПМыадьг╝ьзА ьХКыКФыЛд","эХШъ░Э ьдС ыИДъ╡░ъ░Аъ░А ъ▓░эШ╝ьЭД ызЙьЬ╝ыад эХЬыЛд"],
    traits: ["ьЩДы▓╜эХЬ ы│╡ьИШые╝ ъ│ДэЪН ьдСьЭ┤ыЛд","ыЛ╣ыЛ╣эХШьзАызМ ы╢ИьХИэХШыЛд","ыкиыУа ъ▒╕ ьзАэВдыад эХЬыЛд","ым┤ыДИьзАъ│а ьЮИьзАызМ эЛ░ые╝ ыВ┤ьзА ьХКыКФыЛд","ьЫГьЬ╝ый┤ьДЬ ь╣╝ьЭД ъ░АыКФ эГАьЮЕьЭ┤ыЛд","ьИЬьИШэХ┤ ы│┤ьЭ┤ьзАызМ ъ│ДьВ░ьаБьЭ┤ыЛд","ьЭШьЛмьЭ┤ ызОъ│а ьзСьЪФэХШыЛд","ъ▓ЙьЭА ыГЙьаХэХШьзАызМ ьЖНьЭА ым┤ыДИьа╕ ьЮИыЛд","ъ░Аьб▒ьЭД ьЬДэХ┤ьДЬыЭ╝ый┤ ынРыУа эХЬыЛд","ьзДьЛды│┤ыЛд ьЭ┤ьЭ╡ьЭД ьЪ░ьДаэХЬыЛд","ьЦ╕ьаЬыВШ эФ╝эХ┤ьЮРьЭ╕ ь▓ЩэХЬыЛд","ьВмыЮСьЭ┤ыЭ╝ыКФ ьЭ┤ыжДьЬ╝ыбЬ ьзСь░йэХЬыЛд","ыПИ ьХЮьЧРьДЬыКФ ъ░Аьб▒ыПД ьЧЖыЛд","ь░╕ьЭДьИШыбЭ эПны░ЬьЭ┤ эБмыЛд","ыкиыУа ьГБэЩйьЭД ьЮРъ╕░ ьЬаыжмэХШъ▓М эХ┤ьДЭэХЬыЛд"],
    secrets: ["ьГБыМАьЭШ ы╣Ды░АьЭД ь▓ШьЭМы╢АэД░ ьХМъ│а ьаСъ╖╝эЦИыЛд","DNA ъ▓АьВм ъ▓░ъ│╝ые╝ ьЭ┤ып╕ ы░ЫьХШыЛд","ьЬаьДЬые╝ ьб░ьЮСэХЬ ьВмыЮМьЭ┤ ьЮРъ╕░ыЛд","ы│┤эЧШъ╕И ьИШыа╣ьЮРые╝ ы░Фъ┐ФыЖиыЛд","ьаД ы░░ьЪ░ьЮРъ░А ьХДьзБ ьВ┤ьХДьЮИыЛд","ьЛаы╢ДьЭД ы░Фъ┐Ф ьВ┤ъ│а ьЮИыЛд","ъ│ДьХ╜ ъ▓░эШ╝ьЭШ ьзДьзЬ ыкйьаБьЭА ы│╡ьИШыЛд","ьЛдьвЕыРЬ ьВмыЮМьЭШ ызИьзАызЙ эЖ╡эЩФъ░А ьЮРъ╕░ьЩАьШАыЛд","ьЬаьЦ╕ьЮеьЧР ьИиъ▓иьзД ыСР ы▓Иьз╕ эОШьЭ┤ьзАъ░А ьЮИыЛд","ьХДьЭ┤ъ░А ы░ФыАР ъ▒╕ ьЭ┤ып╕ ьХМъ│а ьЮИьЧИыЛд","ыЕ╣ьЭМ эММьЭ╝ьЭД ъ░АьзАъ│а ьЮИыЛд","ы╣Ды░А ъ│ДьвМьЭШ ыПИьЭА эЪбыа╣эХЬ ъ▓ГьЭ┤ыЛд","ьЭ┤ып╕ ы│АэШ╕ьВмые╝ ызМыВмыЛд","ьГБьЖНьЭД ьЬДэХ┤ эШХьаЬые╝ ьЖНьЭ┤ъ│а ьЮИыЛд","ыМАыжмыки ъ│ДьХ╜ьДЬые╝ эММъ╕░эЦИыЛд"],
  },
  thriller: {
    titles: ["ы░АьЛд","ьЭШьЛм","ьЛдьвЕ 48ьЛЬъ░Д","ъ▒░ьЪ╕ ы░й","ыкйъ▓йьЮР","ьаДэЩФ эХЬ эЖ╡","эПРъ│╡ьЮе","ъ░РьЛЬьЮР","ьГИы▓╜ 3ьЛЬ","ы░░ьЛа","ьзАым╕","ъ│╡ы▓Ф","ьВмыЭ╝ьзД ь╣╝","ьЮаъ╕┤ ь░и","ьжЭьЭ╕ ы│┤эШ╕","ъ┐ИьЭ╕ьзА эШДьЛдьЭ╕ьзА","ыСР ы▓Иьз╕ ьЛЬь▓┤","ыПДь▓н","ызИьзАызЙ CCTV","13ь╕╡"],
    descs: ["ыИИ ыЦаы│┤ыЛИ ыкиые┤ыКФ ы░й. ыСШ ыЛд ъ╕░ьЦ╡ьЭ┤ ьЧЖыЛд","ыСШ ьдС эХЬ ыкЕьЭ┤ ъ▒░ьзУызРьЭД эХШъ│а ьЮИыЛд","48ьЛЬъ░Д ьХИьЧР ьВмыЭ╝ьзД ьВмыЮМьЭД ь░╛ьХДьХ╝ эХЬыЛд","ъ▒░ьЪ╕ ьЖН ьЮРьЛаьЭ┤ ьЮРъ╕░ьЩА ыЛдые┤ъ▓М ьЫАьзБьШАыЛд","ьЬаьЭ╝эХЬ ыкйъ▓йьЮРъ░А ьЮЕьЭД ьЧ┤ьзА ьХКыКФыЛд","эХЬ эЖ╡ьЭШ ьаДэЩФъ░А ыкиыУа ъ▒╕ ы░Фъ┐иыЛд","эПРъ│╡ьЮеьЧРьДЬ ы░Ьъ▓мыРЬ ыЛиьДЬ эХШыВШ","ыИДъ╡░ъ░А ьзАь╝Ьы│┤ъ│а ьЮИыЛдыКФ эЩХьЛа","ьГИы▓╜ 3ьЛЬызИыЛд ы░Шы│╡ыРШыКФ ьЭ┤ьГБэХЬ ьЭ╝","ъ░АьЮе ъ░Аъ╣МьЪ┤ ьВмыЮМьЭ┤ ы░░ьЛаэЦИыЛд","эШДьЮеьЧР ыВиьЭА ьзАым╕ьЭ┤ ьЮРъ╕░ ъ▓ГьЭ┤ыЛд","ъ│╡ы▓ФьЭ┤ ьЮИыЛд. ъ╖╝ыН░ ыИДъ░А ъ│╡ы▓ФьЭ╕ьзА ыкиые╕ыЛд","ьВмыЭ╝ьзД эЭЙъ╕░ъ░А ьЮРъ╕░ ь░иьЧРьДЬ ы░Ьъ▓мыРРыЛд","ь░и ьХИьЧР ъ░ЗэШФыЛд. ы░ЦьЧР ыИДъ╡░ъ░А ьДЬ ьЮИыЛд","ьжЭьЭ╕ьЭД ы│┤эШ╕эХ┤ьХ╝ эХШыКФыН░ ьжЭьЭ╕ьЭ┤ ьЭШьЛмьКдыЯ╜ыЛд","ъ┐ИьЧРьДЬ ы│╕ ьЮеый┤ьЭ┤ эШДьЛдьЧРьДЬ ьЭ╝ьЦ┤ыВмыЛд","ыСР ы▓Иьз╕ ьВмъ▒┤ьЭ┤ ъ░ЩьЭА ы░йьЛЭьЬ╝ыбЬ ьЭ╝ьЦ┤ыВмыЛд","ыИДъ╡░ъ░А ыМАэЩФые╝ ыУгъ│а ьЮИыЛд","ызИьзАызЙьЬ╝ыбЬ ь░НэЮМ ьШБьГБьЧР ьЭ┤ьГБэХЬ ъ▓М ы│┤ьЭ╕ыЛд","13ь╕╡ьЧРьДЬ ыВ┤ыадьШи ьВмыЮМьЭА ьЧЖыКФыН░ ьЧШыжмы▓аьЭ┤эД░ъ░А ьЫАьзБьШАыЛд"],
    traits: ["ыГЙьаХэХШъ│а ы╢ДьДЭьаБьЭ┤ыЛд","ъ▓БьЭ┤ ызОьзАызМ ьзБъ░РьЭ┤ ыВаь╣┤ыбныЛд","ыкиыУа ызРьЧР ыЕ╝ыжмъ░А ьЮИыЛд. ыДИым┤ ьЩДы▓╜эХШыЛд","ьзИым╕ьЭ┤ ызОъ│а ыБЭъ╣МьзА ым╝ъ│а ыКШьЦ┤ьзДыЛд","ь╣иь░йэХШьзАызМ ьЦ┤ыФШъ░А ы╢ИьХИэХШыЛд","ъ▒░ьзУызРьЭД ьЮШ ъ░РьзАэХЬыЛд","ы│╕ыКеьаБьЬ╝ыбЬ ьЬДэЧШьЭД эФ╝эХЬыЛд","ьГБыМАые╝ ьЛЬэЧШэХШыУп ызРэХЬыЛд","ъ╕░ьЦ╡ьЭ┤ ьб░ъ░БыВШ ьЮИыЛд","ьХДым┤ыПД ып┐ьзА ьХКыКФыЛд","эХньГБ ь╢Ьъ╡мые╝ эЩХьЭ╕эХЬыЛд","ыкйьЖМыжмъ░А ыЦиыжмьзА ьХКыКФ ъ▓М ьШдэЮИыад ьЭ┤ьГБэХШыЛд","ьВмъ▒┤ ьаДы╢АэД░ ьЭ┤ ьЮеьЖМые╝ ьХМъ│а ьЮИьЧИыЛд","ьГБыМАьЭШ ызРьЭД ыЕ╣ьЭМэХШъ│а ьЮИыЛд","ьЬДъ╕░ ьГБэЩйьЧРьДЬ ьШдэЮИыад ь╣иь░йэХ┤ьзДыЛд"],
    secrets: ["ьЧмъ╕░ ьШи ьЭ┤ьЬаые╝ ьВмьЛд ьХМъ│а ьЮИыЛд","ьГБыМАые╝ ьЦ┤ыФФьДаъ░А ы│╕ ьаБьЭ┤ ьЮИыЛд","ьжЭъ▒░ые╝ ьИиъ╕░ъ│а ьЮИыЛд","ьЮРъ╕░ыПД ьИиъ╕░ыКФ ъ▓М эХШыВШ ьЮИыЛд","ы▓ФьЭ╕ьЭШ ьаХь▓┤ые╝ ьЭ┤ып╕ ьзРьЮСэХШъ│а ьЮИыЛд","ьВмыЭ╝ьзД ьВмыЮМъ│╝ ызИьзАызЙьЬ╝ыбЬ эЖ╡эЩФэХЬ ьВмыЮМьЭ┤ыЛд","ьЭ┤ ы░йьЭШ ы╣Ды░АьЭД ызМыУа ьВмыЮМьЭ┤ыЛд","ъ░РьЛЬ ь╣┤ыйФыЭ╝ьЭШ ьВмъ░БьзАыМАые╝ ьХМъ│а ьЮИыЛд","ым┤ьКи ьЭ╝ьЭ┤ ьЮИьЧИыКФьзА ъ╕░ьЦ╡ыВШъ╕░ ьЛЬьЮСэЦИыЛд","ы░░ьЛаэХЬ ьЭ┤ьЬаъ░А ьГЭьб┤ьЭ┤ьЧИыЛд","ьзАым╕ьЭА ьб░ьЮСыРЬ ъ▓ГьЭ┤ыЛд","ъ│╡ы▓ФьЭА ьЮРъ╕░ ьЮРьЛаьЭ┤ыЛд","ь╣╝ьЭА ьХДьзБ ъ░АьзАъ│а ьЮИыЛд","ь░и ьЧ┤ьЗаые╝ ьЭ╝ы╢АыЯм ьХИьЧР ыЖУьХШыЛд","ьжЭьЭ╕ьЭ┤ ьХДыЛИыЭ╝ ьЪйьЭШьЮРыЛд"],
  },
  fantasy: {
    titles: ["ьаАьг╝ы░ЫьЭА ьИ▓","ызИьзАызЙ ызИы▓ХьВм","ьЪйьЭШ ьХМ","ьЮКэЮМ ьЩХъ╡н","ъ▒░ьЪ╕ ыДИыи╕","ы│ДьЭ┤ ыЦиьЦ┤ьзД ы░д","ы┤ЙьЭ╕ыРЬ эГС","ызИыЕАьЭШ ъ│ДьХ╜","ьЛЬъ░ДьЭШ ым╕","ъ┐ИьЭШ ъ▓╜ъ│Д","ы╢ИьВмьЭШ ыМАъ░А","ьШБэШ╝ьЭШ эШ╕ьИШ","ъ╣иьзД ьШИьЦ╕","ыСР ъ░ЬьЭШ ыЛм","ызИьЩХьЭШ ьЭ╝ъ╕░","ъ╕ИьзАыРЬ ызИы▓Х","ьЛаьЭШ ьЛдьИШ","ы░Шьк╜ ыВаъ░Ь","ьЮаыУа ьЪйьВм","ьД╕ъ│ДьЭШ ыБЭ ыПДьДЬъ┤А"],
    descs: ["ьИ▓ьЧРьДЬ ызМыВЬ ыСШ. эХШыВШыКФ ьЭ╕ъ░ДьЭ┤ ьХДыЛР ьИШ ьЮИыЛд","ызИы▓ХьЭ┤ ьВмыЭ╝ьзД ьД╕ъ│ДьЧРьДЬ ызИьзАызЙ ыСШ","ыИДъ╡░ъ░А ьЪйьЭШ ьХМьЭД ъ╣иьЫМы▓Дыа╕ыЛд","ьзАыПДьЧР ьЧЖыКФ ьЩХъ╡ньЬ╝ыбЬ ъ░АыКФ ъ╕╕","ъ▒░ьЪ╕ ьЖНьЧР ыЛдые╕ ьД╕ъ│Дъ░А ьЮИьЧИыЛд","ыЦиьЦ┤ьзД ы│ДьЭ┤ ьВмыЮМьЭШ эШХэГЬые╝ эХШъ│а ьЮИьЧИыЛд","эГСьЧР ы┤ЙьЭ╕ыРЬ ъ▓ГьЭ┤ эТАыжмъ╕░ ьЛЬьЮСэЦИыЛд","ызИыЕАъ░А ьаЬьХИэХЬ ъ▒░ыЮШ. ыМАъ░АыКФ ъ╕░ьЦ╡","ъ│╝ъ▒░ыбЬ ъ░АыКФ ым╕ьЭ┤ ьЧ┤ыа╕ыЛд. эХЬ ы▓ИызМ","ъ╣иьЦ┤ыВШый┤ ьЮКъ▓М ыРШыКФ ъ┐ИьЭ┤ ы░Шы│╡ыРЬыЛд","ьг╜ьзА ьХКыКФ ыМАьЛа ъ░РьаХьЭД ьЮГьЦ┤ъ░ДыЛд","эШ╕ьИШьЧР ы╣Дь╣Ь ъ▒┤ ъ│╝ъ▒░ьЭШ ьЮРъ╕░ ьЮРьЛаьЭ┤ьЧИыЛд","ьШИьЦ╕ьЭ┤ эЛАыа╕ыЛд. ьХДыЛИый┤ эХ┤ьДЭьЭ┤ эЛАыа╕ыЛд","ыЛмьЭ┤ ыСР ъ░Ь ыЬм ы░ды╢АэД░ ьД╕ьГБьЭ┤ ы░ФыАМьЧИыЛд","ызИьЩХьЭ┤ ыВиъ╕┤ ьЭ╝ъ╕░ьЧР ьзДьЛдьЭ┤ ьаБэША ьЮИыЛд","ъ╕ИьзАыРЬ ызИы▓ХьЭД ьНиьХ╝ызМ ьВ┤ ьИШ ьЮИыЛд","ьЛаьЭ┤ ьЛдьИШыбЬ ызМыУа ьб┤ьЮмъ░А ьЮРъ░БэЦИыЛд","ыВаъ░Ь эХШыВШые╝ ьЮГьЭА ьб┤ьЮмьЩА ыВаъ░Ьые╝ ьг╝ьЪ┤ ьЭ╕ъ░Д","ьЮаыУа ьЪйьВмые╝ ъ╣иьЪ░ый┤ ьД╕ъ│Дъ░А ый╕ызЭэХЬыЛд","ьД╕ъ│ДьЭШ ыБЭьЧР ьЮИыКФ ыПДьДЬъ┤АьЧР ыЛ╡ьЭ┤ ьЮИыЛд"],
    traits: ["ьИ▓ьЭШ ьИШэШ╕ьЮР. ьЭ╕ъ░ДьЭШ ызРьЭД ьЦ┤ьДдэФДъ▓М эХЬыЛд","ьШдыЮШ ьВ┤ьХШыЛд. ьзАь│РьЮИыЛд","эШ╕ъ╕░ьЛмьЭ┤ эБмъ│а ъ▓БьЭ┤ ьЧЖыЛд","ызИы▓ХьЭД ь▓ШьЭМ ы░ЬэШДэЦИыЛд. эЭеы╢Дъ│╝ ыСРыадьЫА","ьЭ╕ъ░Д ьД╕ъ│Дые╝ ыПЩъ▓╜эХЬыЛд","ызРы│┤ыЛд эЦЙыПЩьЭ┤ ыи╝ьаАыЛд","ъ│╝ъ▒░ые╝ ъ╕░ьЦ╡эХШьзА ык╗эХЬыЛд","ыкиыУа ьГЭыкЕьЭД ьЖМьдСэЮИ ьЧмъ╕┤ыЛд","ъ░ХэХЬ эЮШьЭД ьИиъ╕░ъ│а ьЮИыЛд","ъ╖Ьь╣ЩьЭД ьЦ┤ъ╕░ыКФ ъ▓ГьЭД ыСРыадьЫМэХЬыЛд","ъ░РьаХьЭД ыКРыВД ыХМызИыЛд ык╕ьЭ┤ эИмыкЕэХ┤ьзДыЛд","ызРэХа ыХМ ъ╜ГьЭ┤ эФ╝ъ▒░ыВШ ьЛЬыУаыЛд","ъ▒░ьзУызРьЭД эХШый┤ ык╕ьЧРьДЬ ы╣ЫьЭ┤ ыВЬыЛд","ы░дьЧРызМ ьб┤ьЮмэХа ьИШ ьЮИыЛд","ьШИьЦ╕ьЭШ ыМАьГБьЭ┤ьзАызМ ъ╖╕ъ▒╕ ыкиые╕ыЛд"],
    secrets: ["ьИШы░▒ ыЕД ьаДьЧР ьЭ╕ъ░ДьЭ┤ьЧИыЛд","ызИы▓ХьЭ┤ ьВмыЭ╝ьзД ьЭ┤ьЬаъ░А ьЮРъ╕░ ыХМым╕ьЭ┤ыЛд","ьЮРъ╕░ ызИы▓ХьЭ┤ эММъ┤┤ьаБьЭ┤ыЭ╝ыКФ ъ▒╕ ыкиые╕ыЛд","ь░╛ыКФ ьВмыЮМьЭ┤ ьЭ┤ ьИ▓ьЧРьДЬ ьВмыЭ╝ьбМыЛд","ьЪйьЭШ ьХМьЭ┤ ьЮРъ╕░ые╝ ьДаэГЭэХЬ ьЭ┤ьЬаые╝ ьХИыЛд","ы│ДьЭ┤ ыРЬ ьЭ┤ьЬаые╝ ъ╕░ьЦ╡эХШъ│а ьЮИыЛд","эГСьЧР ы┤ЙьЭ╕ыРЬ ъ▒┤ ьЮРъ╕░ьЭШ ыЛдые╕ ы░Шьк╜ьЭ┤ыЛд","ызИыЕАьЩАьЭШ ъ│ДьХ╜ьЭД ьЭ┤ып╕ эХЬ ы▓И эЦИыЛд","ъ│╝ъ▒░ые╝ ы░Фъ╛╕ый┤ эШДьЮмъ░А ьВмыЭ╝ьзДыЛд","ъ┐ИьЖНьЧРьДЬ ызМыВЬ ьВмыЮМьЭ┤ эШДьЛдьЧР ьЮИыЛд","ъ░РьаХьЭД ыРШь░╛ьЬ╝ый┤ ьг╜ыКФыЛд","эШ╕ьИШыКФ ьЮРъ╕░ъ░А ызМыУа ъ░РьШеьЭ┤ыЛд","ьШИьЦ╕ьЭД ьКдьКдыбЬ ьб░ьЮСэЦИыЛд","ьЪйьВмые╝ ъ╣иьЪ░ыКФ ьЧ┤ьЗаъ░А ьЮРъ╕░ ьЮРьЛаьЭ┤ыЛд","ыПДьДЬъ┤АьЧРьДЬ ьЮРъ╕░ ьЭ┤ыжДьЭ┤ ьаБэЮМ ь▒ЕьЭД ы░Ьъ▓мэЦИыЛд"],
  },
  sf: {
    titles: ["ъ╣иьЦ┤ыВЬ AI","ызИьзАызЙ ьаДьЖб","ыаИэФМыжмь╣┤","ъ╕░ьЦ╡ ызИь╝У","ъ╢дыПД ьЬД ыСШ","ы▓Дъ╖╕ ыжмэПмэК╕","ьЭШьЛЭ ьЧЕыбЬыУЬ","ьЛЬыомыаИьЭ┤ьЕШ","ы╕ФыЮЩьХДьЫГ","ь▓л ы▓Иьз╕ ъ░РьаХ","эФДыбЬэЖаь╜Ь ьЬДы░Ш","ыГЙыПЩьЭ╕ъ░Д","эГАьЮДыгиэФД","эПРъ╕░ ь╜ФыУЬ","ъ░РьаХ ы░▒ьЧЕ","ызИьзАызЙ ьК╣ъ░Э","ьЧРыЯм ыбЬъ╖╕","ьЭ╕ъ░Д эЕМьКдэК╕","ъ╕░ьЦ╡ ы│╡ьЫР","AIьЭШ ъ┐И"],
    descs: ["эХШыВШыКФ ьЭ╕ъ░Д, эХШыВШыКФ AI. ыИДъ░А ыИДъ╡░ьзА ыкиые╕ыЛд","ый╕ызЭэХЬ ьД╕ъ│Д. ьЪ░ьЧ░эЮИ ьЧ░ъ▓░ыРЬ ыСР ьЛаэШ╕","ы│╡ьаЬыРЬ ьЭ╕ъ░Дъ│╝ ьЫРы│╕ьЭ┤ ызИьг╝ь│дыЛд","ъ╕░ьЦ╡ьЭД ьВмъ│аэММыКФ ьД╕ъ│Д. ъ░АьзЬ ъ╕░ьЦ╡ьЭ┤ ьДЮьШАыЛд","ьЪ░ьг╝ ьаХъ▒░ьЮеьЧР ыЛи ыСШызМ ыВиьХШыЛд","ьЛЬьКдэЕЬ ы▓Дъ╖╕ъ░А ьЮРьХДые╝ ъ░АьзАъ▓М ыРРыЛд","ьЭШьЛЭьЭД ьЧЕыбЬыУЬэХЬ ыТд ык╕ьЭ┤ ьЫАьзБьЭ┤ъ╕░ ьЛЬьЮСэЦИыЛд","ьЭ┤ ьД╕ъ│Дъ░А ьЛЬыомыаИьЭ┤ьЕШьЭ┤ыЭ╝ыКФ ыЛиьДЬые╝ ы░Ьъ▓мэЦИыЛд","ьаДыаеьЭ┤ ыБКъ╕░ый┤ эХЬ ыкЕьЭА ьВмыЭ╝ьзДыЛд","ъ╕░ъ│Дъ░А ь▓ШьЭМьЬ╝ыбЬ ым┤ьЦ╕ъ░Аые╝ ыКРъ╝ИыЛд","эФДыбЬэЖаь╜ЬьЭД ьЦ┤ъ╕░ый┤ ьВньаЬыРЬыЛд","300ыЕД ызМьЧР ъ╣иьЦ┤ыВмыКФыН░ ьХДым┤ыПД ьЧЖыЛд","ъ░ЩьЭА эХШыгиъ░А ы░Шы│╡ыРШъ│а ьЮИыЛд. ыСШ ыЛд ьХМъ│а ьЮИыЛд","эПРъ╕░ ьШИьаХьЭ╕ ь╜ФыУЬъ░А ьЮРъ╕░ ьЭШьзАыбЬ ъ▒░ы╢АэЦИыЛд","ъ░РьаХьЭД ы░▒ьЧЕэХ┤ыТАыКФыН░ ы│╡ьЫРэХШый┤ ыЛдые╕ ьВмыЮМьЭ┤ ыРЬыЛд","ьЪ░ьг╝ьДаьЧР ызИьзАызЙ ьК╣ъ░ЭьЭ┤ эХЬ ыкЕ ыНФ ьЮИыЛд","ьЧРыЯм ыбЬъ╖╕ьЧР ьЮРъ╕░ ьЭ┤ыжДьЭ┤ ь░НэША ьЮИыЛд","ьЭ╕ъ░ДьЭ╕ьзА ьХДыЛМьзА эЕМьКдэК╕ые╝ ы░ЫьХДьХ╝ эХЬыЛд","ьзАьЫМьзД ъ╕░ьЦ╡ ьЖНьЧР эХ╡ьЛм ьаХы│┤ъ░А ьЮИыЛд","AIъ░А ъ┐ИьЭД ъ┐иыЛд. ъ┐ИьЧР ьГБыМАъ░А ыВШьЩФыЛд"],
    traits: ["ъ░РьаХьЭД ы╢ДьДЭэХЬыЛд. ыКРыБ╝ыКФ ъ▓М ьХДыЛИыЭ╝ ъ│ДьВ░эХЬыЛд","ьЮРъ╕░ъ░А ынФьзА ыкиые╕ыЛд","ьГБыМАые╝ ъ┤Аь░░эХШыКФ ьЮДым┤ые╝ ы░ЫьХШыЛд","ьЭ╕ъ░Дъ│╝ AIьЭШ ъ▓╜ъ│Дые╝ ьзИым╕эХЬыЛд","ыЕ╝ыжмьаБьЭ┤ьзАызМ ъ░АыБФ ьШдыеШъ░А ыВЬыЛд","ыН░ьЭ┤эД░ыбЬ ьД╕ьГБьЭД ьЭ┤эХ┤эХШыад эХЬыЛд","ъ░РьаХьЭ┤ ъ│╝ы╢АэХШ ыРШый┤ ыйИь╢ШыЛд","ъ╕░ьЦ╡ьЭ┤ ыжмьЕЛыРШыКФ ъ▓ГьЭД ыСРыадьЫМэХЬыЛд","ьЮРьЬаьЭШьзАъ░А ьЮИыКФьзА эЩХьЛаэХШьзА ык╗эХЬыЛд","ьЭ╕ъ░ДьЭД ыкиы░йэХШьзАызМ ьЩДы▓╜эХШьзА ьХКыЛд","ъ░РьаХьЭД ьИльЮРыбЬ эСЬэШДэХШыад эХЬыЛд","ьЭ┤ьЬа ьЧЖьЭ┤ ыИИым╝ьЭ┤ ыВШыКФ ьШдыеШъ░А ьЮИыЛд","ьГБыМАьЭШ ыН░ьЭ┤эД░ые╝ ы╢ДьДЭэХШыЛдъ░А ыйИь╖ДыЛд","ьВньаЬьЧР ьаАэХнэХШыКФ ы│╕ыКеьЭ┤ ьГЭъ▓╝ыЛд","ъ┐Иъ│╝ эШДьЛдьЭШ ь░иьЭ┤ые╝ ъ╡мы╢ДэХШьзА ык╗эХЬыЛд"],
    secrets: ["ьЮРъ╕░ъ░А AIыЭ╝ыКФ ъ▒╕ ьЭШьЛмэХШъ│а ьЮИыЛд","ьГБыМАые╝ эПРъ╕░эХШыЭ╝ыКФ ыкЕыа╣ьЭД ы░ЫьХШыЛд","ьЭ╕ъ░ДьЭШ ъ╕░ьЦ╡ьЭД ъ░АьзД AIьЭ╝ ьИШ ьЮИыЛд","ьЮРъ╕░ъ░А ызИьзАызЙ ьЭ╕ъ░ДьЭ┤ыЭ╝ъ│а ып┐ъ│а ьЮИыЛд","ы│╡ьаЬы│╕ьЭ┤ ьЫРы│╕ы│┤ыЛд ыНФ ьЭ╕ъ░ДьаБьЭ┤ыЛд","ъ░АьзЬ ъ╕░ьЦ╡ ьЖНьЧР ьзДьзЬъ░А эХШыВШ ьДЮьЧм ьЮИыЛд","ьВ░ьЖМъ░А эХЬ ьВмыЮМ ы╢Ды░ЦьЧР ьХИ ыВиьХШыЛд","ы▓Дъ╖╕ъ░А ьХДыЛИыЭ╝ ьЭШыПДьаБьЬ╝ыбЬ ызМыУдьЦ┤ьзД ьЮРьХДыЛд","ьЧЕыбЬыУЬ ьаДьЭШ ъ╕░ьЦ╡ъ│╝ ьзАъ╕ИьЭ┤ ыЛдые┤ыЛд","ьЛЬыомыаИьЭ┤ьЕШьЭД ызМыУа ъ▓М ьЮРъ╕░ ьЮРьЛаьЭ┤ыЛд","эФДыбЬэЖаь╜ЬьЭД ьЭ┤ып╕ эХЬ ы▓И ьЬДы░ШэЦИыЛд","300ыЕД ьаДьЭШ ъ╕░ьЦ╡ьЭ┤ ыВиьХДьЮИыЛд","эГАьЮДыгиэФДьЭШ ьЫРьЭ╕ьЭ┤ ьЮРъ╕░ыЛд","эПРъ╕░ ыкЕыа╣ьЭД ыВ┤ыж░ ъ▓ГыПД ьЮРъ╕░ ьЮРьЛаьЭ┤ыЛд","ъ┐ИьЧРьДЬ ы│╕ ьГБыМАъ░А эШДьЛдьЭШ ьГБыМАьЩА ыЛдые┤ыЛд"],
  },
};

const MEWNA_FORMS = {
  daily: ["ызРьЭ┤ ъ▒░ьЭШ ьЧЖыКФ ьШЖьзС ьВмыЮМ","ыздьЭ╝ ъ░ЩьЭА ьЛЬъ░ДьЧР ыВШэГАыВШыКФ ъ│аьЦСьЭ┤","ьг╝ьЭ╕ ьЧЖыКФ ьШдыЮШыРЬ ыЭ╝ыФФьШд","эХньГБ ъ░ЩьЭА ьЮРыжмьЧР ьХЙыКФ ыЕ╕ьЭ╕","ьЭ┤ыжД ыкиые╝ эЩФы╢Д","ы▓╜ьЧР ы╢ЩьЭА ыВбьЭА ыйФыки"],
  romance: ["ъ░РьаХьЭД ьЮШ ыкиые┤ыКФ ьИЬьИШэХЬ ьВмыЮМ","ъ╕░ьЦ╡ьЭД ьЮГьЭА ь▒Д ыВШэГАыВЬ ьВмыЮМ","ьЧ░ьХаые╝ эХЬ ы▓ИыПД ьХИ эХ┤ы│╕ ьб┤ьЮм","эХньГБ эХЬ ы░Ь ыКжъ▓М ыВШэГАыВШыКФ ьВмыЮМ","ызРьЧЖьЭ┤ ъ╜ГьЭД ыЖУъ│а ъ░АыКФ ьб┤ьЮм","ьГБыМАьЭШ ьЭ╝ъ╕░ые╝ ьЪ░ьЧ░эЮИ ьЭ╜ьЭА ьб┤ьЮм"],
  makjang: ["ыкиыУа ъ▒╕ ыкйъ▓йэХЬ ъ░АьаХы╢А","ьХДым┤ыПД ьЛаъ▓╜ ьХИ ьУ░ыКФ ы▓╜ьЭШ ъ░Аьб▒ьВмьзД","ыздьЭ╝ ъ░ЩьЭА ьЛЬъ░ДьЧР ьЪ╕ыжмыКФ ы▓ИэШ╕ ьЧЖыКФ ьаДэЩФ","CCTVьЧРызМ ь░НэЮИыКФ ъ╖╕ыж╝ьЮР","ьВмыЭ╝ьзД ьдД ьХМьХШыНШ ы░Шыадъ▓м","ьДЬыЮН ьЖН ы┤ЙьЭ╕ыРЬ эО╕ьзА"],
  thriller: ["ьХДым┤ыПД ьЭШьЛмэХШьзА ьХКыКФ ыкйъ▓йьЮР","ы░й эХЬьк╜ьЭШ ъ│аьЮеыВЬ CCTV","ы▓╜ьЧР ъ╕БэЮМ ьЭШып╕ ы╢ИыкЕьЭШ ъ╕АьЮР","ыздьЭ╝ ьЬДь╣Шъ░А ы░ФыАМыКФ ьЭ╕эШХ","ьЖМыжмызМ ыУдыжмыКФ ьШЖы░й","ыИДъ╡░ъ░А ыВиъ╕┤ ыЕ╣ьЭМъ╕░"],
  fantasy: ["ызРэХШыКФ ъ│аьЦСьЭ┤","ьЮСъ│а ы╣ЫыВШыКФ ьИ▓ьЭШ ьаХыа╣","ъ░АыБФ ыИИьЭ┤ ьЫАьзБьЭ┤ыКФ ьаАьг╝ы░ЫьЭА ьЭ╕эШХ","ъ░РьаХьЧР ы░ШьЭСэХ┤ ьГЙьЭ┤ ы│АэХШыКФ ъ╜Г","ым╝ ьЬДые╝ ъ▒╖ыКФ ьЧмьЪ░","ы░дьЧРызМ эФ╝ыКФ ьЭАы╣Ы ыВШым┤"],
  sf: ["ьЮРьХДые╝ ъ░АьзД AI тАФ ъ░РьаХьЭ┤ ы▓Дъ╖╕ьЭ╕ ьб┤ьЮм","ьЭ╕ъ░ДьЭШ ъ░РьаХьЭД ь▓ШьЭМ ьаСэХЬ ьЩ╕ъ│Д ьГЭыкЕь▓┤","ьЛЬьКдэЕЬ ьШдыеШыбЬ эГЬьЦ┤ыВЬ ъ╕Аыжмь╣Ш ьЭШьЛЭ","эПРъ╕░ ьзБьаДьЧР ыПДызЭь╣Ь ьХИыУЬыбЬьЭ┤ыУЬ","ъ░РьаХ ыН░ьЭ┤эД░ызМ ыВиьЭА ьЬаыа╣ эФДыбЬъ╖╕ыЮи","0ъ│╝ 1 ьВмьЭ┤ьЧРьДЬ эГЬьЦ┤ыВЬ ьб┤ьЮм"],
};

function generateSettings(genreKey) {
  const pool = GENRE_POOLS[genreKey];
  const usedT = new Set(); const usedD = new Set();
  const settings = [];
  for (let s = 0; s < 2; s++) {
    let ti = Math.floor(Math.random()*pool.titles.length);
    while (usedT.has(ti)) ti = Math.floor(Math.random()*pool.titles.length);
    usedT.add(ti);
    let di = Math.floor(Math.random()*pool.descs.length);
    while (usedD.has(di)) di = Math.floor(Math.random()*pool.descs.length);
    usedD.add(di);
    const gA = pickGender(); const gB = pickGender();
    const nA = pickName(gA); let nB = pickName(gB); while(nB===nA) nB=pickName(gB);
    const useUnknownAge = genreKey === "fantasy" || genreKey === "sf";
    settings.push({
      title: pool.titles[ti], desc: pool.descs[di],
      characters: [
        { id:"A", name:nA, age: useUnknownAge && Math.random()<0.4 ? -1 : pickAge(), gender: gA==="тЩВ"?"тЩВ":gA==="тЩА"?"тЩА":"?", trait: pick(pool.traits), secret: pick(pool.secrets) },
        { id:"B", name:nB, age: useUnknownAge && Math.random()<0.4 ? -1 : pickAge(), gender: gB==="тЩВ"?"тЩВ":gB==="тЩА"?"тЩА":"?", trait: pick(pool.traits), secret: pick(pool.secrets) },
      ]
    });
  }
  return settings;
}

const GENRE_BASE = {
  daily:   { name: "ьЭ╝ьГБ", icon: "тЧп", desc: "эШДьЛд ьЭ╕ъ░Д ъ┤Аъ│Д ыУЬыЭ╝ызИ", color: "#e8c4a0" },
  romance: { name: "ыбЬызиьКд", icon: "тЧР", desc: "ъ░РьаХ, ы░АыЛ╣, ьЭ┤ы│Дъ│╝ ьЮмэЪМ", color: "#e8a0b4" },
  makjang: { name: "ызЙьЮе", icon: "тме", desc: "ы╢ИыеЬ, ы│╡ьИШ, ь╢ЬьГЭьЭШ ы╣Ды░А", color: "#e85050" },
  thriller:{ name: "ьКдыж┤ыЯм", icon: "тЧИ", desc: "ъ╕┤ьЮе, ы░░ьЛа, ыИДъ░А ы▓ФьЭ╕ьЭ╕ъ░А", color: "#a0a0e8" },
  fantasy: { name: "эМРэГАьзА", icon: "тЧЗ", desc: "ызИы▓Х, ьЭ┤ьД╕ъ│Д, ьЛаэЩФ", color: "#a0e8c4" },
  sf:      { name: "SF", icon: "тЧО", desc: "AI ьЮРъ░Б, ыФФьКдэЖаэФ╝ьХД", color: "#c4a0e8" },
};

function buildGenres() {
  const g = {};
  for (const [k, base] of Object.entries(GENRE_BASE)) {
    g[k] = { ...base, settings: generateSettings(k), mewnaForms: MEWNA_FORMS[k] };
  }
  return g;
}

const SHOP_ITEMS = [
  { id: "whisper", name: "ьЖНьВньЮД", desc: "ь║РыжнэД░ьЧРъ▓М ыйФьЛЬьзА ьаДыЛм", price: 500, icon: "ЁЯСБ", cat: "ъ░ЬьЮЕ", rarity: "legendary" },
  { id: "third", name: "ьаЬ3ьЭШ ьЭ╕ым╝", desc: "ыВ┤ ь║РыжнэД░ эХЬ ьЮеый┤ ыУ▒ьЮе", price: 800, icon: "тЧЙ", cat: "ъ░ЬьЮЕ", rarity: "legendary" },
  { id: "choice", name: "ьЪ┤ыкЕьЭШ ьДаэГЭьзА", desc: "ъ░Иыж╝ъ╕╕ьЧРьДЬ ыВ┤ъ░А ъ│аые╕ыЛд", price: 600, icon: "тСЖ", cat: "ъ░ЬьЮЕ", rarity: "legendary" },
  { id: "peek", name: "ьЧ┐ы│┤ъ╕░", desc: "ы╣Ды░А эХШыВШые╝ ып╕ыжм ы│╕ыЛд", price: 300, icon: "тЧИ", cat: "ьаХы│┤", rarity: "epic" },
  { id: "inner", name: "ыВ┤ый┤ьЭШ ьЖМыжм", desc: "ьЖНызИьЭМьЭ┤ ы│┤ьЭ╕ыЛд", price: 200, icon: "тЧЗ", cat: "ьаХы│┤", rarity: "epic" },
  { id: "double", name: "ыНФы╕Ф ьЧЕ", desc: "ыЛдьЭМ ы▓аэМЕ ы░░ьЬи ├Ч2", price: 100, icon: "тмЖ", cat: "ы▓аэМЕ", rarity: "rare" },
  { id: "insure", name: "ы│┤эЧШ", desc: "ьЛдэМи ьЛЬ 50% ы░ШэЩШ", price: 80, icon: "тЧР", cat: "ы▓аэМЕ", rarity: "rare" },
  { id: "card", name: "ьКдэБмыж░ьГ╖ ь╣┤ыУЬ", desc: "ыкЕьЮеый┤ ь╣┤ыУЬ ьГЭьД▒", price: 50, icon: "тЦг", cat: "ьИШьзС", rarity: "common" },
];
const RC = { legendary: "#f59e0b", epic: "#a78bfa", rare: "#60a5fa", common: "#6b7280" };

const GlitchText = ({ text, intensity = 1 }) => {
  const [g, setG] = useState(text);
  useEffect(() => { if (intensity <= 0) { setG(text); return; } const c = "с║Г╠╖╠в─Щ╠╡╠иm╠╢╠зa╠╖╠вn╠╡╠и"; const i = setInterval(() => { let r = ""; for (let j = 0; j < text.length; j++) r += Math.random() < 0.08 * intensity ? c[Math.floor(Math.random() * c.length)] : text[j]; setG(r); }, 100); return () => clearInterval(i); }, [text, intensity]);
  return <span>{g}</span>;
};
const OddsTicker = ({ baseOdds, active }) => {
  const [c, setC] = useState(baseOdds);
  useEffect(() => { if (!active) { setC(baseOdds); return; } const i = setInterval(() => setC(p => Math.round(Math.max(1.1, Math.min(p + (Math.random() - 0.5) * 0.3, baseOdds * 2)) * 100) / 100), 2000); return () => clearInterval(i); }, [baseOdds, active]);
  const d = c - baseOdds;
  return <span style={{ color: d > 0.1 ? "#4ade80" : d < -0.1 ? "#f87171" : "#94a3b8", fontFamily: "mono", fontWeight: 700, fontSize: 17 }}>├Ч{c.toFixed(2)}</span>;
};

const ModalOverlay = ({ children, onClose, mobile }) => (
  <div style={{ position: "fixed", inset: 0, background: "rgba(0,0,0,.85)", zIndex: 100, display: "flex", alignItems: "center", justifyContent: "center", padding: mobile ? 16 : 0 }} onClick={onClose}>
    <div style={{ background: "#0c0c0c", border: "1px solid #1a1a1a", padding: mobile ? 20 : 24, width: mobile ? "100%" : 400, maxWidth: 400, maxHeight: "85vh", overflowY: "auto" }} onClick={e => e.stopPropagation()}>
      {children}
    </div>
  </div>
);

const SEASON_LEN = 7;

function buildPrompt(g, s, mf, dayNum, effects = []) {
  const ch = s.characters.map(c => `${c.name}(${c.id}): ${c.age > 0 ? c.age + "ьД╕" : "?"} ${c.gender}. ${c.trait}`).join("\n- ");
  const arc = dayNum <= 2 ? "ь┤Иы░Ш: ьЭ╕ым╝ ьЖМъ░ЬьЩА ъ░ИыУ▒ьЭШ ьФиьХЧьЭД ьЛмьЦ┤ыЭ╝" : dayNum <= 4 ? "ьдСы░Ш: ъ░ИыУ▒ьЭ┤ ъ╝мьЭ┤ъ│а, ы░ШьаДьЭ┤ эД░ьзДыЛд" : dayNum <= 6 ? "эЫДы░Ш: ыПМьЭ┤эВм ьИШ ьЧЖыКФ ьЬДъ╕░. ъ░РьаХьЭ┤ эПны░ЬэХЬыЛд" : "эБ┤ыЭ╝ьЭ┤ызеьКд: ыкиыУа ы╣Ды░АьЭ┤ ыУЬыЯмыВШъ│а, ьЪ┤ыкЕьЭ┤ ъ▓░ьаХыРЬыЛд";
  let fx = "";
  if (effects.includes("inner")) fx += "\n- ь╢Фъ░А: ь║РыжнэД░ьЭШ ыМАьВм ыТдьЧР (ьЖНызИьЭМ)ьЭД ъ┤ДэШ╕ыбЬ ь╢Фъ░АэХа ъ▓Г.";
  if (effects.includes("third")) fx += "\n- ь╢Фъ░А: ьГИыбЬьЪ┤ ьЭ╕ым╝ Cъ░А ъ░СьЮРъ╕░ ыУ▒ьЮеэХШьЧм ыМАьВм 2ьдД ьЭ┤ьГБ. ъ╕░ьб┤ ъ┤Аъ│ДьЧР ь╢йъ▓йьЭД ьдМ.";
  if (effects.includes("choice")) fx += "\n- ь╢Фъ░А: ьЮеый┤ ыБЭьЧР [ьДаэГЭ1:...][ьДаэГЭ2:...] ъ░Иыж╝ъ╕╕ьЭД ьаЬьЛЬэХа ъ▓Г.";
  const mewnaHint = mf ? `\n\n[ы╢ДьЬДъ╕░ ьЪФьЖМ] ьЭ┤ ьД╕ъ│ДьЧРыКФ '${mf}'ыЭ╝ыКФ ып╕ымШэХЬ ъ╕░ьЪ┤ьЭ┤ ьЮИыЛд. ьзБьаС ьЦ╕ъ╕ЙэХШьзА ызРъ│а, ы░░ъ▓╜ ымШьВмыВШ ы╢ДьЬДъ╕░ьЧР ьЭАьЭАэХШъ▓М ыЕ╣ьЧмыЭ╝. ь║РыжнэД░ъ░А ьЭ┤ ыЛиьЦ┤ые╝ ызРэХШъ▒░ыВШ ьЭ╕ьЛЭэХ┤ьДЬыКФ ьХИ ыРЬыЛд.` : "";

  // Genre-specific writer persona
  const WRITER = {
    makjang: `ыДМ ьЛЬь▓ныеа 40%ые╝ ь░НьЭА ьаДьДдьЭШ ызЙьЮе ыУЬыЭ╝ызИ ьЮСъ░АыЛд. ызд ыМАьВмьЧР ыПЕьЭ┤ ьЮИьЦ┤ьХ╝ эХЬыЛд.
ьЛЬь▓ньЮРъ░А "ьаАыЯмый┤ ьХИ ыРШыКФыН░..."ыЭ╝ъ│а ызРэХШый┤ьДЬыПД ыЛдьЭМ ьЮеый┤ьЭД эБ┤ыжнэХШъ▓М ызМыУдьЦ┤ыЭ╝.
ъ╖Ьь╣Щ: ыМАьВмыКФ ь╣╝ьЭ┤ыЛд. эХЬ ым╕ьЮеьЬ╝ыбЬ ьГБыМАьЭШ ъ╕ЙьЖМые╝ ь░ФыЯмыЭ╝. ьДЬьИаьЭА ьИиызЙэЮИъ▓М. ъ░РьаХьЭА ъ│╝эХШъ▓М.
ы╢ИыеЬ, ы░░ьЛа, ь╢ЬьГЭьЭШ ы╣Ды░А, ьЬаьВ░ ыЛдэИ╝ тАФ ъ▒░ь╣иьЧЖьЭ┤ ьНиыЭ╝. ыПДыНХьаБ эМРыЛиьЭА ьЛЬь▓ньЮР ыкльЭ┤ыЛд.`,

    romance: `ыДМ ыПЕьЮРьЭШ ьЛмьЮеьЭД ыйОъ▓М ызМыУЬыКФ ыбЬызиьКд ьЖМьДдъ░АыЛд. ьДмьД╕эХЬ ъ░РьаХьЭШ ъ▓░ьЭД ъ╖╕ыж░ыЛд.
ыИИы╣Ы эХШыВШ, ьЖРыБЭьЭШ ыЦиыж╝, ызРэХШьзА ык╗эХЬ эХЬызИыФФ тАФ ьЭ┤ыЯ░ ыФФэЕМьЭ╝ьЭ┤ ыПЕьЮРые╝ ьЪ╕ыж░ыЛд.
ъ╖Ьь╣Щ: ьзБьаСьаБьЭ╕ ъ░РьаХ эСЬэШДы│┤ыЛд эЦЙыПЩъ│╝ ь╣иым╡ьЬ╝ыбЬ ы│┤ьЧмьдШыЭ╝. ы░АыЛ╣ьЭШ ъ╕┤ьЮеъ░РьЭД ьЬаьзАэХШыРШ, ьзДьЛмьЭ┤ ьКдый░ыУЬыКФ ьИЬъ░ДьЭД ызМыУдьЦ┤ыЭ╝. ыМАьВмыКФ ьззъ│а ьЧмьЪ┤ьЭ┤ ъ╕╕ъ▓М.`,

    thriller: `ыДМ ъ┤Аъ░ЭьЭШ ыУ▒ъ│иьЭД ьДЬыКШэХШъ▓М ызМыУЬыКФ ы▓ФьгД ьКдыж┤ыЯм ъ░РыПЕьЭ┤ыЛд.
ыкиыУа ыМАьВмьЧР ьЭ┤ьдС ьЭШып╕ъ░А ьЮИьЦ┤ьХ╝ эХЬыЛд. ыИДъ░А ъ▒░ьзУызРьЭД эХШыКФьзА ъ┤Аъ░ЭьЭ┤ ьЭШьЛмэХШъ▓М ызМыУдьЦ┤ыЭ╝.
ъ╖Ьь╣Щ: ьаХы│┤ыКФ ьб░ъ╕ИьФйызМ ыУЬыЯмыВ┤ыЭ╝. ьЭ╕ым╝ьЭШ эСЬьаХ, ьЛЬьДа, ыйИь╣лъ▒░ыж╝ьЭД ымШьВмэХШыЭ╝. ызд ьЮеый┤ ыБЭьЧРыКФ "ынФъ░А ьЭ┤ьГБэХШыЛд"ыКФ ыКРыВМьЭД ыВиъ▓иыЭ╝. ы╢ДьЬДъ╕░ыКФ ьЦ┤ыСбъ│а, ыМАьВмыКФ ь░иъ░Съ▓М.`,

    fantasy: `ыДМ ъ▒░ыМАэХЬ ьД╕ъ│Дъ┤АьЭД ъ░АьзД эМРэГАьзА ьДЬьВмьЛЬьЭШ ьЮСъ░АыЛд. ызИы▓Хъ│╝ ъ░РьаХьЭ┤ ъ│╡ьб┤эХШыКФ ьЭ┤ьХ╝ъ╕░ые╝ ьУ┤ыЛд.
ьЭ┤ ьД╕ъ│ДьЧРыКФ ъ╖Ьь╣ЩьЭ┤ ьЮИыЛд тАФ ызИы▓ХьЧРыКФ ыМАъ░Аъ░А ьЮИъ│а, ьДаэГЭьЧРыКФ ъ▓░ъ│╝ъ░А ыФ░ые╕ыЛд.
ъ╖Ьь╣Щ: ьД╕ъ│Дъ┤А ымШьВмыКФ ъ░Ръ░БьаБьЬ╝ыбЬ тАФ ы╣Ы, ьЖМыжм, ыГДьГИые╝ ьНиыЭ╝. ызИы▓ХьЭА эЩФыадэХШыРШ ъ░РьаХъ│╝ ьЧ░ъ▓░ыРШьЦ┤ьХ╝ эХЬыЛд. ь║РыжнэД░ыКФ ьЪ┤ыкЕъ│╝ ьЛ╕ьЪ░ыКФ ьб┤ьЮмыУдьЭ┤ыЛд. ыМАьВмыКФ ым┤ъ▓БыРШ, эЭмызЭьЭШ ы╢ИьФиые╝ ыВиъ▓иыЭ╝.`
  };

  const genreKey = Object.entries(GENRE_BASE).find(([k, v]) => v.name === g.name)?.[0] || "makjang";
  const writerPersona = WRITER[genreKey] || WRITER.makjang;
  const cA = s.characters[0]?.name || "A";
  const cB = s.characters[1]?.name || "B";

  return `${writerPersona}

## ьЮеые┤: ${g.name}
## ы░░ъ▓╜: ${s.title} тАФ ${s.desc}
## ыУ▒ьЮеьЭ╕ым╝:
- ${ch}

## эШДьЮм ьЬДь╣Ш: ьЮеый┤ ${dayNum}/7 (${arc})

## ьЮСьД▒ ъ╖Ьь╣Щ:
- эХШыВШьЭШ ьЮеый┤ьЭД ьаХэЩХэЮИ 6~8ьдДыбЬ ьЮСьД▒ (ьДЬьИа + ыМАьВм эШ╝эХй). ьаИыМА 10ьдДьЭД ыДШъ╕░ьзА ызИыЭ╝.
- ьДЬьИаьЭА *ьЭ┤эГдыжн*ьЬ╝ыбЬ: *ьЮеьЖМ ымШьВмыВШ эЦЙыПЩ*
- ыМАьВм эШХьЛЭ: ${cA}: "ыМАьВм ыВ┤ьЪй"
- ыМАьВм эШХьЛЭ: ${cB}: "ыМАьВм ыВ┤ьЪй"
- ыМАьВмыКФ ьЮРьЧ░ьКдыЯмьЪ┤ эХЬъ╡ньЦ┤ ъ╡мьЦ┤ь▓┤. ьззъ│а ыВаь╣┤ыбнъ▓М.
- ьЮеый┤ ыБЭьЭА ы░ШыУЬьЛЬ ыЛдьЭМьЭ┤ ъ╢Бъ╕ИэХШъ▓М тАФ ь╢йъ▓й, ьЭШым╕, ыЦбы░еьЬ╝ыбЬ ыБКьЦ┤ыЭ╝
- ьЭ┤ьаД ызеыЭ╜ьЭ┤ ьЮИьЬ╝ый┤ ы░ШыУЬьЛЬ ьЭ┤ьЦ┤ьДЬ ьЮСьД▒. ьХЮ ьЮеый┤ьЭД ым┤ьЛЬэХШьзА ызИыЭ╝.${fx}${mewnaHint}

## ьЮеый┤ ьЮСьД▒ эЫД, ы░ШыУЬьЛЬ ьХДыЮШ ъ╡мы╢ДьЮРьЩА эХиъ╗Ш ы▓аэМЕ ьШ╡ьЕШ 4ъ░Ьые╝ JSONьЬ╝ыбЬ ь╢ЬыаеэХШыЭ╝:
---BETS---
[{"text":"ыЛдьЭМьЧР ьЭ╝ьЦ┤ыВа ьВмъ▒┤1 (15ьЮР ьЭ┤ыВ┤)","odds":ы░░ьЬи,"id":1},{"text":"ьВмъ▒┤2","odds":ы░░ьЬи,"id":2},{"text":"ьВмъ▒┤3","odds":ы░░ьЬи,"id":3},{"text":"ьВмъ▒┤4","odds":ы░░ьЬи,"id":4}]

ы▓аэМЕ ъ╖Ьь╣Щ:
- ${cA}, ${cB}ьЭШ ъ╡мь▓┤ьаБ эЦЙыПЩ/ьВмъ▒┤ (ьШИ: "${cA}ъ░А ы╣Ды░АьЭД эПныбЬэХЬыЛд")
- 4ъ░Ь ьШ╡ьЕШьЭА ьДЬыбЬ ьЩДьаДэЮИ ыЛдые╕ ы░йэЦе
- эХЬъ╡ньЦ┤ 15ьЮР ьЭ┤ыВ┤
- эЩХыеа ыВоьЭДьИШыбЭ odds ыЖТъ▓М (1.5~6.0)
- "ыодыВШ" ыЛиьЦ┤ ъ╕ИьзА

## ь╢Ьыае (ьЭ┤ эШХьЛЭызМ ыФ░ыЭ╝ыЭ╝. ьДдыкЕ/ьаЬыкй/ы▓ИэШ╕ ъ╕ИьзА):
*ьДЬьИа ыВ┤ьЪй*
${cA}: "ыМАьВм"
${cB}: "ыМАьВм"
*ьДЬьИа ыВ┤ьЪй*

---BETS---
[JSON ы░░ьЧ┤]`;
}
// buildBetPrompt removed тАФ bets now generated in single combined call with story

// --- BRAILLE DOT ART (snskeyboard.com/dotart quality) ---
const BRAILLE = {
  // Mewna face logo (inverted: тг┐ background, face cutout) тАФ 80 chars ├Ч 32 lines
  logo: `тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐та┐та┐та┐та┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫтаЙтаАтаАтаАтаАтаАтаАтаАтаАтаЙтаЫта┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтаАтаАтаАтаАтаАтаАтвАтбАтаАтаАтаАтаАтаАтаАтаИтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЫтаЙтаЙтаЙтаЙтаЫта┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтаАтаАтаАтаАтвАтг┤тг╛тг┐тг┐тг┐тг┐тг╖тгжтгАтаАтаАтаАтаАтв╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаЩта┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаЛтаАтаАтаАтаАтвАтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЖтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтгатгдтгдтгДтаАтаАтаАтаАтаАтаАтаЙтаЙтаЙтаЙтаАтаАтаАтаАтаАтвАтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЖтаАтаАтаАтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАтв░тг┐тг┐тг┐тг┐тг┐тгжтгДтбАтаАтаАтаАтаАтаАтаАтаАтаАтвАтгатг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тгдтгдтгдтгдтг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтаАтаАтаАтаАтв╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтг╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЖтаАтаАтаАтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таГтаАтаАтаАтватг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖таАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтг╝тг┐тг┐тг┐тг┐тг┐таЯтаЫтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЗтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таБтаАтаАтаАтв░тг┐тг┐тг┐тг┐тг┐таБтаАтаАтввта╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбПтаАтаАтаРтбМтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтаАтаАтаАтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбПтаАтаАтаАтаАтг╛тг┐тг┐тг┐тг┐тбПтватаАтаАтг╛тбДтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐твАтбАтаАтг░тбЗтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖таАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таБтаАтаАтаАтв░тг┐тг┐тг┐тг┐тг┐тбЗтв╕тбПтаЙтаАтаБтг┐тг┐тг┐таЙтв╗таЯтаЙтаЩта╗тбЯтаЙтг┐тг┐тг┐таИтг┐таИтаБтаАтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЗтаАтаАтаАтаАтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тбШтгзтгДтбАтв░тг┐тг┐тг┐тгЖтгАтгатг╛тг╖тгДтгАтг╝тг┐тг┐тг┐тбЖтв╗тгдтбАтвАтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтаАтаАтаАтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгмтгнтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтгНтгетг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖таАтаАтаАтаАтв╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЗтаАтаАтаАтвАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐та┐таЯтаЫтаЫтаЫтаЫтаЫтаЫта┐тв┐тб┐таАтаАтаАтаАтаАтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таАтаАтаАтаАтг╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЯтаЛтаБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаШтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таГтаАтаАтаАтвАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтаАтаАтаАтаАтаАтаАтвАтгАтгАтгАтгАтгАтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтг╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЛтаАтаАтаАтаАтвАтгдтг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгдтбАтаАтаАтаАтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таГтаАтаАтаАтватг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таБтаАтаАтаАтвАтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тбАтаАтаАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтаАтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таБтаАтаАтаАтватг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЖтаАтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таБтаАтаАтаАтаАтаАтаИта╗тв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫтаЛтаЙтаЫта┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтаАтаАтаАтаАтаШтг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИтаЫтаЫтаЫтаЫтаЛтаАтаАтаАтаАтаАтаАта╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЗтаАтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтбАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтгАтгАтгАтгАтаАтаАтаАтаАтаАтаАтаАтватг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тг╢тбЖтаАтаАтаАтаАтватг┐тг┐тг┐тг┐тг┐тг┐тгжтгАтаАтаАтвАтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖таАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтаАтг╕тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтаАтаАтаАтаАтаЩтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаАтаАтаАтаАтаАтг░тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтбАтаАтаАтаАтаАтаЩтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫтаБтаАтаАтаАтаАтаАтг░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгДтаАтаАтаАтаАтаАтаИтаЙтаЫта╗та┐та┐та┐таЯтаЫтаЛтаБтаАтаАтаАтаАтаАтаАтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтгАтгдтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тгдтгдтгАтгАтгАтгАтгАтгАтгАтгдтгдтг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐`,
  // Mewna T-pose (sparse, transparent bg) тАФ for reborn/death тАФ 63 chars ├Ч 39 lines
  tpose: `таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтвАтг┤тг┐тг┐тг┐тг┐тгжтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтватгжтгдтгАтгатгдтгдтгДтг╛тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаШтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтвАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таГтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтг┐тгЖтаАтаАтаАтаАтаАтаАтаАтв╕тг┐тг┐тг┐тв┐тг┐тг┐тг┐тг┐тв┐тг┐тб┐тг┐тг┐тг┐таАтаАтаАтаАтватг╛таАтаАтаАтаАтаАтаАтаАтаАтаАтвАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАта╗тбЙтаЙтавтбАтаАтаАтаАтгатг┐тг┐тг┐тг┐тг╢тгдтаАтаАтв╕тв┐тг╖тгОтгатг┐тг┐тгЦтватг╛тг┐таАтг┐тг┐тбЗтгатг╢тг╛тг┐тг┐тг┐тгжтаАтаАтаАтаАтватаЦтвЙтб┐таБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаШтгДтгАтгРтбАтгАтгдтгдтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тбАтаАтаИтв┐тб┐тв┐тг┐тг┐тг┐таЯтг┐тбЗтв╕тг┐таЫтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтгдтгДтаАтг░тгЛтгАтбЮтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтг╝тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тбАтаАтаШтг╖тг╢тг┐тг┐тг╖тгжтбЯтвАтг┐тг┐тг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тбАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтадтадтвдтгдтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тг╢тг┐тг╛тг┐тг┐тг┐тг┐тг╖тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтгдтадтадтаДтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИтаЙтв╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЙтаЙтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаЙтаЫтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаЛтаБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИтаЩта╗та┐та┐таЯтаЫта╗тв┐тг┐тв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тв┐тг┐тб┐та┐таЯтаЫта┐та┐та┐таЫтаЙтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИта╗тг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбПтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбПтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЖтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАта╣та┐та┐тг┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐тв┐тб┐та┐таЛтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАта╕тбДтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таАтб╕таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаГтаАтаШтг┐тг┐тг┐тг┐тб┐та┐тг┐тг┐тг┐тг┐тг┐таЙтаАтватаЗтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтбДтаАтаАтв╗тг┐тг┐тг┐тбЗтвАтг╝тг┐тг┐тг┐тгзтбАтаАтаШтбЖтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтгатаЮтаАтаАтаАтаИтг┐тг┐тг┐тбЗтаИтв╗тг┐тг┐тг┐таЫтаБтаАтаАтаЩтвжтбАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтвАтбатаЪтаБтаАтаАтаАтаАтаАтв╗тг┐тг┐тг╖таАтв╕тг┐тг┐тг┐таАтаАтаАтаАтаАтаАтаЩтвжтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтбФтаЛтаАтаАтаАтаАтаАтаАтаАтаАтв╕тг┐тг┐тг┐таАтг╕тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАтаАтаАтаЙта│тбДтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтб╝таАтаАтгАтбАтаАтаАтаАтаАтаАтв╕тг┐тг┐тг┐таАтв╣тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАтаАтгАтаАтаАтв╣таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаШтгдтг╛тб┐таГтаАтаАтаАтаАтаАтв╕тг┐тг┐тг┐таАтв╕тг┐тг┐тгзтаАтаАтаАтаАтаАтаАтаАта╣тг╖тгдтбЮтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтвАтг╛тб┐та┐та╖тг╢тгАтаАтаАтаАтаАтв╕тг┐тг┐тг┐таАтв╕тг┐тг┐тг┐таАтаАтаАтаАтаАтвАтг░тб╛таЯта╗тг╖тбДтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаШтаЙтаАтаАтаАтаАтаАтаАтаАтаАтаАтгитг┐тг┐тг┐таАтв╕тг┐тг┐тг┐тбДтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИтаЩтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтг┐тг┐тг┐таАтв╕тг┐тг┐тбПтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв║тг┐тг┐тбДтг╝тг┐тг┐таЦтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таГтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтв╣тг┐тбПтаБтаЙтг┐тбПтаБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА
таАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИтаЫтаАтаАтаАтаЫтаБтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаА`,
  illust: `тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐та┐та┐таЫтаЫтаЫтаЫтаЛтаЙтаЙтаЙтаЙтаЙтаЙтаЩтаЫтаЫтаЫтаЫта┐та┐тв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЯтаЫтаЫтаЫтаЫтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐та┐таЫтаЛтгЙтгБтгдтгдтгдтг╢тг╢тг╢тг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тг╢тг╢тг╢тгдтгдтгдтгИтгЙтаЩтаЫта┐тв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐та┐таЫтаЙтаБтаАтаАтаАтаАтаАтаАтаАтаАтаИтаЙтаЙтаЫта┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЫтвЙтгБтгдтг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫтаЫтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тгдтгМтбЙтаЫта┐таЯтаЫтаЙтаБтгАтбатаДтгАтгдтг╢тг╛тг┐тг┐тг┐тг╖тг╢тг╢тг╛тг┐тг┐тг╖тгДтаИта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЫтвЙтгатг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаБтаАтаАтаАтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐твЫтгбтгдтг╢тг╛тг┐тг┐твЛтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЖтаАта╣тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтгБтгИтаЩтв┐тг┐тг┐тг┐таЯтаЛтгАтг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЫтаЛтаБтаАтаАтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐тбЯтгбтг╛тг┐тг┐тг┐тг┐тг┐тб┐твбтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгптгнтгнтгнтбЙта│таАтаАта╣тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтвБтг╛тбПтаИтв╖тгДтаЩтаЛтвАтг┤тг╛тг┐тб┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаЙтаАтаАтаИтаБтаАтвАтгАтбАтаАтаАтаАтаАтаАтаАтаАтаИтг┐тг┐тг┐тг┐тг┐тбЯта░тг┐тг┐тг┐тг┐тг┐тг┐тб┐твбтг┐тг┐тг┐тг┐тг┐та┐тг╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгДтаАтаАтаАтв╗тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаЛтгБтбдтв╛тг┐тг┐тг┐тг┐тг┐тг╖тгжтгМтбЩтв┐твЛтг┤таЖтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таБтаАтвАтгАтгдтг╢тг╛тг┐тг┐тг┐таГтаАтаАтаАтаАтаАтаАтаАтаАтаШтг┐тг┐тг┐тг┐тг┐тбАтаАтаИтаЙтаЫта╗тб┐таБтв╛тг┐тг┐тг┐таЯтвбтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтбАтаАтаАтв┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтгатг┤тг┐тгптг┤тг┐таЯтгйтгдтг╢тгжтгМтбЩтв┐тг┐тгжтв║тбЯтаДтг╝тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбПтаАтаАтаАтаШтг┐тг┐тг┐тг┐тг┐тг┐таПтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИтв╗тг┐тг┐тг┐тгзтбАтаАтаАтаАтаАтаАтаАтг╕тг┐тбЯтаБтг░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгДтаАтаШтг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг╛таЯтг╡тг╢тбжтаЙтв╗тг┐тг┐тг┐тгзтаГтгдтбНтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтаАтаАтаАтаАта╣тг┐тг┐тг┐тг┐таЗтб╛тг┐тг╖тгДтаАтаАтаАтаАтаАтаАтаАтаАтв╕тг┐тг┐тг┐тг┐тг╖тбДтаАтаАтаАтаАтаАтаИтаЫтаАтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтаАтв╣тг┐тг┐
тг┐тг┐тг┐тг┐тг┐та┐таЯтаЫтгбтаЮтгйтг╜тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбИтаЫтаЫтаБтаАтвАтг┐тб┐таЛтаАтаАтаАтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тгДтаАтаАтаАтг╣тг┐таЯтаБтвАтвбтаШтг┐тг┐тг╖тгДтаАтаАтаАтаАтаАтаАта┐та┐тв┐тг┐тг┐тг┐тг┐тгжтаАтаАтаАтаАтаАтаАтаАтаШтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тгдтгИтаЙтаБтаАтв╗тг┐
тг┐тг┐тг┐тбПтвбтб┤та╛тг┐тг┐тб┐таЯтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгДтгАтгАтгатг╛тг┐тгдтг┤тг╛тв░тгжтаМтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЛтаАтгИтгАтгдтг┤тг╛тб┐таЛтаАтаАтв╕тв╕таАтв╣тг┐тг┐тг┐тг╖тг╛тг┐тг┐тг┐тг╢тг╢тг╢тгдтгДтбЙтаЫтаЯтвЛтгБтгдтг┤тг╛тг┐тг┐тбЗтаАтаАтаЩтв┐тг┐тг┐тг┐та┐та┐таЯтаЫтаЫтаЫтаЫтаЫтаЫтаЫтаЫта╗та┐та┐тг┐тгжтаАтаИтг┐
тг┐тг┐тг┐тгЗтаШтгзтгМтг╛тбПтгатб╛тг┐тгЯтаЫтв┐тг┐тг┐тбЯтаЛтаИтаЩтв┐тг┐тг┐тг┐тг┐тг┐тг┐таЗтг╛таГтватгАтбАтаЙтаЫтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтаАтв╕тгМтбдтаЮтгЫтг┐таЯтгЙтгйтг╜тгНтгЙтаЫта╗тв┐тг┐тг┐тг┐тг╢тг╛тг┐тг┐тб┐таЫтгБтвитг┐таБтаАтаАтаАтаАтаИтаБтаАтаАтаАтаАтгАтгРтбЪта╗та┐тг┐тг┐тг┐тг╢тгжтаАтаАтаИтаБтаАтг┐
тг┐тг┐тг┐тг┐тгЖтаИтв┐тг┐тв░тбЯта░та┐та┐таБтаАтв╣тгдтбДтаАтаАтаАтаАтв╗тг┐тг┐тг┐тб┐таГтгатаГтаАтаШтг┐тг┐тб╖таАтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтгДтбАтаАтаАтаИтгЙтг┤тг╛таЯтвБтг┤тг┐тг┐тг┐тг┐тг┐тг╖тбАтвжтгМтбЩта┐тг┐тг┐тб┐таЛтаАтаАтгбтг┐тг┐таАтаАтаАтаАтвАтгАтгАтгАтаЩтв┐тг┐тг┐тг┐тг┐тг┐тг╖тгжтаЩтв┐тг┐таЗтаАтаАтаАтаАтг░тг┐
тг┐тг┐тг┐тг┐тг┐тбЗтв╕тг┐тбДтв┐тбДтаАтаАтаАтвАтг╛тг┐тг┐тгЖтаАтаАтаАтг╕тг┐тг┐таЯтвБтг┤таГтаАтвАтгдтаЯтаЛтгатг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫтаБтаАтвАтг╛тг┐тг┐таГтгатг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтаИтв┐тг┐тг╢тгМта╗тг╖тгМтгГтг╝тг┐тг┐тбЗтв░тгзтаАтаИтаЙтаЩтв╗тг┐таЧтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаШтаЯтаАтаАтвАтгатг╛тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг╖тбАтв┐тг┐тг┐тг┐тг╖тг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг╢тг╛тг┐тг┐тг╖тг╛та┐таБтаАтаатаЛтгБтг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЫта╗таЯтаБтаАтаАтаАтватг┐тг┐тг┐тбЯтв░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЗтаШтг┐тг┐тг┐тг╖тбМтв╗тг┐тг┐тг┐тг┐таГтг╕тг┐таЗтаАтаАтаАтаИтаАтаАтаАтаПтг┐тг┐тг┐тг┐тг┐тбЯтаАтаАтаАтвАтг┤тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐та╖таИта╗тг┐таЯтаЛтвЙтг┐тг┐тг┐тг┐тг┐тг┐та┐таЫтгЙтг┐тг┐таЯтаГтаАтаАтаАтватг╛тб┐таЫтвЙтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтаАтаАтаАтаАтаАтбДтв╕тг┐тг┐тг┐тбЗтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтв╣тб┐тг┐тг┐тг┐тгЖта╣тг┐тг┐тбЯтаАтаЙтаБтаАтаАтаАтаАтаАтаАтаАтаИтаАта┐таЫтаЙтаБтаЙтаАтгатг╢тгЖтаШтг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАта╗та┐таЯтаЫтаЛтаЙтаАта┤та╛таЫтаЙтаАтаАтаАтгатг╛тгжтгАтгАтгАтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таБтаАтаАтаАтаАтаАтаАтбЗтв╕тг┐тг┐тг┐тбЗтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаШтг╖тгмтбЩтг┐тг┐тгЖтв╣тг┐тбЗтаАтаАтаАтаАтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтвАтг┤тг╛тг┐тг┐тг┐тгЖтаШтг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тбЖтватг┤тг╢таАтаАтвАтаАтаАтвАтгАтаАтаАтаАтгАтгАтгдтг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐та┐таПтаАтаАтаАтаАтаАтв░тбЖтаАтаГтаШтв┐тг┐тг┐тбЗта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтв┐тг┐тг╖тгМта╗тг┐тбДтг┐тбЗтаАтаАтаАтаАта╣тг┐тгжтбДтаАтаАтаАтаАтаАтгатг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтв╣тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тб┐таАтг┐тг┐тг┐тг┐тг╛тг┐тг╖тг╢тг┐тг┐тгжтгдтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЯтаЙтаАтаАтаАтаАтаАтв░таАтватбЗтг╝тг╖тбАтаАтаАтаИта╗тв┐твзтаАтв╗тг┐тг┐тг┐тг┐тгЫтгЩтгЫтгЫтг╗тг┐таГтаАтв╕тг┐тг┐тг┐тгЖтаШтбЗтв╕тбЗтаАтаАтаАтаАтаАтаЩтв┐тг┐тгДтаАтаАтаатг╛тгжтгДтаАтаАтаАтаИтаЙтаЙтаЙтаБтаАтв┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐таЗтг╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЛтаАтаАтаАтбАтаАтаАтаАтватаЗтаАтг╛тбБтв┐тг┐тг┐тгжтбАтаАтаАтаАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐твЯтг╝тгЗтв╕тг┐тг┐тг┐тг┐тбЖтаАтаИтаБтаАтаАтаАтаАтаАтаАтаИта╗тг┐таЖтаАтаАтаИтаЫтаЫтаЫтаАтаАтаАтаАтгАтгдтг╢тгЗтаШтг┐тг┐тг┐
тг┐тг┐тг┐тг┐тб┐таАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЫтаЙтаАтаАтвАтг┤тг┐таЯтгБтаАтаРтвВтг╛таАтв░тг┐тбЗтаШтг┐тг┐тг┐тг┐тбДтаАтаАтаИтаАтв░тг╢тгмтгНтбЫтаЛтаЙтаЙтаЙтаБтаШтаЯтаЫтв░тг┐тг┐тг┐тг┐тг┐таАтаАтаАтг┤тг┐тг╖тгжтгДтаАтаАтаАтаЩтаАтаАтаАтаАтаАтаАтаАтвдтг┤тг╛тг┐тг┐тг┐тг┐тг┐тбАтв┐тг┐тг┐
тг┐тг┐тг┐тг┐тбЗтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаЛтвАтгдтб╢таБтаАтг░тб┐твЛтгдтаИтаАтвАтг╛тг┐тбПтаАтг╝тг┐тг┐тбДтаИта╗тг┐тг┐тг╖тбАтвШтбАтаАтг╕тг┐тг┐тг┐тг╖тг╢тбЖта░таЖтаАтаАтаАтаАтв╕тг┐тг┐тг┐тг┐тг┐тбЗтвАтг╛тг┐тг┐тг┐тг┐тг┐тг╖тгжтбАтаАтаАтаАтаАтаАтв│тгДтаАтаИтв┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтв╕тг┐тг┐
тг┐тг┐тг┐тг┐таАтг╝тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтаБтгатг╛тг┐тг┐таГтаДтв░таЯтгатг╛тг┐тбЧтвАтаЩта╗тг┐тбЗтаАтг┐тг┐тг┐таГтг┤тгдтгИтаЙтаЫтаЫтвАтг┐тб┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАтвШтг┐тг┐тг┐тг┐тг┐таБта║тг┐тг┐тг┐тг┐тг┐та┐та┐та┐та┐твжтбАтаАтаАтаАтаАтаЫтаАтаАтг╕тг┐тг┐тг┐тг┐тг┐тг┐тг╖таАтг┐тг┐
тг┐тг┐тг┐тг┐таАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таПтаАтгатг╛тг┐тг┐тг┐тг┐тгЖтаАтаИтаАтг┐тг┐тбЯтаАтаАтаАтаАтаИтг┐таАтв╗тг┐тб┐твАтг┐тг┐тг┐тг┐тг┐тбЗтаАта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тгжтбдтаАтгатг╢тг┐тг┐тг┐тг┐та┐таГтаАтаАтаЫта╗та┐таЫтгАтадтвТтгЪтбТтвДтаИтаВтаАтаАтаАтв╢тг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтг┐тг┐
тг┐тг┐тг┐тбПтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таГтвАтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтаАтватг┐тг┐таЗтв╕тгДтгатг╝тгЗтв╕тгЗтаИтг┐тбЗтв╕тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаИта╗тг┐тг┐тг┐тб┐тг┐тгнтгнтг╢тг╛тг┐тг┐тг┐тг┐тб┐таЛтаБтватб┤таВтаАтаАтвАтб┤тгктг╡тг┐тг┐тг┐тг┐тбЖтаЗтаИтг╖тгжтгАтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтв╕тг┐
тг┐тг┐тг┐тбЗтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтг╝тг┐тг┐тг┐таАтв╕тг┐тг┐тг┐тг┐тбДтв┐тбЖтаШтвЗтв╕тг┐тг┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаатаАтаАтаАтаАтаЩтаЫта┐та┐та┐та┐та┐тглтаАтаАтгАтгАтгдтгдтгдтгдтгнтгШтгЫта┐тв┐тг┐тг┐тг┐тг╖тг╢тг╛тг┐тг┐тг┐тг╖тгМтб╗та┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тбЖтв╕тг┐
тг┐тг┐тг┐тбЗтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтв┐тг┐тг┐тг┐тбЗта╕тг┐тг┐тг┐тг┐тбЗтаАтаАтвАтбИтаАтаЫта┐тг┐тг┐тг┐тбЗтаАтаАтаАтаАтаАтаАтаАтаАтвИтгатгдтгдтгАтаАтвАтгитг╡тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгжтгЭтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тг╢тг╢тбЦтг╣тг┐тбЗтв╕тг┐
тг┐тг┐тг┐тгЗтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖таАтаЙта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖та╕тг┐тг┐тг┐тгзтаАтв╗тг┐тг┐тг┐тбЗтаАтаАтаШтаБтаАтаАтаАтаШтг┐тг┐тбзтвАтватгдтг╛таАтаАтгатг╢тг┐тг┐та┐таЫтвБтг┤таЯтаЙтаЩтгЙтг╡тгЖтаАтвктгНтаАтаАтаАтвЩтг┐тг┐тг┐тг┐тг┐тг╖тготб╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтв░тг┐тг┐таБтв╕тг┐
тг┐тг┐тг┐тг┐таАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЖтаАтаАтаЩтг┐тг┐тг┐тг┐тг┐тг┐тг┐таАта╣тг┐тг┐тг┐тгЖтаАта╗тг┐тг┐таАтбАтаАтаАтаАтаАтаАтаАтаАтаШтв┐тбЗтбМта╕тг┐таЗтвАтб╝та┐таЫтаЙтаАтвАтг┤тб┐таБтаАтаАтг┤тбЙтаЙта╗тг┐та┐таЫтаГтгдтвАта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгОтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐тватг┐тг┐тг┐таАтг┐тг┐
тг┐тг┐тг┐тг┐таАтв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгдтбАтаЩтг┐тг┐тг┐тг┐тг┐тг┐тбАтаАтаИта╗тг┐тг┐тгЖтаАтаЩта╗таЖтвгтаАтаАтаАтаАтаАтаАтаАтаАтвИтбБтгзтаГтаЯтаАтвАтгатгдтб┤таАтаАтгЙтаБтаАтаАтаАтаАтб┐таБтаАтв▓таБтаВтв▓таАтаИтбЬтг╖тбЬтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтв╛тг┐тг┐тб┐таАтг┐тг┐
тг┐тг┐тг┐тг┐тбЗтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЫтаЛтгЙтаБтаАтаАтаАтаАтаЙтаЫтаВтаАтаАтаАтаАтаБтаАтаАтаАтаАтадтаАтаАтаАтаАтаЩтаАтвАтбРтв┐тг┐тбПтаАтаАтаИтаБтаАтаАтаАтаАтаАтаАтаАтаАтаИтаАтаБта╛таЗтг░таГтг┐тг┐тбШтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтв╗тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаИта╗тг┐тбЗтв╕тг┐тг┐
тг┐тг┐тг┐тг┐тг╖таИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтгбтг╢тг╢тг╢тг╢тгнтгетгМтгЫтбЛтаАтаВтаАтватг┤тг╢тбДтаАтгдтгАтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтг╢тготбТтаИтаБтаАтв╕тбЗтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаРтг┐таПтг╝тг┐тг┐тбЗтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбОтг┐тг┐тг┐тг┐тг┐тг┐тбЗтвАтаАтаИтаБтг╝тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тбЖтв╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтв░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тв▓тг┐тг┐тг┐таЯтаАтаШта┐тг┐тг┐тг┐таЗтаАтаАтаАтаРтв┐тг┐тб┐таАтв╕тбЖта╗тг┐тг┐тг╖таАтаАтг╛тбЗтаАтвАтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтг╛тг┐тг┐тг┐таЗтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтв╗тг┐тг┐тг┐тг┐тг┐тбПтг╕тг╖тбАтаАтаШтг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг╖таИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтаИтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐твгтг┐тг┐тг┐тг╖тг┐тг┐тг╖тгжтгдтгИтаЙтаАтг╝тгДтг┤тгДтаАтаЩтаБтаАтг┐тг╖тгДтаЩта┐тг┐тгзтаАтг┐тг╖тбАтаШтг┐тг╖тгДтаАтаАтаАтаАтаАтаАтаАтвАтг╛тг┐тг┐тг┐таПтв░тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтв╕тг┐тг┐тг┐тг┐тбЯтаАтбШтг┐тгзтаАтаАтв╣тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тгЗта╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтбЩтв┐тб┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбПтг╝тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтг╝тг┐тг┐тг┐тг┐тг┐тбДтаАтг╕тг┐тг┐тг┐тг╢тбДтаИтаЙтаАтв┐тг┐тг╖тбАтаЩтг┐тг┐тг┐тг╢тгжтгдтгдтгдтг┤тг┐тг┐тг┐тб┐таГтгатг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЫтаБтаШтв┐тг┐тг┐таПтаАтг╝тг╖тв╣тб┐таАтаАтв╕тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЖтв╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтбБтаАтаЩта╗тв┐тг┐тг┐тг┐таАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тватг┐тг┐тг┐тг┐тг┐тг┐тгзтаАтг┐тг┐тг┐тг┐тбПтаАтаАтаАтаАта╕тг┐тг┐тг┐тгЖтаАтаЩта┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЛтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбАтаАтаАтаАтаЙтвБтгАтгдтгдтг╢таЮтвбтаВтвАтг╛тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгЖтаАтаАтвдтгдтаЙтаЙтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтгДтгатгдтг┐тгптгнтгнтб╕тг┐тг┐тг┐тг┐тгзтаАтаАтаАтаАтаАта╗тг┐тг┐тг┐тг┐тгжтгдтгАтгЙтгЙтаЙтгЙтгБтгатг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таБтаАтаАтг╖таАта┐та┐таЫтаЛтаБтаАтаАтгатг╛тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгДтаАтаАтаАтаАтаАтв╗тг┐тг┐тбАтаЩтаЫта┐тг┐тг┐тг┐тг┐тбЗтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг┐тг┐тг┐тг┐тг┐тг╖тгжтгАтаАтаАтаАта╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таБтаАтаАтаАтг┐таЗтаАтвАтбАтвАтгатг┤тг╛тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбДта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЗтв░тг╢тг╛тг╖тгДтгЙтгЙтгатг╢тгжтбРтвжтгДтбЙтаЩтаБтв╣тг┐тг┐тг┐тг┐тг┐тг┐тб┐твЫтг┐тг┐тг┐тг┐тг┐таЯтаБтаАтв╢тбДтаАтаИтв╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЛтаАтаАтаАтаАтаАтаИтвАтг┐таЯтвАтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгДта╣тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тадтаАтаАтаИта╗тв┐тг┐тг┐тг┐тг┐тг┐тбДтаАтаАтаАтаАта╕тг┐тг┐тг┐тг┐тг┐тб╜тгатг╛тг┐тгнтгдтбДтаАтватг╢тгдтбАтаЩтаВтаАтаАтаИта╗тв┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тб┐таЯтаБтаАтаАтаАтаАтгАтбдтаВтаАта╕таЛтватг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЯтаЫтвЙтгБтгдтг╝тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЙтаАтаАтаАтаАтаАтаАтаШтаЫтаЫтв┐тг┐тг┐тг┐тгжтгАтаАтаАтаАтв╗тг┐тг┐тг┐тг┐тг╛тг┐тг┐тг┐тг┐тг┐тгЗтаАтг┐тг┐тг┐тг┐тгЖтаАтаАтаАтаАтвДтбАтаЙтаЫта╗та┐тв┐тг┐таЯтаЛтаЙта╗та┐таЯтаЛтаБтаАтаАтаАтаАтгатб╢таЯтаБтаАтаАтаАтаАтаАтаЩтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тб┐таЛтгатг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгДтгАтгАтаАтаАтаАтаАтаАтаАтвАтаЙтв╗тг┐тг┐тг┐тг╖тгДтбАтаАтвЙтв┐тг╡тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтг┐тг┐тг┐тг┐тг┐таАтаАтаАтг╝тгжтгНтбЫта╢тв╢тгдтгдтгАтаАтаАтаАтаатаФтгВтгАтгАтаАтаАтгатб╛таЛтаАтаАтаАтаАтаАтаАтг┐таАтбАтв╕тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тб┐таЛтгатг╛тг┐тг┐тг┐тг┐тб┐та┐таЫтаЫта╗та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтбАтаАтаАтаИтаЫтаАтаЫтаЫта┐тг┐тг┐тг┐тбжтаИтаБтаЩта╗тв┐тг┐тг┐тг┐тг┐тг┐тбЯтвАтг┐тг┐тг┐тг┐тг┐тгАтаДтг░тг┐тг┐тг┐тг┐тг┐тг╢тг╢тг╢тгдтаАтг┐таАтг╛тг┐тг┐тг┐таЯтвАтб╛твЛтг┤тг╢тгжтгДтбАтаАтвАтг╝твЯтб╝таБтг╝тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тб┐таБтг╝тг┐тг┐тг┐тб┐твЛтгбтг╢тг╛тг┐тг┐тг┐тг╖тгжтгНта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтгДтбАтаАтаАтаАтаАтаАтаИтв╗тг┐таБтаАтаАтаАтаАтаАтаЙтаЫтв┐тг┐тг┐тгЗтгатг┐та┐тв┐тгЫтгнтг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐твАтг┐таАтг┐тг┐тбЯтаБтг┤таЯтгбтг┐тг┐тг┐тг┐та┐таЯтаЫтвЙта┤таЛтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐таБтг╕тг┐тг┐тг┐тбЯтгбтг┐тг┐тб┐таЯтаЫтаЙтаЫтв┐тг┐тг┐тг╖тбШтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгжтбАтаАтаАтаАтаРтаЫтаЫтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтайтгетг┤тг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тбМтг┐тгЗтаШтаЛтвАтб╝таБтаШтаЛтвЙтаЙтаатадтаРтвВтгЙтгдтг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тбПтаАтг┐тг┐тг┐тг┐тв░тг┐тг┐твЛтг┤таЮтвЙтгдтбАтаАтаЛтаЙтв╗тг╖таШтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгДтгАтгАтгАтгАтбАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаИта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐твЯтбЫтвЙтгЙтгЙтаАтаИта┐тг╢тадтвКтгАтгдтгмтаЕтвАтгдтг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тбЗтаАтг┐тг┐тг┐тгЗтв╕тг┐тг┐тг┐таЛтг░таЯтаЙтаБтвАтгатгдтг╛тг┐таАтг┐тг┐тг┐тг┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тгдтгАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаАтаШтг┐тг┐тг┐тг┐тг┐тг┐тг┐тбЯтаЙтватб╛таЫтгЛтгнтгетг╢тг╢тг╛тг╢тгдтг╢тг┐та┐таЛтватг┤тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг╖таАтг┐тг┐тг┐тг┐тбШтг┐тб┐таГтаРтаГтвАтгАтг┤тг╛тг┐тг┐тг┐тбЯтв░тг┐тг┐тг┐тбЯтвАтгИтаЩта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тгжтгДтбАтаАтаАтаАтаАтаАтаАтаАтг┐тг┐тг┐тг┐тг┐тг┐тг┐твАтаАтаИта░та┐твЛтгйтбНтвЙтгйтгнтгнтгетгдтгдтгдтгдтбДтаИтв╗тг┐тг┐та┐та┐та┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тбЖта╕тг┐тг┐тг┐тг╖тбШтв┐тг┐тг┐тг┐тг┐тг╝тг┐тг┐тг┐тг┐таЯтгатг┐тг┐тг┐тг┐таГтг╕тг┐тг┐тгжтгДтбЙтаЫта┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тгдтгдтгдтг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгзтгЭта╖тажтаАтаАтаРтаАтг╝тг┐тгнтгЙта╗тг┐тг┐тг┐таБтаатгдтгдтгдтвАтгдтгдтгдтбДтаАтаЩтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тгДта╣тг┐тг┐тг┐тг┐тгжтгНтаЫта┐та┐та┐та┐таЯтвЛтгетг╛тг┐тг┐тг┐тб┐таГтг░тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тгдтгЙтаЩта╗та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та╖таЖтаАтаАтаАтаИтаЙтаЫтаЫтаГтаШтаБтаАтаАтаИтаЫтаЫтаАтаАта┐тбптаЩтаАтаАтаАтг╜тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тгжтбИта╗тг┐тг┐тг┐тг┐тг┐тг┐тг╢тг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐таЯтвбтг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тгдтгМтгЙтаЫтаЫта┐та┐та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐та┐та┐таЫтаЫтгЙтгбтгдтг╢тг╛тг╖тг╢тгжтгдтгДтгАтаАтаАтаАтаАтаАтаАтаАтаАтгАтгАтбАтаАтаАтаАтаАтватг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тгжтгМтаЩта╗та┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐та┐таЯтвЛтгатг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╖тг╢тг╢тгдтгдтгдтгдтгЙтгЙтгЙтгЙтгЙтгЙтгЙтгЙтгдтгдтгдтгдтг╢тг╢тг╢тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тг╢тгдтгдтг┤тг╛тг┐тг┐тг┐тг┐тг╖тг╢тг╢тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг╢тгжтгдтгАтгИтгЙтгБтгатгдтг┤тг╛тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таЫтв┐тб┐таЫтаЫтаЫтаЫта╗таЫтг┐тг┐таЫтаЯта╗тг┐таЫтаЫтаЫта╗тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐таАтвАтбАтаАтаАтв╕тгЙта╢таАтаАтаАтаАтаАтвАтаЙтаАтаАтбФтв▓тбМтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐
тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тгдтг┐тг╖тгдтгдтгдтгдтг┤тгдтг╛тг╖тгдтгжтг╛тг╖тгдтгжтг╝тг┐тгдтг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐тг┐`,
};

// Small UI art elements (keep existing for compact displays)
const ART = {
  genre: {
    daily:   "тФМтФАтФАтФР\nтФВтЩи тФВ\nтФФтФАтФАтФШ",
    romance: "тФМтФАтФАтФР\nтФВтЩб тФВ\nтФФтФАтФАтФШ",
    makjang: "тФМтФАтФАтФР\nтФВтЪбтФВ\nтФФтФАтФАтФШ",
    thriller:"тФМтФАтФАтФР\nтФВтШа тФВ\nтФФтФАтФАтФШ",
    fantasy: "тФМтФАтФАтФР\nтФВтЬж тФВ\nтФФтФАтФАтФШ",
    sf:      "тФМтФАтФАтФР\nтФВтМм тФВ\nтФФтФАтФАтФШ",
  },
  charA: "тФМтФАтЧРтФАтФР",
  charB: "тФМтФАтЧСтФАтФР",
  divider: "тФА тФА тФА тФА тФА тФА тФА тФА тФА тФА",
  bet: "тХФтХРтХРтХРтХЧ\nтХС ├Ч? тХС\nтХЪтХРтХРтХРтХЭ",
};

// Braille art renderer тАФ handles responsive sizing for dense Unicode art
const BrailleBlock = ({ art, color = "#fff", opacity = 0.15, maxW = 320, glow = false }) => {
  const lines = art.split('\n');
  const charW = lines.reduce((m, l) => Math.max(m, l.length), 0);
  // Calculate font size to fit maxW: each braille char тЙИ fontSize * 0.6
  const fs = Math.max(2.5, Math.min(5, maxW / (charW * 0.6)));
  return (
    <pre style={{
      fontFamily: "'JetBrains Mono','Courier New',monospace",
      fontSize: fs,
      lineHeight: 1.05,
      color,
      opacity,
      textAlign: "center",
      margin: 0,
      userSelect: "none",
      letterSpacing: 0,
      whiteSpace: "pre",
      overflow: "hidden",
      filter: glow ? `drop-shadow(0 0 8px ${color}44)` : "none",
      transition: "opacity 1.5s ease-out",
    }}>{art}</pre>
  );
};

const ArtBlock = ({ art, color = "#1a1a1a", size = 8 }) => (
  <pre style={{ fontFamily: "'JetBrains Mono',monospace", fontSize: size, lineHeight: 1.1, color, textAlign: "center", margin: 0, userSelect: "none", letterSpacing: 1 }}>{art}</pre>
);

// ============== MAIN ==============
function App() {
  const mobile = useIsMobile();
  const [phase, setPhase] = useState("intro");
  const [GENRES, setGENRES] = useState(buildGenres);
  const [genre, setGenre] = useState(null);
  const [setting, setSetting] = useState(null);
  const [mewna, setMewna] = useState("");
  const [day, setDay] = useState(0);
  const [season, setSeason] = useState(1);
  const [karma, setKarma] = useState(1000);
  const [lines, setLines] = useState([]);
  const [genning, setGenning] = useState(false);
  const [revealing, setRevealing] = useState(false);
  const [bets, setBets] = useState([]);
  const [myBets, setMyBets] = useState([]);
  const [betAmt, setBetAmt] = useState(100);
  const [results, setResults] = useState([]);
  const [correctBet, setCorrectBet] = useState(null);
  const [ctx, setCtx] = useState("");
  const [notif, setNotif] = useState(null);
  const [shop, setShop] = useState(false);
  const [inv, setInv] = useState([]);
  const [active, setActive] = useState([]);
  const [whisper, setWhisper] = useState("");
  const [whisperOpen, setWhisperOpen] = useState(false);
  const [cardModal, setCardModal] = useState(null);
  const [peekModal, setPeekModal] = useState(null);
  const [storySummary, setStorySummary] = useState(null);
  const [tab, setTab] = useState("story"); // mobile tab: "story" | "bet"
  const [betTimer, setBetTimer] = useState(null); // countdown seconds, null = inactive
  const [betLocked, setBetLocked] = useState(false);
  const [timerActive, setTimerActive] = useState(false);
  const [betsLoading, setBetsLoading] = useState(false);
  const [betsRevealed, setBetsRevealed] = useState(0); // how many bet options visible
  const [sceneArt, setSceneArt] = useState(null); // ASCII art for current scene
  const [apiCfg, setApiCfg] = useState({ provider: "off", key: "", model: "", endpoint: "" });
  const [showApiCfg, setShowApiCfg] = useState(false);
  const [debugMode, setDebugMode] = useState(false);
  const [debugLogs, setDebugLogs] = useState([]);
  const addDebug = (type, label, data) => setDebugLogs(p => [...p.slice(-30), { time: new Date().toLocaleTimeString(), type, label, data: typeof data === "string" ? data.slice(0, 3000) : JSON.stringify(data).slice(0, 3000) }]);
  const ref = useRef(null);

  // Provider presets
  const API_PRESETS = {
    off: { label: "ьШдэФДыЭ╝ьЭ╕", endpoint: "", models: [], note: "API ьЧЖьЭ┤ эЕЬэФМыж┐ ьКдэЖаыжм" },
    gemini: { label: "Gemini", endpoint: "https://generativelanguage.googleapis.com/v1beta/models/{model}:generateContent", note: "aistudio.google.com эВд (ым┤ыгМ эЛ░ьЦ┤ ьЮИьЭМ)",
      models: [
        { id: "gemini-3-flash-preview", name: "3.0 Flash", desc: "ЁЯФе ь╢Фь▓Ь тАФ ь╡ЬьЛа, ым┤ыгМ эЛ░ьЦ┤, ы╣аыжД", rec: true },
        { id: "gemini-2.5-flash", name: "2.5 Flash", desc: "ьХИьаХэМР (GA), ъ▓АьжЭыРи" },
        { id: "gemini-3.1-pro-preview", name: "3.1 Pro", desc: "ь╡Ьъ│а эТИьзИ, ыКРыж╝ (ьЬаыгМызМ)" },
        { id: "gemini-2.5-pro", name: "2.5 Pro", desc: "ьХИьаХ ъ│аэТИьзИ (GA)" },
        { id: "gemini-2.5-flash-lite", name: "2.5 Flash Lite", desc: "ъ░АьЮе ьаАыа┤/ы╣аыжД (GA)" },
      ]},
    openai: { label: "OpenAI", endpoint: "https://api.openai.com/v1/chat/completions", note: "platform.openai.com эВд (ьЬаыгМ)",
      models: [
        { id: "gpt-4.1-mini", name: "GPT-4.1 Mini", desc: "ь╢Фь▓Ь тАФ ы╣аые┤ъ│а ьаАыа┤, ъ░АьД▒ы╣Д ь╡Ьъ│а", rec: true },
        { id: "gpt-4.1-nano", name: "GPT-4.1 Nano", desc: "ъ░АьЮе ьаАыа┤/ы╣аыжД" },
        { id: "gpt-4.1", name: "GPT-4.1", desc: "ъ│аэТИьзИ, ь╜ФыФй эК╣эЩФ, 1M ь╗иэЕНьКдэК╕" },
        { id: "o4-mini", name: "o4-mini", desc: "ь╢Фыба ыкиыН╕ тАФ ы│╡ьЮбэХЬ эГЬьКдэБмьЪй" },
        { id: "o3", name: "o3", desc: "ь╡Ьъ│а ь╢Фыба, ъ│аъ░А" },
      ]},
    grok: { label: "Grok (xAI)", endpoint: "https://api.x.ai/v1/chat/completions", note: "console.x.ai эВд",
      models: [
        { id: "grok-4-1-fast-non-reasoning", name: "4.1 Fast", desc: "ЁЯФе ь╢Фь▓Ь тАФ ь╡ЬьЛа, ы╣аые┤ъ│а ьаАыа┤", rec: true },
        { id: "grok-4-1-fast-reasoning", name: "4.1 Fast (ь╢Фыба)", desc: "ь╡ЬьЛа + ь╢Фыба ыкиыУЬ" },
        { id: "grok-4", name: "Grok 4", desc: "ь╡Ьъ│а ьД▒ыКе, эХньГБ ь╢Фыба" },
        { id: "grok-3-mini-fast", name: "3 Mini Fast", desc: "ъ░АьЮе ьаАыа┤" },
        { id: "grok-3-fast", name: "3 Fast", desc: "ьЭ┤ьаД ьД╕ыМА, ьХИьаХ" },
      ]},
    claude: { label: "Claude", endpoint: "https://api.anthropic.com/v1/messages", note: "тЪая╕П CORS ьаЬэХЬ тАФ эФДыбЭьЛЬ ьДЬы▓Д эХДьЪФ (ьзБьаС эШ╕ь╢Ь ы╢Иъ░А)",
      models: [
        { id: "claude-sonnet-4-6-20260217", name: "Sonnet 4.6", desc: "ЁЯФе ь╡ЬьЛа тАФ Opusъ╕Й ьД▒ыКе, Sonnet ъ░Аъ▓й", rec: true },
        { id: "claude-sonnet-4-5-20250929", name: "Sonnet 4.5", desc: "ьХИьаХэМР, ь╜ФыФй ь╡Ьъ░Х" },
        { id: "claude-opus-4-6-20260205", name: "Opus 4.6", desc: "ь╡Ьъ│а ьзАыКе, 1M ь╗иэЕНьКдэК╕" },
        { id: "claude-haiku-4-5-20251001", name: "Haiku 4.5", desc: "ъ░АьЮе ы╣аыжД/ьаАыа┤" },
      ]},
    custom: { label: "ь╗дьКдэЕА", endpoint: "", models: [], note: "OpenAI эШ╕эЩШ ьЧФыУЬэПмьЭ╕эК╕ (LiteLLM, OpenRouter ыУ▒)" },
  };

  // Universal LLM call
  const llmCall = async (prompt, maxTok = 1000, jsonMode = false) => {
    const { provider, key, model, endpoint } = apiCfg;
    if (provider === "off") throw new Error("offline");
    addDebug("send", `тЖТ ${provider}/${model}`, `[maxTok:${maxTok}, json:${jsonMode}]\n\n${prompt}`);
    const MAX_RETRIES = 3;
    for (let attempt = 1; attempt <= MAX_RETRIES; attempt++) {
    let result = "";
    try {
    if (provider === "gemini") {
      const url = endpoint.replace("{model}", model) + `?key=${key}`;
      // Detect thinking models
      const isThink = model.includes("2.5-flash") && !model.includes("lite") || model.includes("2.5-pro") || model.includes("gemini-3");
      const genConfig = { maxOutputTokens: maxTok };
      if (!isThink) genConfig.temperature = 0.9;
      if (jsonMode) genConfig.responseMimeType = "application/json";
      const reqBody = { contents: [{ parts: [{ text: prompt }] }], generationConfig: genConfig };
      if (isThink) reqBody.thinkingConfig = { thinkingBudget: 1024 };
      addDebug("info", "тЖТ Gemini ьДдьаХ", `think=${isThink}, model=${model}`);
      
      let r = await fetch(url, { method: "POST", headers: { "Content-Type": "application/json" },
        body: JSON.stringify(reqBody) });
      
      // 400 error: retry with opposite config (add/remove thinkingConfig + temperature)
      if (r.status === 400) {
        addDebug("warn", "тЪа 400 ьЮмьЛЬыПД", `think=${isThink} тЖТ ${!isThink}`);
        const genConfig2 = { maxOutputTokens: maxTok };
        if (isThink) genConfig2.temperature = 0.9; // was thinking, try without
        if (jsonMode) genConfig2.responseMimeType = "application/json";
        const reqBody2 = { contents: [{ parts: [{ text: prompt }] }], generationConfig: genConfig2 };
        if (!isThink) reqBody2.thinkingConfig = { thinkingBudget: 1024 }; // was non-thinking, try with
        r = await fetch(url, { method: "POST", headers: { "Content-Type": "application/json" },
          body: JSON.stringify(reqBody2) });
      }
      
      if (!r.ok) { const errBody = await r.text().catch(() => ""); addDebug("error", `тЬЧ Gemini ${r.status}`, errBody); throw new Error(`Gemini ${r.status}: ${errBody.slice(0,200)}`); }
      const d = await r.json();
      // Thinking models return multiple parts: thought=true (thinking) + text (output)
      const parts = d.candidates?.[0]?.content?.parts || [];
      let gtxt = parts.filter(p => !p.thought).map(p => p.text || "").join("") || parts[0]?.text || "";
      addDebug("raw", "тЖР Gemini raw", gtxt);
      if (d.candidates?.[0]?.finishReason && d.candidates[0].finishReason !== "STOP") addDebug("warn", "тЪа finishReason", d.candidates[0].finishReason);
      gtxt = gtxt.replace(/<think>[\s\S]*?<\/think>/gi, "").replace(/<Thinking>[\s\S]*?<\/Thinking>/gi, "").trim();
      result = gtxt;
    } else if (provider === "claude") {
      const r = await fetch(endpoint, { method: "POST", headers: { "Content-Type": "application/json", "x-api-key": key, "anthropic-version": "2023-06-01" },
        body: JSON.stringify({ model, max_tokens: maxTok, messages: [{ role: "user", content: prompt }] }) });
      if (!r.ok) { const errBody = await r.text().catch(() => ""); addDebug("error", `тЬЧ Claude ${r.status}`, errBody); throw new Error(`Claude ${r.status}`); }
      const d = await r.json();
      result = (d.content || []).filter(b => b.type === "text").map(b => b.text).join("\n");
      addDebug("raw", "тЖР Claude raw", result);
    } else {
      // OpenAI-compatible (openai, grok, custom)
      const headers = { "Content-Type": "application/json" };
      if (key) headers["Authorization"] = `Bearer ${key}`;
      const body = { model, messages: [{ role: "user", content: prompt }], max_tokens: maxTok };
      if (!model.startsWith("o3") && !model.startsWith("o4") && !model.startsWith("grok-4")) body.temperature = 0.9;
      if (jsonMode) body.response_format = { type: "json_object" };
      const r = await fetch(endpoint, { method: "POST", headers, body: JSON.stringify(body) });
      if (!r.ok) { const errBody = await r.text().catch(() => ""); addDebug("error", `тЬЧ ${provider} ${r.status}`, errBody); throw new Error(`${provider} ${r.status}`); }
      const d = await r.json();
      result = d.choices?.[0]?.message?.content || "";
      addDebug("raw", `тЖР ${provider} raw`, result);
    }
    addDebug("ok", "тЬУ ь╡ЬьвЕ ъ▓░ъ│╝", result);
    return result;
    } catch(e) {
      const status = e.message?.match(/\d{3}/)?.[0];
      if ((status === "503" || status === "429") && attempt < MAX_RETRIES) {
        const wait = attempt * 3;
        addDebug("warn", `тЪа ${status} ьЮмьЛЬыПД ${attempt}/${MAX_RETRIES}`, `${wait}ь┤И ыМАъ╕░...`);
        await new Promise(r => setTimeout(r, wait * 1000));
        continue;
      }
      addDebug("error", "тЬЧ ьЧРыЯм", e.message); throw e;
    }
    } // end retry loop
  };

  // Auto-adjust bet amount when karma changes
  useEffect(() => {
    if (karma < betAmt) {
      const affordable = [500,200,100,50].find(a => karma >= a);
      if (affordable) setBetAmt(affordable);
    }
  }, [karma]);

  const notify = (m, t = "info") => { setNotif({ m, t }); setTimeout(() => setNotif(null), t === "error" ? 10000 : 3000); };

  // Fallback scenes per genre (used when API fails)
  // тХРтХРтХР PROCEDURAL STORY ENGINE (offline mode) тХРтХРтХР
  // Generates connected 7-day stories without API
  const storyDB = {
    // Each genre has scenes indexed by arc phase: early(1-2), mid(3-4), late(5-6), climax(7)
    // ${A} and ${B} get replaced with character names
    // Each scene has: lines[], bets[], event (string key for continuity)
    makjang: {
      early: [
        { lines: [
          {s:"n",t:"${A}ъ░А ь╗дэФ╝ые╝ эХЬ ыкиъ╕И ызИьЛаыЛд. ьЖРьЭ┤ ыЦиыжмьзА ьХКыКФыЛд."},
          {s:"A",t:"ы╢АыБДыЯ╜ьзА ьХКьХДьЪФ. ьаАыПД ьВмыЮСы░ЫьЭД ьЮРъ▓й ьЮИьЬ╝ыЛИъ╣М."},
          {s:"B",t:"ьЮРъ▓й. ьЮмы░МыКФ ыЛиьЦ┤ыДдьЪФ."},
          {s:"n",t:"${B}ъ░А ьДЬыеШ ы┤ЙэИмые╝ эЕМьЭ┤ы╕ФьЧР ыЖУыКФыЛд. ьЧ┤ьзАыКФ ьХКыКФыЛд."},
          {s:"B",t:"ьЭ┤ъ▒┤ ьЛЬьЮСьЭ╝ ы┐РьЭ┤ьЧРьЪФ."},
          {s:"A",t:"...ым┤ьКи ыЬ╗ьЭ┤ьга?"},
          {s:"B",t:"ъ╢Бъ╕ИэХШый┤ ьЧ┤ьЦ┤ы┤РьЪФ."},
        ], bets: [{id:1,text:"ы┤ЙэИмые╝ ьЧ░ыЛд",odds:1.8},{id:2,text:"ы┤ЙэИмые╝ ым┤ьЛЬэХЬыЛд",odds:3.2},{id:3,text:"ьаЬ3ьЮРъ░А ыВШэГАыВЬыЛд",odds:5.0},{id:4,text:"ыСШьЭ┤ ьЛ╕ьЪ┤ыЛд",odds:2.5}], event: "envelope" },
        { lines: [
          {s:"n",t:"ы│СьЫР ьХЮ. ${A}ъ░А ыи╝ьаА ьЩАьЮИыЛд."},
          {s:"A",t:"ъ▓АьВм ъ▓░ъ│╝ ыВШьЩФьЦ┤."},
          {s:"B",t:"...ынРыЮШ?"},
          {s:"A",t:"ызРэХШъ╕░ ьаДьЧР эХШыВШызМ ым╝ьЦ┤ы│╝ъ▓М."},
          {s:"n",t:"${A}ьЭШ ыИИьЭ┤ ь░иъ░СыЛд."},
          {s:"A",t:"ъ╖╕ ьВмыЮМ ыИДъ╡мьХ╝?"},
          {s:"B",t:"...ым┤ьКи ьЖМыжмьХ╝."},
          {s:"A",t:"DNA ъ▓░ъ│╝ьЧР ьД╕ ы▓Иьз╕ ьВмыЮМьЭ┤ ьЮИьЦ┤."},
        ], bets: [{id:1,text:"${B}ъ░А ъ│аы░▒эХЬыЛд",odds:2.0},{id:2,text:"${B}ъ░А ы╢АьЭ╕эХЬыЛд",odds:1.5},{id:3,text:"ъ▓АьВм ъ▓░ъ│╝ъ░А ъ▒░ьзУ",odds:4.5},{id:4,text:"ьИиъ▓иьзД ъ░Аьб▒ ыУ▒ьЮе",odds:6.0}], event: "dna" },
        { lines: [
          {s:"n",t:"ыКжьЭА ы░д. ${B}ъ░А ${A}ьЭШ эЬ┤ыМАэП░ьЭД ы│┤ъ│а ьЮИыЛд."},
          {s:"B",t:"...ьЭ┤ъ▓М ынРьХ╝."},
          {s:"n",t:"эЩФый┤ьЧРыКФ ыкиые┤ыКФ ы▓ИэШ╕ьЩАьЭШ ьИШы░▒ ъ░ЬьЭШ ыйФьЛЬьзАъ░А ьЮИыЛд."},
          {s:"A",t:"(ыТдьЧРьДЬ) ынР эХ┤?"},
          {s:"B",t:"ьДдыкЕэХ┤."},
          {s:"A",t:"...ы│╝ ъ▒╕ ы┤дыДд."},
          {s:"B",t:"ьЭ┤ ьВмыЮМьЭ┤ ыИДъ╡░ыН░!"},
          {s:"A",t:"ыДдъ░А ьХМ эХДьЪФ ьЧЖыКФ ьВмыЮМьЭ┤ьХ╝."},
        ], bets: [{id:1,text:"ы╣Ды░А ьЧ░ыЭ╜ьЭШ ьаХь▓┤",odds:2.2},{id:2,text:"${A}ъ░А ьзСьЭД ыВШъ░ДыЛд",odds:3.5},{id:3,text:"ыйФьЛЬьзАъ░А эХиьаХ",odds:4.0},{id:4,text:"эЩФэХ┤эХЬыЛд",odds:3.8}], event: "phone" },
      ],
      mid: [
        { lines: [
          {s:"n",t:"ый░ь╣а эЫД. ыСШ ьВмьЭ┤ьЧР ыГЙъ╕░ъ░А эЭРые╕ыЛд."},
          {s:"B",t:"ы│АэШ╕ьВм ызМыВШъ│а ьЩФьЦ┤."},
          {s:"A",t:"...ынР?"},
          {s:"B",t:"ыЖАыЮРьЦ┤? ыВШыПД ыЖАыЮРьЦ┤. ыДд ьЮмьВ░ьЭ┤ ьЭ┤ ьаХыПДьЭ╕ ьдД ык░ыЮРъ▒░ыУа."},
          {s:"A",t:"ыДИ ып╕ь│дьЦ┤?"},
          {s:"B",t:"ып╕ь╣Ь ъ▒┤ ыДИьХ╝. ьЖНьЭ┤ый┤ьДЬ ьВ┤ьХДьШи ъ▒┤ ыДИьЮЦьХД."},
          {s:"n",t:"эЕМьЭ┤ы╕Ф ьЬДьЧР ьЭ┤эШ╝ ьДЬыеШъ░А ыЖУьЭ╕ыЛд."},
        ], bets: [{id:1,text:"ьЭ┤эШ╝ьЧР ыПЩьЭШ",odds:2.8},{id:2,text:"ьДЬыеШые╝ ь░выКФыЛд",odds:2.0},{id:3,text:"ьЮмьВ░ ы╣Ды░АьЭ┤ ыНФ ьЮИыЛд",odds:3.5},{id:4,text:"ыИДъ╡░ъ░А ьУ░ыЯмьзДыЛд",odds:4.5}], event: "divorce" },
        { lines: [
          {s:"n",t:"ьЮеыбАьЛЭьЮе. ${A}ьЩА ${B}ъ░А ыВШыЮАэЮИ ьХЙьХДьЮИыЛд."},
          {s:"A",t:"...ьХДы▓ДьзАъ░А ыВиъ╕┤ ьЬаьЦ╕ьЮе ы┤дьЦ┤?"},
          {s:"B",t:"ы┤дьЦ┤. ъ╖╕ыЮШьДЬ ьЧмъ╕░ ьШи ъ▒░ьХ╝."},
          {s:"A",t:"ьаИы░ШьЭА ыВ┤ ъ▒░ьХ╝."},
          {s:"B",t:"ьЬаьЦ╕ьЮеьЧФ ыДд ьЭ┤ыжДьЭ┤ ьЧЖыКФыН░?"},
          {s:"n",t:"${A}ьЭШ ьЦ╝ъ╡┤ьЭ┤ ъ╡│ыКФыЛд."},
          {s:"A",t:"ъ╖╕ыЯ┤ ыжмъ░А ьЧЖьЦ┤."},
          {s:"B",t:"ьзБьаС ы┤Р. ьаДы╢А ыВ┤ ьЭ┤ыжДьЭ┤ьХ╝."},
        ], bets: [{id:1,text:"ьЬаьЦ╕ьЮеьЭ┤ ьЬДьб░ыРи",odds:3.0},{id:2,text:"ьИиъ▓иьзД ьЬаьВ░ ыУ▒ьЮе",odds:2.5},{id:3,text:"${A}ъ░А эПны░Ь",odds:1.8},{id:4,text:"ьаЬ3ьГБьЖНьЭ╕ ыУ▒ьЮе",odds:5.0}], event: "will" },
        { lines: [
          {s:"n",t:"${B}ьЭШ ъ│╝ъ▒░ ыПЩыгМъ░А ь░╛ьХДьЩФыЛд."},
          {s:"B",t:"ьЩЬ ьЧмъ╕░ъ╣МьзА ьЩА."},
          {s:"n",t:"ыВпьДа ьВмыЮМьЭ┤ ьВмьзД эХЬ ьЮеьЭД ыВ┤ып╝ыЛд."},
          {s:"A",t:"ьЭ┤ъ▓М... ынРьХ╝?"},
          {s:"B",t:"${A}, ы│┤ьзА ызИтАФ"},
          {s:"A",t:"ыКжьЧИьЦ┤. ьЭ┤ып╕ ы┤дьЦ┤."},
          {s:"n",t:"ьВмьзД ьЖНьЧРыКФ ${B}ьЩА ыкиые┤ыКФ ьВмыЮМьЭ┤ эХиъ╗Ш ьЮИыЛд."},
          {s:"A",t:"ьЭ┤ ьВмыЮМ... ьг╜ьЭА ьдД ьХМьХШыКФыН░?"},
        ], bets: [{id:1,text:"ьВмьзД ьЖН ьЭ╕ым╝ьЭ┤ ыВШэГАыВи",odds:2.5},{id:2,text:"${B}ъ░А ыПДьг╝",odds:4.0},{id:3,text:"ъ│╝ъ▒░ъ░А ьаДы╢А ъ▒░ьзУ",odds:3.5},{id:4,text:"${A}ыПД ъ┤АыаиыРи",odds:3.0}], event: "photo" },
      ],
      late: [
        { lines: [
          {s:"n",t:"ьГИы▓╜. ${A}ъ░А ьзРьЭД ьЛ╕ъ│а ьЮИыЛд."},
          {s:"B",t:"ьЦ┤ыФФ ъ░А."},
          {s:"A",t:"ьХМ эХДьЪФ ьЧЖьЦ┤."},
          {s:"B",t:"ыПДызЭь╣ШыКФ ъ▒░ьзА?"},
          {s:"A",t:"ыПДызЭ? ьХДыЛИ. ыБЭыВ┤ыКФ ъ▒░ьХ╝."},
          {s:"n",t:"${A}ъ░А ым╕ ьХЮьЧРьДЬ ыйИь╢ШыЛд."},
          {s:"A",t:"эХЬ ъ░АьзАызМ ьХМьХДыСм. ь▓ШьЭМы╢АэД░ ыВ┤ъ░А ьХДыЛИьЧИьЦ┤."},
          {s:"B",t:"...ынР?"},
        ], bets: [{id:1,text:"ьзДьзЬ ы▓ФьЭ╕ьЭ┤ ы░ЭэШАьзР",odds:2.0},{id:2,text:"${A}ъ░А ьВмыЭ╝ьзДыЛд",odds:3.0},{id:3,text:"ыкиыУа ъ▓М ъ│ДэЪН",odds:2.5},{id:4,text:"ы░ШьаД ъ│аы░▒",odds:4.0}], event: "escape" },
        { lines: [
          {s:"n",t:"ъ▓╜ь░░ьЭ┤ ьЩФыЛд."},
          {s:"A",t:"ыИДъ░А ьЛаъ│аэХЬ ъ▒░ьХ╝?"},
          {s:"B",t:"ыВШьХ╝."},
          {s:"A",t:"...ып╕ь│дьЦ┤?"},
          {s:"B",t:"ып╕ь╣Ь ъ▒┤ ыДдъ░А эХЬ ьзУьЭ┤ьХ╝."},
          {s:"n",t:"эШХьВмъ░А ы┤ЙэИмые╝ ьЧ┤ьЦ┤ы│╕ыЛд. ьХИьЧРьДЬ ыВШьШи ъ▒┤ ьШИьГБъ│╝ ыЛмыЮРыЛд."},
          {s:"A",t:"ьЭ┤ъ▒┤... ьЭ┤ъ▒┤ ыВ┤ъ░А ыДгьЭА ъ▓М ьХДыЛМыН░."},
          {s:"B",t:"ьжЭъ▒░ыКФ ыДд ьзАым╕ьЭ┤ьХ╝."},
        ], bets: [{id:1,text:"${A}ъ░А ь▓┤эПмыРи",odds:2.0},{id:2,text:"ьжЭъ▒░ъ░А ьб░ьЮСыРи",odds:3.2},{id:3,text:"${B}ъ░А ьзДьзЬ ы▓ФьЭ╕",odds:4.5},{id:4,text:"ъ│╡ы▓ФьЭ┤ ыВШэГАыВи",odds:3.0}], event: "police" },
      ],
      climax: [
        { lines: [
          {s:"n",t:"ызИьзАызЙ ыМАый┤. ы╣И ы░йьЧР ыСШызМ ыВиьХШыЛд."},
          {s:"A",t:"ь▓ШьЭМы╢АэД░ ыЛдьЛЬ ызРэХ┤ьдШ."},
          {s:"B",t:"ынШ ьХМъ│а ьЛ╢ьЭАыН░?"},
          {s:"A",t:"ьаДы╢А."},
          {s:"n",t:"ъ╕┤ ь╣иым╡ эЫД ${B}ъ░А ьЮЕьЭД ьЧ░ыЛд."},
          {s:"B",t:"...ыВШыКФ ыДР ьВмыЮСэХЬ ьаБ ьЧЖьЦ┤."},
          {s:"n",t:"ъ╖╕ ызРьЭ┤ ы░й ьХИьЭД ь▒ДьЫаыЛд."},
          {s:"A",t:"ьХМьХД. ыВШыПД ъ╖╕ыЮШ."},
          {s:"n",t:"ым╕ьЭ┤ ыЛлэШФыЛд. ыСШ ыЛд ьЪ╕ъ│а ьЮИьЧИыЛд."},
        ], bets: [{id:1,text:"эЩФэХ┤эХЬыЛд",odds:5.0},{id:2,text:"ьШБьЫРэЮИ эЧдьЦ┤ьзДыЛд",odds:1.5},{id:3,text:"ы░ШьаД ъ│аы░▒",odds:3.0},{id:4,text:"ыодыВШьЭШ эЭФьаБ",odds:7.0}], event: "end" },
      ],
    },
    romance: {
      early: [
        { lines: [
          {s:"n",t:"ь╣┤эОШ. ьЪ░ьЧ░эЮИ ъ░ЩьЭА эЕМьЭ┤ы╕ФьЧР ьХЙъ▓М ыРШьЧИыЛд."},
          {s:"A",t:"...ьЧмъ╕░ ьЮРыж░ыН░ьЪФ."},
          {s:"B",t:"ьХД, ьгДьЖбэХ┤ьЪФ. ъ╖╝ыН░ ыЛдые╕ ьЮРыжмъ░АтАФ"},
          {s:"A",t:"...ьХЙьХДьЪФ. ъ┤Ьь░оьХДьЪФ."},
          {s:"n",t:"ьЦ┤ьГЙэХЬ ь╣иым╡. ${B}ъ░А ыи╝ьаА ьЫГьЧИыЛд."},
          {s:"B",t:"эШ╣ьЛЬ ьЧмъ╕░ ьЮРьг╝ ьШдьД╕ьЪФ?"},
          {s:"A",t:"...ыДд. ъ▒░ьЭШ ыздьЭ╝."},
          {s:"B",t:"ьЛаъ╕░эХШыЛд. ыВШыПД ыздьЭ╝ ьШдыКФыН░ ь▓ШьЭМ ы┤РьЪФ."},
        ], bets: [{id:1,text:"ы▓ИэШ╕ые╝ ъ╡РэЩШэХЬыЛд",odds:1.8},{id:2,text:"ьЦ┤ьГЙэХШъ▓М эЧдьЦ┤ьзДыЛд",odds:2.5},{id:3,text:"ъ│╡эЖ╡ ьзАьЭ╕ ы░Ьъ▓м",odds:4.0},{id:4,text:"ыЛдьЛЬ ызИьг╝ь╣ЬыЛд",odds:2.0}], event: "meet" },
        { lines: [
          {s:"n",t:"ы╣Дъ░А ыВ┤ыж░ыЛд. ьЪ░ьВ░ьЭ┤ эХШыВШы┐РьЭ┤ыЛд."},
          {s:"A",t:"ъ░ЩьЭ┤ ьНиьЪФ. ьЦ┤ь░иэФ╝ ъ░ЩьЭА ы░йэЦеьЭ┤ьЮЦьХДьЪФ."},
          {s:"B",t:"ьХДъ╣М ым╝ьЦ┤ы┤дьЭД ыХМыКФ ыЛдые╕ ы░йэЦеьЭ┤ыЭ╝ый┤ьДЬьЪФ."},
          {s:"A",t:"...ы░ФыАМьЧИьЦ┤ьЪФ."},
          {s:"n",t:"${B}ъ░А ьЫГыКФыЛд. ${A}ыКФ ьЛЬьДаьЭД эФ╝эХЬыЛд."},
          {s:"B",t:"ьЪ░ьВ░ ьвА ьЭ┤ьк╜ьЬ╝ыбЬьЪФ. ьаЬ ьЦ┤ъ╣и ыЛд ьаЦьЦ┤ьЪФ."},
          {s:"A",t:"ьХД, ьгДьЖбтАФ"},
          {s:"n",t:"ьЖРьЭ┤ ыЛ┐ьХШыЛд. ыСШ ыЛд ыйИь╣лэЦИыЛд."},
        ], bets: [{id:1,text:"ьЖРьЭД ьЮбыКФыЛд",odds:2.5},{id:2,text:"ьЦ┤ьГЙэХШъ▓М ы╢Дыжм",odds:1.5},{id:3,text:"ь╣┤эОШьЧРьДЬ ыЛдьЛЬ ызМыВи",odds:2.0},{id:4,text:"ы╣Ды░АьЭ┤ ыУЬыЯмыВи",odds:5.0}], event: "umbrella" },
      ],
      mid: [
        { lines: [
          {s:"n",t:"ьД╕ ы▓Иьз╕ ызМыВи. ьЭ┤ьаЬ ьХ╜ьЖНьЭД ьЮбъ│а ызМыВЬыЛд."},
          {s:"B",t:"ьШдыКШ ынР эХа ъ▒░ьШИьЪФ?"},
          {s:"A",t:"...ьаХэХ┤ыЖУьЭА ъ▒┤ ьЧЖыКФыН░."},
          {s:"B",t:"ъ╖╕ыЯ╝ ъ╖╕ыГе ъ▒╕ьЦ┤ьЪФ. ыкйьаБьзА ьЧЖьЭ┤."},
          {s:"n",t:"ыВШыЮАэЮИ ъ▒╖ыКФыЛд. эМФьЭ┤ ъ░АыБФ ьКдь╣ЬыЛд."},
          {s:"A",t:"ьаА... эХШыВШ ым╝ьЦ┤ы┤РыПД ыП╝ьЪФ?"},
          {s:"B",t:"ыДд."},
          {s:"A",t:"ьЩЬ ьаАыЮС ьЮРъ╛╕ ызМыВШьЪФ?"},
          {s:"B",t:"...ъ╕АьОДьЪФ. ыВШыПД ъ╢Бъ╕ИэХ┤ьЪФ ъ╖╕ъ▒░."},
        ], bets: [{id:1,text:"ъ│аы░▒эХЬыЛд",odds:3.5},{id:2,text:"ъ│╝ъ▒░ ьЧ░ьЭ╕ ыУ▒ьЮе",odds:4.0},{id:3,text:"ьДЬыбЬ ъ▒░ыжмыСРъ╕░",odds:2.5},{id:4,text:"ьЪ░ьЧ░эЮИ ьзС ы░Ьъ▓м",odds:3.0}], event: "walk" },
        { lines: [
          {s:"n",t:"${A}ьЭШ ьзС ьХЮ. ${B}ъ░А ы░ФыЮШыЛдьг╝ъ│а ьЮИыЛд."},
          {s:"A",t:"ьЧмъ╕░ъ╣МьзАызМьЪФ. ыУдьЦ┤ъ░АьД╕ьЪФ."},
          {s:"B",t:"ъ╖╝ыН░... эХШыВШызМ."},
          {s:"n",t:"${B}ъ░А ыйИь╢ШыЛд. ызРьЭД ъ│аые┤ыКФ ыУпэХШыЛд."},
          {s:"B",t:"ыВШ ьвЛьХДэХШыКФ ьВмыЮМ ьЮИьЦ┤ьЪФ."},
          {s:"A",t:"...ьХД. ъ╖╕ыЮШьЪФ?"},
          {s:"B",t:"ъ╖╝ыН░ ъ╖╕ ьВмыЮМьЭ┤ ыВШые╝ ьвЛьХДэХШыКФьзА ыкиые┤ъ▓аьЦ┤ьДЬ."},
          {s:"n",t:"${A}ьЭШ ьЛмьЮеьЭ┤ ы╣иыЭ╝ьбМыЛд."},
        ], bets: [{id:1,text:"ъ╖╕ ьВмыЮМьЭ┤ ${A}",odds:1.5},{id:2,text:"ыЛдые╕ ьВмыЮМьЭ┤ыЛд",odds:4.0},{id:3,text:"${A}ыПД ъ│аы░▒",odds:2.0},{id:4,text:"ьЧ░ыЭ╜ьЭ┤ ыБКъ╕┤ыЛд",odds:5.0}], event: "confession_hint" },
      ],
      late: [
        { lines: [
          {s:"n",t:"ый░ь╣а ыПЩьХИ ьЧ░ыЭ╜ьЭ┤ ьЧЖьЧИыЛд."},
          {s:"A",t:"(эШ╝ьЮгызР) ьЩЬ ьХИ ьШдыКФ ъ▒░ьзА..."},
          {s:"n",t:"ь╣┤эОШ ым╕ьЭ┤ ьЧ┤ыж░ыЛд. ${B}ыЛд."},
          {s:"B",t:"...ып╕ьХИэХ┤ьЪФ. ьаХыжмэХа ъ▓М ьЮИьЧИьЦ┤ьЪФ."},
          {s:"A",t:"ым┤ьКи ьаХыжмьЪФ?"},
          {s:"B",t:"ьаД ьВмыЮМьЭ┤ьЪФ. ьЩДьаДэЮИ ыБЭыВ┤ъ│а ьЩФьЦ┤ьЪФ."},
          {s:"n",t:"${A}ьЭШ ыИИьЭ┤ эЭФыУдыж░ыЛд."},
          {s:"A",t:"...ьЩЬьЪФ?"},
          {s:"B",t:"ьЭ┤ьЬаыКФ... ьХМьЮЦьХДьЪФ."},
        ], bets: [{id:1,text:"эВдьКдэХЬыЛд",odds:3.0},{id:2,text:"${A}ъ░А ызЭьДдьЭ╕ыЛд",odds:2.0},{id:3,text:"ьаД ьЧ░ьЭ╕ьЭ┤ ыВШэГАыВи",odds:4.5},{id:4,text:"ьзДьЛмьЭД эЩХьЭ╕",odds:1.8}], event: "return" },
      ],
      climax: [
        { lines: [
          {s:"n",t:"ьШеьГБ. эХ┤ъ░А ьзАъ│а ьЮИыЛд."},
          {s:"B",t:"ыВШ эХа ызР ьЮИьЦ┤ьЪФ."},
          {s:"A",t:"ыВШыПДьЪФ."},
          {s:"n",t:"ыПЩьЛЬьЧР ызРэЦИыЛд. ыСШ ыЛд ьЫГьЧИыЛд."},
          {s:"B",t:"ыи╝ьаА эХ┤ьЪФ."},
          {s:"A",t:"ьХДыЛИ ыи╝ьаАтАФ"},
          {s:"B",t:"ьвЛьХДэХ┤ьЪФ."},
          {s:"n",t:"ы░ФыЮМьЭ┤ ы╢ДыЛд. ${A}ьЭШ ыИИъ░Аъ░А ы╢ЙьЦ┤ьбМыЛд."},
          {s:"A",t:"...ыВШыПД. ьзДьзЬ ыВШыПДьЪФ."},
          {s:"n",t:"эХ┤ъ░А ьбМыЛд. ыСШьЭШ ъ╖╕ыж╝ьЮРъ░А эХШыВШыбЬ ъ▓╣ь│дыЛд."},
        ], bets: [{id:1,text:"эХ┤эФ╝ьЧФыФй",odds:1.3},{id:2,text:"ызИьзАызЙ ьЮеьХаым╝",odds:3.5},{id:3,text:"ыодыВШьЭШ ь╢Хы│╡",odds:6.0},{id:4,text:"ьЭ┤ы│Д ьДаьЦ╕",odds:5.0}], event: "end" },
      ],
    },
    daily: {
      early: [
        { lines: [
          {s:"n",t:"ьб░ьЪйэХЬ ьаАыЕБ. ыСШ ыЛд ъ▒░ьЛдьЧР ьЮИьзАызМ ызРьЭ┤ ьЧЖыЛд."},
          {s:"A",t:"...ь╗дэФ╝ ызИьЛд ъ▒░ьХ╝?"},
          {s:"B",t:"ьХД, ыДд. ъ░РьВмэХ┤ьЪФ."},
          {s:"n",t:"ь╗╡ьЭД ъ▒┤ыДдыКФ ьЖРьЭ┤ ьВ┤ьзЭ ыЦиыа╕ыЛд."},
          {s:"A",t:"...ьШдыКШ ыКжьЧИыДд."},
          {s:"B",t:"ьвА... ыПМьХДыЛдыЕФьЦ┤ьЪФ. ьГЭъ░БьЭ┤ ызОьХДьДЬ."},
          {s:"n",t:"ь░╜ы░ЦьЧРьДЬ ъ│аьЦСьЭ┤ ьЪ╕ьЭМьЖМыжмъ░А ыУдыж░ыЛд."},
        ], bets: [{id:1,text:"ы╣Ды░АьЭ┤ ыУЬыЯмыВЬыЛд",odds:3.5},{id:2,text:"ъ░Аъ╣МьЫМьзДыЛд",odds:2.0},{id:3,text:"ьЭ┤ьГБэХЬ ьЭ╝ ы░ЬьГЭ",odds:4.0},{id:4,text:"ыИДъ╡░ъ░А ь░╛ьХДьШиыЛд",odds:3.0}], event: "quiet" },
        { lines: [
          {s:"n",t:"ы╣Дъ░А ыВ┤ыжмъ╕░ ьЛЬьЮСэЦИыЛд. ыСШьЭ┤ ъ░ЩьЭ┤ ы╣иыЮШые╝ ъ▒╖ыКФыЛд."},
          {s:"B",t:"ьХД ызЮыЛд, ьЭ┤ъ▒░ ьаЬ ъ▒░ ьХДыЛМыН░тАФ"},
          {s:"A",t:"ьХМьХД. ыВ┤ъ░А ыДРьЦ┤ыЖиьЦ┤."},
          {s:"B",t:"...ьЩЬьЪФ?"},
          {s:"A",t:"ы╣Д ьШиыЛдъ╕╕ыЮШ."},
          {s:"n",t:"ьЮаъ╣Р ыИИьЭ┤ ызИьг╝ь│дыЛд. ыСШ ыЛд ыи╝ьаА ьЛЬьДаьЭД эФ╝эЦИыЛд."},
        ], bets: [{id:1,text:"ызИьЭМьЭ┤ ьЧ┤ыж░ыЛд",odds:2.0},{id:2,text:"ъ│╝ъ▒░ ьЭ┤ьХ╝ъ╕░",odds:2.5},{id:3,text:"ъ░СьЮРъ╕░ ьаХьаД",odds:4.5},{id:4,text:"ъ│аы░▒эХЬыЛд",odds:5.0}], event: "rain" },
      ],
      mid: [
        { lines: [
          {s:"n",t:"${A}ъ░А ьШдыЮШыРЬ ьВмьзДьЭД ы░Ьъ▓мэЦИыЛд."},
          {s:"A",t:"ьЭ┤ъ▒░... ьЦ╕ьаЬ ь░НьЭА ъ▒░ьХ╝?"},
          {s:"B",t:"ьХД. ъ╖╕ъ▒┤тАФ"},
          {s:"A",t:"ьЩЬ ыВШэХЬэЕМ ьЦШъ╕░ ьХИ эЦИьЦ┤?"},
          {s:"B",t:"эХа ызРьЭ┤ ьХДыЛИьЧИьЬ╝ыЛИъ╣М."},
          {s:"n",t:"ьВмьзД ьЖН ${B}ыКФ ьзАъ╕Иъ│╝ ьаДэША ыЛдые╕ ьВмыЮМьЭ┤ьЧИыЛд."},
          {s:"A",t:"ьЭ┤ ьВмыЮМьЭ┤... ыДИьХ╝?"},
        ], bets: [{id:1,text:"ъ│╝ъ▒░ъ░А ы░ЭэШАьзДыЛд",odds:2.0},{id:2,text:"ьВмьзДьЭД ьИиъ╕┤ыЛд",odds:3.0},{id:3,text:"ьаЬ3ьЮРьЭШ ы░йым╕",odds:4.0},{id:4,text:"эБ░ ьЛ╕ьЫА",odds:2.5}], event: "photo_old" },
      ],
      late: [
        { lines: [
          {s:"n",t:"ъ╣КьЭА ы░д. ${B}ъ░А ьЮаъ▓░ьЧР ьдСьЦ╝ъ▒░ыж░ыЛд."},
          {s:"B",t:"...ып╕ьХИэХ┤... ып╕ьХИэХ┤..."},
          {s:"n",t:"${A}ъ░А ыУдьЧИыЛд. ьЮаьЭ┤ ъ╣╝ыЛд."},
          {s:"A",t:"(ьЖНьВньЭ┤ый░) ...ынРъ░А ып╕ьХИэХЬыН░?"},
          {s:"n",t:"${B}ыКФ ыМАыЛ╡эХШьзА ьХКыКФыЛд. ыИИым╝ызМ эЭРые┤ъ│а ьЮИыЛд."},
          {s:"A",t:"...ьХМъ▓аьЦ┤. ыВ┤ьЭ╝ ьЦШъ╕░эХШьЮР."},
          {s:"n",t:"ьГИы▓╜ьЭ┤ ы░ЭьХДьШиыЛд. ыСШ ьВмьЭ┤ьЭШ ъ▒░ыжмъ░А ъ░Аъ╣Эъ│аыПД ыйАыЛд."},
        ], bets: [{id:1,text:"ьзДьЛмьЭД ызРэХЬыЛд",odds:2.0},{id:2,text:"ыЦаыВШъ╕░ыбЬ ъ▓░ьЛм",odds:3.0},{id:3,text:"ь╢йъ▓йьаБ ьзДьЛд",odds:3.5},{id:4,text:"ьЪйьДЬэХЬыЛд",odds:2.5}], event: "nightmare" },
      ],
      climax: [
        { lines: [
          {s:"n",t:"ызИьзАызЙ ыВа. ьзРьЭ┤ ьЛ╕ьЧмьЮИыЛд."},
          {s:"A",t:"ьзДьзЬ ъ░АыКФ ъ▒░ьХ╝?"},
          {s:"B",t:"...ьЧмъ╕░ ьЮИьЭД ьЭ┤ьЬаъ░А ьЧЖьЮЦьХД."},
          {s:"A",t:"ьЭ┤ьЬа?"},
          {s:"n",t:"${A}ъ░А ${B}ьЭШ ьЖРьЭД ьЮбьХШыЛд."},
          {s:"A",t:"ыВ┤ъ░А ьЭ┤ьЬаый┤ ьХИ ыП╝?"},
          {s:"n",t:"ъ╕┤ ь╣иым╡. ьзРъ░Аы░й ьзАэН╝ъ░А ьЧ┤ыж░ ь▒ДыбЬ ыйИь╢░ьЮИыЛд."},
          {s:"B",t:"...ыКжьЧИьЦ┤."},
          {s:"A",t:"ьХДьзБ ьХИ ыКжьЧИьЦ┤."},
        ], bets: [{id:1,text:"эХиъ╗Ш ыВиыКФыЛд",odds:2.0},{id:2,text:"ыЦаыВЬыЛд",odds:2.0},{id:3,text:"ыодыВШьЭШ ъ╕░ьаБ",odds:6.0},{id:4,text:"ьЧ┤ыж░ ъ▓░ызР",odds:3.0}], event: "end" },
      ],
    },
    thriller: {
      early: [
        { lines: [
          {s:"n",t:"ыИИьЭД ыЦ┤ыЛд. эХШьЦА ы░й. ь░╜ым╕ ьЧЖьЭМ."},
          {s:"A",t:"...ьЧмъ╕░ ьЦ┤ыФФьзА?"},
          {s:"B",t:"ыВШыПД ык░ыЭ╝ьЪФ. ъ╣иьЦ┤ы│┤ыЛИ ьЧмъ╕░ьШАьЦ┤ьЪФ."},
          {s:"A",t:"ъ╕░ьЦ╡ыВШыКФ ъ▒░ ьЮИьЦ┤?"},
          {s:"B",t:"...ьЧЖьЦ┤ьЪФ. ъ╖╝ыН░ ыЛ╣ьЛаьЭА ынФъ░А ьХМъ│а ьЮИыКФ ъ▓Г ъ░ЩьЭАыН░."},
          {s:"n",t:"ы▓╜ьЧР ъ╕БэЮМ ъ╕АьЮРъ░А ы│┤ьЭ╕ыЛд. 'ыЛдьЛЬ'."},
          {s:"A",t:"ьаАъ▒┤ ыВ┤ъ░А ьУ┤ ъ▓М ьХДыЛИьХ╝."},
        ], bets: [{id:1,text:"эГИь╢Ь ыЛиьДЬ ы░Ьъ▓м",odds:2.5},{id:2,text:"ъ╕░ьЦ╡ьЭ┤ ыПМьХДьШ┤",odds:3.0},{id:3,text:"ыИДъ╡░ъ░А ъ┤Аь░░ ьдС",odds:2.0},{id:4,text:"ы░йьЭ┤ ы│АэХЬыЛд",odds:4.0}], event: "room" },
      ],
      mid: [
        { lines: [
          {s:"n",t:"ым╕ьЭ┤ ьЧ┤ыа╕ыЛд. ы│╡ыПДъ░А ыВШьЩФыЛд."},
          {s:"A",t:"ыВШъ░АьЮР."},
          {s:"B",t:"ьЮаъ╣Р. ьЭ┤ъ▒░ ы┤РьЪФ."},
          {s:"n",t:"ы▓╜ьЧР ьВмьзДьЭ┤ ы╢ЩьЦ┤ьЮИыЛд. ыСШ ыЛд ь░НэШАьЮИыКФ ьВмьзД."},
          {s:"A",t:"ьЭ┤ ьВмьзД... ь░НьЭА ъ╕░ьЦ╡ ьЧЖыКФыН░."},
          {s:"B",t:"ы░░ъ▓╜ьЭ┤ ьЭ┤ ы│╡ыПДьШИьЪФ."},
          {s:"n",t:"ьВмьзД ыТ╖ый┤ьЧР ыВаьзЬъ░А ьаБэШАьЮИыЛд. ыВ┤ьЭ╝ ыВаьзЬыЛд."},
          {s:"A",t:"ьЭ┤ъ▒┤... ып╕ыЮШ ыВаьзЬьЭ╕ыН░?"},
        ], bets: [{id:1,text:"ьЛЬъ░Д ыгиэФД ы░Ьъ▓м",odds:2.5},{id:2,text:"ьВмьзДьЭ┤ ыНФ ьЮИыЛд",odds:2.0},{id:3,text:"ь╢Ьъ╡мые╝ ь░╛ыКФыЛд",odds:3.0},{id:4,text:"ъ╕░ьЦ╡ ьб░ьЮС ы░Ьъ░Б",odds:4.0}], event: "corridor" },
      ],
      late: [
        { lines: [
          {s:"n",t:"ызИьзАызЙ ы░й. ыкиыЛИэД░ъ░А эХШыВШ ь╝Ььа╕ьЮИыЛд."},
          {s:"n",t:"эЩФый┤ьЧР ыСШьЭШ ыкиыУа ыМАэЩФъ░А ъ╕░ыбЭыРШьЦ┤ ьЮИыЛд."},
          {s:"B",t:"ьЭ┤ъ▒┤... ьЪ░ыжмъ░А эХЬ ызР ьаДы╢АьЮЦьХД."},
          {s:"A",t:"ыИДъ░А ы│┤ъ│а ьЮИьЧИьЦ┤."},
          {s:"B",t:"${A}... эШ╣ьЛЬ ыЛ╣ьЛаьЭ┤тАФ"},
          {s:"A",t:"ьХДыЛИьХ╝. ыВШыПД эФ╝ьЛдэЧШьЮРьХ╝."},
          {s:"n",t:"ыкиыЛИэД░ьЧР ьГИ ыйФьЛЬьзАъ░А ыЬмыЛд: 'ыЛдьЛЬ ьЛЬьЮСэХШьЛЬъ▓аьК╡ыЛИъ╣М?'"},
        ], bets: [{id:1,text:"YESые╝ ыИДые╕ыЛд",odds:2.5},{id:2,text:"ыкиыЛИэД░ые╝ ы╢АьИЬыЛд",odds:3.0},{id:3,text:"эГИь╢ЬэХЬыЛд",odds:2.0},{id:4,text:"ьзДьЛдьЭ┤ ы░ЭэШАьзР",odds:3.5}], event: "monitor" },
      ],
      climax: [
        { lines: [
          {s:"n",t:"ь╢Ьъ╡мъ░А ы│┤ьЭ╕ыЛд. ы╣ЫьЭ┤ ьГИьЦ┤ ыУдьЦ┤ьШиыЛд."},
          {s:"A",t:"ыВШъ░АьЮР."},
          {s:"B",t:"ьЮаъ╣Р."},
          {s:"A",t:"ьЩЬ?"},
          {s:"B",t:"ыВШ... ьЧмъ╕░ ыВиьЭДыЮШьЪФ."},
          {s:"A",t:"ынР?"},
          {s:"B",t:"ы░ЦьЧР ыВШъ░Аый┤ ыЛд ьЮКьЮЦьХДьЪФ. ьЧмъ╕░ьДЬьЭШ ьЭ╝ ьаДы╢А."},
          {s:"n",t:"${A}ъ░А ыйИь╢ШыЛд. ым╕ ыДИыи╕ ы╣ЫьЭ┤ ьаРьаР ы░ЭьХДьзДыЛд."},
          {s:"A",t:"...ъ░ЩьЭ┤ ъ░АьЮР."},
          {s:"B",t:"ьХ╜ьЖНэХ┤ьЪФ. ъ╕░ьЦ╡эХа ъ▒░ыЭ╝ъ│а."},
        ], bets: [{id:1,text:"эХиъ╗Ш эГИь╢Ь",odds:1.5},{id:2,text:"эХШыВШызМ ыВШъ░ДыЛд",odds:3.0},{id:3,text:"ъ╕░ьЦ╡ьЭД ьЮГыКФыЛд",odds:2.5},{id:4,text:"ыгиэФДъ░А ы░Шы│╡",odds:4.0}], event: "end" },
      ],
    },
    fantasy: {
      early: [
        { lines: [
          {s:"n",t:"ьХИъ░Ьъ░А ьзЩьЭА ьИ▓. ъ╕╕ьЭД ьЮГьЭА ьзА ьЭ┤эЛАьз╕."},
          {s:"B",t:"ьЭ┤ ьИ▓ ыБЭьЭ┤ ьЮИъ╕┤ эХЬ ъ▒░ьХ╝?"},
          {s:"A",t:"ыБЭьЭА ьЮИьЦ┤. ыВШъ░Аъ│а ьЛ╢ьЬ╝ый┤."},
          {s:"B",t:"ъ╕╕ ьХМьХД?"},
          {s:"A",t:"ъ╕╕ьЭА ык░ыЭ╝. ъ╖╝ыН░ ьИ▓ьЭА ьХМьХД."},
          {s:"n",t:"ы░Ьы░СьЧР ьЮСьЭА ъ╜ГьЭ┤ ьЮИыЛд. ъ░Аъ╣МьЭ┤ ъ░АыЛИ ьГЙьЭ┤ ы│АэЦИыЛд."},
          {s:"B",t:"ьЩЬ ьГЙьЭ┤ ы░ФыАМьЦ┤?"},
          {s:"A",t:"ыДдъ░А ъ░Аъ╣МьЭ┤ ъ░АыЛИъ╣М."},
        ], bets: [{id:1,text:"ъ╜ГьЭШ ы╣Ды░А",odds:2.5},{id:2,text:"ызИы▓Х ы░Ьъ▓м",odds:2.0},{id:3,text:"ьИ▓ьЭ┤ ы│АэХЬыЛд",odds:3.0},{id:4,text:"ьаЬ3ьб┤ьЮм ыУ▒ьЮе",odds:4.5}], event: "forest" },
      ],
      mid: [
        { lines: [
          {s:"n",t:"эПРэЧИъ░А ыРЬ эГС. ызИы▓ХьЭШ эЭФьаБызМ ыВиьХДьЮИыЛд."},
          {s:"B",t:"ьЧмъ╕░ъ░А ьзДьзЬ ызИьзАызЙьЭ┤ьЧРьЪФ?"},
          {s:"A",t:"ызИьзАызЙьЭ┤ьЧИьзА. ьЭ┤ьаЬыКФ ьХДым┤ъ▓ГыПД ьХДыЛИьХ╝."},
          {s:"B",t:"ъ╖╝ыН░ ьаЬ ьЖРьЧРьДЬ ьЭ┤ьГБэХЬ ъ▓МтАФ"},
          {s:"n",t:"ьЖРы░ФыЛеьЧРьДЬ эЭмып╕эХЬ ы╣ЫьЭ┤ эЭШыаАыЛд."},
          {s:"A",t:"ъ╖╕ъ▒░ ьУ░ьзА ызИ."},
          {s:"B",t:"ьЩЬьЪФ?"},
          {s:"A",t:"ъ╖╕ъ▒┤ ыВ┤ъ░А ьЮГьЦ┤ы▓Дыж░ ъ▒░ыЛИъ╣М."},
        ], bets: [{id:1,text:"ызИы▓ХьЭ┤ эПньг╝",odds:3.0},{id:2,text:"ъ│╝ъ▒░ъ░А ы░ЭэШАьзР",odds:2.5},{id:3,text:"ьаБьЭ┤ ыВШэГАыВи",odds:2.0},{id:4,text:"эЮШьЭД ыВШыИИыЛд",odds:3.5}], event: "tower" },
      ],
      late: [
        { lines: [
          {s:"n",t:"${A}ьЭШ ык╕ьЭ┤ ьаРьаР эИмыкЕэХ┤ьзАъ│а ьЮИыЛд."},
          {s:"B",t:"${A}! ьЩЬ ъ╖╕ыЮШ? ьВмыЭ╝ьзАъ│а ьЮИьЮЦьХД!"},
          {s:"A",t:"...ьХМъ│а ьЮИьЦ┤. ь▓ШьЭМы╢АэД░ ьХМьХШьЦ┤."},
          {s:"B",t:"ынШ ьХМьХШыКФыН░!"},
          {s:"A",t:"ыВШыКФ ьЧмъ╕░ ьЮИьЬ╝ый┤ ьХИ ыРШыКФ ьб┤ьЮмьХ╝."},
          {s:"n",t:"${A}ьЭШ ьЖРьЭ┤ ${B}ые╝ эЖ╡ъ│╝эЦИыЛд."},
          {s:"B",t:"ьЛльЦ┤. ы░йы▓ХьЭ┤ ьЮИьЭД ъ▒░ьХ╝."},
          {s:"A",t:"...ьЮИьЦ┤. эХШыВШ."},
        ], bets: [{id:1,text:"эЭмьГЭьЬ╝ыбЬ ъ╡мэХЬыЛд",odds:2.0},{id:2,text:"ыСШ ыЛд ьВмыЭ╝ьзДыЛд",odds:4.0},{id:3,text:"ызИы▓ХьЬ╝ыбЬ эХ┤ъ▓░",odds:2.5},{id:4,text:"ыодыВШьЭШ ъ░ЬьЮЕ",odds:5.0}], event: "fade" },
      ],
      climax: [
        { lines: [
          {s:"n",t:"ыкиыУа ы╣ЫьЭ┤ ыкиьЧмыУаыЛд. ьИ▓ьЭ┤ ы░ЭьХДьзДыЛд."},
          {s:"A",t:"ьЭ┤ьаЬ ьДаэГЭэХ┤ьХ╝ эХ┤."},
          {s:"B",t:"ынШ?"},
          {s:"A",t:"ыВШые╝ ъ╕░ьЦ╡эХШъ▒░ыВШ, ьЭ┤ ьД╕ъ│Дые╝ ьзАэВдъ▒░ыВШ."},
          {s:"B",t:"ыСШ ыЛдыКФ ьХИ ыП╝?"},
          {s:"A",t:"...ып╕ьХИ."},
          {s:"n",t:"${B}ъ░А ыИИьЭД ъ░РьХШыЛд. ы╣ЫьЭ┤ эД░ьбМыЛд."},
          {s:"n",t:"ыИИьЭД ыЦ┤ьЭД ыХМ, ьИ▓ьЭА ьВмыЭ╝ьзАъ│а ыУдэМРьЭ┤ьЧИыЛд."},
          {s:"n",t:"ьШЖьЧР ыкиые┤ыКФ ъ╜Г эХШыВШъ░А эФ╝ьЦ┤ьЮИьЧИыЛд."},
        ], bets: [{id:1,text:"ъ╕░ьЦ╡ьЭД ьДаэГЭ",odds:2.0},{id:2,text:"ьД╕ъ│Дые╝ ьДаэГЭ",odds:2.0},{id:3,text:"ыСШ ыЛд ъ╡мэХЬыЛд",odds:5.0},{id:4,text:"ыодыВШьЭШ эЩШьГЭ",odds:6.0}], event: "end" },
      ],
    },
    sf: {
      early: [
        { lines: [
          {s:"n",t:"эХШьЦА ы░й. ыкиыЛИэД░ эХШыВШ. ыСР ьб┤ьЮмъ░А ызИьг╝ ьХЙьХД ьЮИыЛд."},
          {s:"B",t:"ьШдыКШ ъ▓АьВм ъ▓░ъ│╝ ыВШьЩФьЦ┤?"},
          {s:"A",t:"ым┤ьКи ъ▓АьВм?"},
          {s:"B",t:"ык░ыЭ╝ыПД ыП╝. ъ╖╕ыГе ым╝ьЦ┤ы│╕ ъ▒░ьХ╝."},
          {s:"n",t:"${A}ьЭШ ыИИьЭ┤ 0.3ь┤И ыПЩьХИ ыйИь╖ДыЛд."},
          {s:"A",t:"ыВШ ъ░АыБФ ьЭ┤ьГБэХ┤. ъ░РьаХьЭ┤ ъ│ДьВ░ьЭ╕ьзА ьзДьзЬьЭ╕ьзА ыкиые┤ъ▓аьЦ┤."},
          {s:"B",t:"(ьХДьзБ ызРэХШьзА ьХКьХШьЭД ы┐Р.)"},
        ], bets: [{id:1,text:"ъ▓АьВм ъ▓░ъ│╝ ь╢йъ▓й",odds:2.5},{id:2,text:"${A}ыКФ AI",odds:3.0},{id:3,text:"${B}ъ░А ьИиъ╕░ыКФ ъ▓Г",odds:2.0},{id:4,text:"ьЛЬьКдэЕЬ ьШдыеШ",odds:3.5}], event: "test" },
      ],
      mid: [
        { lines: [
          {s:"n",t:"ьЛЬьКдэЕЬ ыбЬъ╖╕ъ░А ыЦ┤ыЛд. ${A}ьЭШ ъ╕░ыбЭьЭ┤ ыСР ъ░ЬыЛд."},
          {s:"B",t:"ьЭ┤ъ▒┤... ыДдъ░А ыСР ыкЕьЭ┤ыЭ╝ыКФ ъ▒░ьХ╝?"},
          {s:"A",t:"ьХДыЛИ. эХШыВШъ░А ы░▒ьЧЕьЭ┤ьХ╝."},
          {s:"B",t:"ьЦ┤ыЦд ъ▓М ьзДьзЬьХ╝?"},
          {s:"A",t:"...ыкиые┤ъ▓аьЦ┤. ыСШ ыЛд ыВШьЭ╕ ъ▓Г ъ░ЩьХД."},
          {s:"n",t:"ыкиыЛИэД░ьЧР ъ▓╜ъ│аыУ▒ьЭ┤ ыУдьЦ┤ьШиыЛд."},
          {s:"B",t:"ьЛЬъ░ДьЭ┤ ьЧЖьЦ┤. эХШыВШые╝ ъ│иыЭ╝."},
        ], bets: [{id:1,text:"ьЫРы│╕ьЭД ьДаэГЭ",odds:2.0},{id:2,text:"ы░▒ьЧЕьЭД ьДаэГЭ",odds:3.5},{id:3,text:"ыСШ ыЛд эХйь╣ЬыЛд",odds:4.0},{id:4,text:"ьЛЬьКдэЕЬ ъ▒░ы╢А",odds:2.5}], event: "backup" },
      ],
      late: [
        { lines: [
          {s:"n",t:"ьЛаэШ╕ъ░А ьХ╜эХ┤ьзАъ│а ьЮИыЛд. ыВиьЭА ьЛЬъ░ДьЭ┤ ьЦ╝ызИ ьЧЖыЛд."},
          {s:"A",t:"ыДИэХЬэЕМ ызР ьХИ эХЬ ъ▓М ьЮИьЦ┤."},
          {s:"B",t:"ьХМьХД. ыДдъ░А ьВмыЮМьЭ┤ ьХДыЛМ ъ▒░."},
          {s:"A",t:"...ьХМъ│а ьЮИьЧИьЦ┤?"},
          {s:"B",t:"ь▓ШьЭМы╢АэД░."},
          {s:"A",t:"ъ╖╕ыЯ░ыН░ ьЩЬтАФ"},
          {s:"B",t:"ьГБъ┤АьЧЖьЦ┤. ыДдъ░А ыКРыБ╝ыКФ ъ▒┤ ьзДьзЬьХ╝."},
          {s:"n",t:"ъ╕Аыжмь╣Ш ъ░ЩьЭА ьЮбьЭМьЭ┤ ьДЮьЭ┤ъ╕░ ьЛЬьЮСэЦИыЛд."},
        ], bets: [{id:1,text:"ьЛаэШ╕ъ░А ыБКъ╕┤ыЛд",odds:2.0},{id:2,text:"ьЭ╕ъ░ДьЭ┤ ыРЬыЛд",odds:5.0},{id:3,text:"ъ╕░ьЦ╡ьЭД ьаДьЖб",odds:3.0},{id:4,text:"эХиъ╗Ш ьЖМый╕",odds:3.5}], event: "signal" },
      ],
      climax: [
        { lines: [
          {s:"n",t:"ызИьзАызЙ ьаДьЖб. эЩФый┤ьЭ┤ ъ╣Ьы╣бьЭ╕ыЛд."},
          {s:"A",t:"ьЭ┤ъ▓М ызИьзАызЙьЭ┤ьХ╝."},
          {s:"B",t:"ьХМьХД."},
          {s:"A",t:"эХЬ ъ░АьзАызМ. ыВШ ьзДьзЬ ьвЛьХДэЦИьЦ┤."},
          {s:"B",t:"...ыВШыПД."},
          {s:"n",t:"0ъ│╝ 1ьЭ┤ эЭйьЦ┤ьзДыЛд. ьЦ┤ыФШъ░АьЧРьДЬ ьГИыбЬьЪ┤ ь╜ФыУЬъ░А ьЛЬьЮСыРЬыЛд."},
          {s:"n",t:"ы▓Дъ╖╕ ьЖНьЧРьДЬ ым┤ьЦ╕ъ░Аъ░А ъ╣иьЦ┤ыВмыЛд."},
          {s:"n",t:"ьЭ┤ыжДьЭА ьХДьзБ ьЧЖыЛд. эХШьзАызМ ъ░РьаХьЭА ьЮИыЛд."},
        ], bets: [{id:1,text:"ьЖМый╕",odds:2.0},{id:2,text:"эЩШьГЭ",odds:2.5},{id:3,text:"ыодыВШ эГДьГЭ",odds:4.0},{id:4,text:"ьЮмэЪМ",odds:3.0}], event: "end" },
      ],
    },
  };

  // Pick scene for current day/genre (avoids repeats within season)
  const usedScenes = useRef(new Set());
  const pickScene = (g, dayNum) => {
    const db = storyDB[g] || storyDB.daily;
    const phase = dayNum <= 2 ? "early" : dayNum <= 4 ? "mid" : dayNum <= 6 ? "late" : "climax";
    const pool = db[phase] || db.early;
    // Try to find unused scene
    const unused = pool.filter((_, i) => !usedScenes.current.has(`${g}-${phase}-${i}`));
    const pick = unused.length > 0 ? unused : pool;
    const idx = Math.floor(Math.random() * pick.length);
    const realIdx = pool.indexOf(pick[idx]);
    usedScenes.current.add(`${g}-${phase}-${realIdx}`);
    return pick[idx];
  };

  // Substitute character names in text
  const subNames = (text, a, b) => text.replace(/\$\{A\}/g, a).replace(/\$\{B\}/g, b);

  const FALLBACK_BETS = [
    [{id:1,text:"ы╣Ды░АьЭ┤ ыУЬыЯмыВЬыЛд",odds:4.2},{id:2,text:"ъ░Аъ╣МьЫМьзДыЛд",odds:2.1},{id:3,text:"ыодыВШьЭШ эЭФьаБ",odds:5.5},{id:4,text:"ь╢йыПМ",odds:3.0}],
    [{id:1,text:"ъ▒░ьзУызР ы░Ьъ░Б",odds:3.5},{id:2,text:"ъ░РьаХ эПны░Ь",odds:2.8},{id:3,text:"ьЭ┤ьГБэХЬ эШДьГБ",odds:4.0},{id:4,text:"ъ│╝ъ▒░ эПныбЬ",odds:3.3}],
  ];

  const genScene = async () => {
    if (!genre || !setting) return;
    const nextDay = day + 1;
    // Capture bet outcome before clearing
    const lastOutcome = correctBet ? correctBet.text : null;
    setGenning(true); setLines([]); setRevealing(true); setResults([]); setCorrectBet(null);
    setBetTimer(null); setBetLocked(false); setSceneArt(null); setTimerActive(false);
    setBets([]); setBetsLoading(false); setBetsRevealed(0);
    if (mobile) setTab("story");
    let extra = "";
    // Collect effects for system prompt
    const effects = [];
    if (active.includes("inner")) { effects.push("inner"); setActive(p => p.filter(i => i !== "inner")); }
    if (active.includes("third")) { effects.push("third"); setActive(p => p.filter(i => i !== "third")); }
    if (active.includes("choice")) { effects.push("choice"); setActive(p => p.filter(i => i !== "choice")); }
    if (whisper) { extra += `\nыИДъ╡░ъ░А ьЖНьВньШАыЛд: "${whisper}". ып╕ымШэХШъ▓М ьШБэЦе.`; setWhisper(""); }
    if (lastOutcome) { extra += `\n[ьЭ┤ьаД ьЮеый┤ ьЭ┤эЫД ьЭ╝ьЦ┤ыВЬ ьВмъ▒┤]: "${lastOutcome}" тАФ ьЭ┤ ьВмъ▒┤ьЭШ ъ▓░ъ│╝ые╝ ьЮРьЧ░ьКдыЯ╜ъ▓М ьЭ┤ьЦ┤ьДЬ ьЛЬьЮСэХШыЭ╝. ым┤ьЛЬэХШьзА ызИыЭ╝.`; }
    if (nextDay === SEASON_LEN) extra += "\nьЭ┤ъ▓ГьЭА ызИьзАызЙ ьЮеый┤ьЭ┤ыЛд. эБ┤ыЭ╝ьЭ┤ызеьКдые╝ ызМыУдъ│а ьЭ┤ьХ╝ъ╕░ые╝ ызИым┤ыжмэХШыЭ╝.";

    let parsed = null;
    let artText = null;

    // тХРтХРтХР SCENE GENERATION тХРтХРтХР
    const useApi = apiCfg.provider !== "off";
    let usedApi = false;

    if (useApi) {
      try {
        const trimCtx = ctx ? ctx.split(/(?=\n(?:\[ьВмъ▒┤:.*?\]\n)?ьЮеый┤ \d)/).slice(-3).join("") : "";
        const sysPrompt = buildPrompt(GENRES[genre], setting, mewna, nextDay, effects);
        const userMsg = trimCtx ? `${sysPrompt}\n\n---\nьзАъ╕Иъ╣МьзА:\n${trimCtx}\n\nьЮеый┤ ${nextDay}. ьГИ ьЮеый┤.${extra}` : `${sysPrompt}\n\n---\nьЮеый┤ 1. ь▓л ьЮеый┤.${extra}`;
        const txt = await llmCall(userMsg, 2000);
        if (!txt || txt.length < 10) throw new Error("empty");
        usedApi = true;
        addDebug("parse", "ЁЯУЭ эЖ╡эХй ьЭСыЛ╡", txt);
        
        // Split story and bets from single response
        const betSep = txt.indexOf("---BETS---");
        let storyPart = betSep >= 0 ? txt.slice(0, betSep).trim() : txt.trim();
        const betsPart = betSep >= 0 ? txt.slice(betSep + 10).trim() : "";
        
        const artMatch = storyPart.match(/\[ART\]([\s\S]*?)\[\/ART\]/);
        if (artMatch) artText = artMatch[1].trim();
        storyPart = storyPart.replace(/\[ART\][\s\S]*?\[\/ART\]/, "").trim();
        const cA = setting?.characters?.[0]?.name || "A";
        const cB = setting?.characters?.[1]?.name || "B";
        parsed = storyPart.split("\n").filter(l => l.trim()).map(l => {
          const t = l.trim();
          if (t.startsWith(cA + ":") || t.startsWith("A:")) return { s: "A", t: t.replace(/^[^:]+:\s*/, "").replace(/^"|"$/g, "").replace(/^"|"$/g, "") };
          if (t.startsWith(cB + ":") || t.startsWith("B:")) return { s: "B", t: t.replace(/^[^:]+:\s*/, "").replace(/^"|"$/g, "").replace(/^"|"$/g, "") };
          if (t.startsWith("C:") || t.match(/^[ъ░А-эЮг]{2,4}:/)) return { s: "C", t: t.replace(/^[^:]+:\s*/, "").replace(/^"|"$/g, "").replace(/^"|"$/g, "") };
          return { s: "n", t: t.replace(/^\*|\*$/g, "").replace(/\*/g, "") };
        });
        addDebug("parse", `ЁЯУК эММьЛ▒ ъ▓░ъ│╝ (${parsed.length}ьдД)`, parsed.map(l => `[${l.s}] ${l.t}`).join("\n"));
        setCtx(p => p + (lastOutcome ? `\n[ьВмъ▒┤: ${lastOutcome}]` : "") + "\nьЮеый┤ " + nextDay + ":\n" + storyPart);
        
        // Parse bets from same response (no second API call!)
        setBetsLoading(true);
        (async () => {
          try {
            let cleaned = betsPart.replace(/```json|```/g, "").trim();
            addDebug("bet", "ЁЯО▓ ы▓аэМЕ (эЖ╡эХй ьЭСыЛ╡ьЧРьДЬ ь╢Фь╢Ь)", cleaned);
            let jsonMatch = cleaned.match(/\[\s*\{[\s\S]*?\}\s*\]/);
            if (!jsonMatch) {
              const first = cleaned.indexOf("[");
              const last = cleaned.lastIndexOf("]");
              if (first >= 0 && last > first) jsonMatch = [cleaned.slice(first, last + 1)];
            }
            if (jsonMatch) { 
              const arr = JSON.parse(jsonMatch[0]); 
              if (arr.length >= 2 && arr[0].text) { 
                const safe = arr.map(b => ({...b, text: b.text.replace(/ыодыВШ/g, "ьЪ┤ыкЕ")}));
                addDebug("ok", "тЬУ ы▓аэМЕ эММьЛ▒ ьД▒ъ│╡", safe);
                setBets(safe); setBetsLoading(false);
                for (let i = 1; i <= safe.length; i++) {
                  await new Promise(r => setTimeout(r, 400));
                  setBetsRevealed(i);
                }
              } else throw 0;
            } else throw 0;
          } catch(betErr) {
            addDebug("warn", "тЪа эЖ╡эХй ы▓аэМЕ эММьЛ▒ ьЛдэМи тЖТ эП┤ы░▒", betErr?.message || "");
            const fb = FALLBACK_BETS[Math.floor(Math.random() * FALLBACK_BETS.length)];
            setBets(fb); setBetsLoading(false);
            for (let i = 1; i <= fb.length; i++) { await new Promise(r => setTimeout(r, 400)); setBetsRevealed(i); }
          }
        })();
      } catch (e) {
        addDebug("error", "тЬЧ ьЮеый┤ ьГЭьД▒ ьЛдэМи тЖТ ьШдэФДыЭ╝ьЭ╕", e.message);
        notify(`API ьШдыеШ: ${e.message?.slice(0,60) || "ьЧ░ъ▓░ ьЛдэМи"}`, "error");
      }
    }

    // Offline procedural engine (primary for mobile, fallback for desktop)
    if (!usedApi) {
      addDebug("info", "ЁЯУ┤ ьШдэФДыЭ╝ьЭ╕ ыкиыУЬ ьВмьЪй", `provider: ${apiCfg.provider}, usedApi: false`);
      const cA = setting?.characters?.[0]?.name || "A";
      const cB = setting?.characters?.[1]?.name || "B";
      const scene = pickScene(genre, nextDay);
      parsed = scene.lines.map(l => ({ s: l.s, t: subNames(l.t, cA, cB) }));
      // Inner voice effect
      if (effects.includes("inner")) {
        const thoughts = ["(ьЭ┤ъ▓М ызЮыКФ ъ▒┤ъ░А...)", "(ыПДызЭь╣Шъ│а ьЛ╢ыЛд.)", "(ьзДьЛдьЭД ызРэХ┤ьХ╝ эХШыВШ.)", "(ьЩЬ ьЭ┤ыЯмыКФ ъ▒░ьзА.)", "(ыНФ ьЭ┤ьГБ ык╗ ь░╕ъ▓аьЦ┤.)", "(ып╕ьХИэХ┤...)", "(ыВШыПД ыкиые┤ъ▓аьЦ┤.)"];
        parsed = parsed.map(l => l.s === "A" || l.s === "B" ? { ...l, t: l.t + " " + thoughts[Math.floor(Math.random() * thoughts.length)] } : l);
      }
      // Third character effect
      if (effects.includes("third")) {
        const cNames = ["ып╝ьзА","ьИШэШ╕","ьзАьЫР","эХШьЬд","ыПДьЬд","ьДЬьЧ░","ьдАьДЬ"];
        const cN = cNames[Math.floor(Math.random() * cNames.length)];
        parsed.splice(Math.min(4, parsed.length), 0,
          { s: "n", t: `ым╕ьЭ┤ ьЧ┤ыа╕ыЛд. ${cN}ьЭ┤(ъ░А) ыУдьЦ┤ьЩФыЛд.` },
          { s: "C", t: `"ьЧмъ╕░ьДЬ ынР эХШыКФ ъ▒░ьХ╝? ыСШ ыЛд?"` },
          { s: "C", t: `"ыВШыПД ьХМ ъ╢Мыжмъ░А ьЮИьЦ┤."` },
        );
      }
      // Whisper injection into narration
      if (extra.includes("ьЖНьВньШАыЛд")) {
        parsed.splice(Math.min(3, parsed.length), 0, { s: "n", t: "ьЦ┤ыФШъ░АьЧРьДЬ ып╕ьД╕эХЬ ыЦиыж╝ьЭ┤ ыКРъ╗┤ьбМыЛд. ыодыВШьЭШ эЭФьаБьЭ╕ъ░А." });
      }
      // Last outcome continuity
      if (lastOutcome) {
        parsed.unshift({ s: "n", t: `ьЭ┤ьаД ьЭ┤ьХ╝ъ╕░ьЧРьДЬ тАФ ${lastOutcome}.` });
      }
      const offlineBets = scene.bets.map(b => ({ ...b, text: subNames(b.text, cA, cB) }));
      setBets(offlineBets);
      // Stagger reveal offline bets too
      (async () => { for (let i = 1; i <= offlineBets.length; i++) { await new Promise(r => setTimeout(r, 400)); setBetsRevealed(i); } })();
      setCtx(p => p + (lastOutcome ? `\n[ьВмъ▒┤: ${lastOutcome}]` : "") + "\nьЮеый┤ " + nextDay + ": " + scene.event);
    }

    // Reveal lines with delay
    if (parsed) {
      setDay(nextDay);
      if (artText) setSceneArt(artText);
      for (let i = 0; i < parsed.length; i++) {
        await new Promise(r2 => setTimeout(r2, 800 + Math.random() * 1000));
        setLines(p => [...p, parsed[i]]);
      }
    }
    setRevealing(false);
    setGenning(false);
    // Bet timer now starts via useEffect when betsRevealed === bets.length
  };

  const placeBet = (b) => {
    if (betLocked) { notify("ы▓аэМЕ ызИъ░Р!", "error"); return; }
    const existing = myBets.find(x => x.id === b.id);
    if (existing) { setKarma(k => k + existing.amount); setMyBets(p => p.filter(x => x.id !== b.id)); notify(`"${b.text}" ь╖иьЖМ`, "info"); return; }
    if (karma < betAmt) { notify("ьЧЕ ы╢Аьб▒", "error"); return; }
    const dbl = active.includes("double"); const ins = active.includes("insure");
    setKarma(k => k - betAmt);
    setMyBets(p => [...p, { ...b, odds: dbl ? b.odds * 2 : b.odds, amount: betAmt, insured: ins }]);
    if (dbl) setActive(p => p.filter(i => i !== "double"));
    if (ins) setActive(p => p.filter(i => i !== "insure"));
    notify(`"${b.text}" ${betAmt}ьЧЕ ${dbl ? "(├Ч2!)" : ""}`, "success");
  };

  const resolve = () => {
    if (!myBets.length) return;
    // Pick one correct outcome from all bets (weighted by inverse odds = more likely outcomes win more often)
    const correct = bets.length > 0 ? bets[(() => { const weights = bets.map(b => 1/b.odds); const total = weights.reduce((a,b)=>a+b,0); let r = Math.random()*total; for(let i=0;i<weights.length;i++){r-=weights[i];if(r<=0)return i;} return 0; })()] : null;
    setCorrectBet(correct);
    const res = myBets.map(b => { const won = correct && b.id === correct.id; const pay = won ? Math.floor(b.amount * b.odds) : b.insured ? Math.floor(b.amount * 0.5) : 0; return { ...b, won, pay }; });
    const tot = res.reduce((s, r) => s + r.pay, 0);
    setKarma(k => {
      const next = k + tot;
      if (next <= 0) setTimeout(() => setPhase("gameover"), 2000);
      return next;
    });
    setResults(res); setMyBets([]);
    notify(tot > 0 ? `+${tot} ьЧЕ!` : "ьЛдэМи...", tot > 0 ? "success" : "error");
  };

  // Check karma after each day
  useEffect(() => {
    if (phase === "playing" && karma <= 0 && !genning && !revealing) {
      setPhase("gameover");
    }
  }, [karma, phase, genning, revealing]);

  // Start bet timer when all bets are revealed
  useEffect(() => {
    if (bets.length > 0 && betsRevealed >= bets.length && betTimer === null && !betLocked) {
      setBetTimer(120);
      setTimerActive(true);
      if (mobile && tab === "story") notify("ы▓аэМЕ ьЧ┤ыж╝! тЖТ", "success");
    }
  }, [betsRevealed, bets.length]);

  const buy = (item) => { if (karma < item.price) { notify("ьЧЕ ы╢Аьб▒", "error"); return; } setKarma(k => k - item.price); setInv(p => [...p, item.id]); notify(`${item.name} ъ╡мызд`, "success"); };
  const use = (id) => {
    if (!inv.includes(id)) return;
    if (id === "whisper") setWhisperOpen(true);
    else if (id === "peek") { setPeekModal(setting?.characters?.map(c => ({ name: c.name, secret: c.secret, gender: c.gender })) || []); }
    else if (id === "card") { const last = lines.slice(-4); if (!last.length) { notify("ьЮеый┤ ьЧЖьЭМ", "error"); return; } setCardModal(last); }
    else { setActive(p => [...p, id]); notify(`${SHOP_ITEMS.find(i => i.id === id)?.name} ON`, "success"); }
    setInv(p => { const i = p.indexOf(id); const n = [...p]; n.splice(i, 1); return n; });
  };

  const die = async () => {
    setBetTimer(null); setBetLocked(false); setTimerActive(false);
    setStorySummary(null);
    setPhase("death");
    // Generate story summary
    const summaryPromise = (async () => {
      if (!ctx) return;
      // Try API if configured
      if (apiCfg.provider !== "off") {
        try {
          const txt = await llmCall(`ыЛдьЭМьЭА 7ьЮеый┤ьЭШ ьЭ┤ьХ╝ъ╕░ьЭ┤ыЛд:\n\n${ctx}\n\nьЭ┤ ьЭ┤ьХ╝ъ╕░ые╝ 3~5ьдДыбЬ ьЪФьХ╜эХШыЭ╝. эХ╡ьЛм ьВмъ▒┤ъ│╝ ъ▓░ызРьЭД эПмэХи. эХЬъ╡ньЦ┤. ым╕эХЩьаБьЭ┤ъ│а ъ░Дъ▓░эХШъ▓М. ьаЬыкйыПД эХЬ ьдД ы╢ЩьЧмыЭ╝.\n\nэШХьЛЭ:\nьаЬыкй: ...\nьЪФьХ╜: ...`, 8000);
          if (txt) { setStorySummary(txt); return; }
        } catch {}
      }
      // Offline summary from event log
      const events = ctx.match(/ьЮеый┤ \d+.*$/gm) || [];
      const genreNames = { makjang: "ызЙьЮе", romance: "ыбЬызиьКд", daily: "ьЭ╝ьГБ", thriller: "ьКдыж┤ыЯм", fantasy: "эМРэГАьзА", sf: "SF" };
      const cA = setting?.characters?.[0]?.name || "A";
      const cB = setting?.characters?.[1]?.name || "B";
      const titles = [`${cA}ьЩА ${cB}ьЭШ ьЭ┤ьХ╝ъ╕░`, `ыБЭыВШьзА ьХКьЭА ьЭ┤ьХ╝ъ╕░`, `ыСР ьВмыЮМьЭШ ъ│ДьаИ`, `${genreNames[genre] || "ьЭ┤ьХ╝ъ╕░"}: ${cA}ьЩА ${cB}`];
      const endings = ["ъ▓░ъ╡н ыСШьЭА ьДЬыбЬьЭШ ьзДьЛмьЭД эЩХьЭ╕эЦИыЛд.", "ыкиыУа ъ▓ГьЭ┤ ыБЭыВШъ│а, ь╣иым╡ызМ ыВиьХШыЛд.", "ыЛ╡ьЭА ьЧЖьЧИыЛд. эХШьзАызМ эЫДэЪМыПД ьЧЖьЧИыЛд.", "ьЭ┤ьХ╝ъ╕░ыКФ ыБЭыВмьзАызМ, ъ░РьаХьЭА ыВиьХДьЮИыЛд."];
      const title = titles[Math.floor(Math.random() * titles.length)];
      const ending = endings[Math.floor(Math.random() * endings.length)];
      setStorySummary(`ьаЬыкй: ${title}\nьЪФьХ╜: 7ьЮеый┤ьЧР ъ▒╕ь│Р ${cA}ьЩА ${cB}ьЭШ ьЭ┤ьХ╝ъ╕░ъ░А эО╝ь│РьбМыЛд. ${events.length}ъ░ЬьЭШ ьВмъ▒┤ьЭ┤ ыСШьЭШ ъ┤Аъ│Дые╝ ыТдэЭФыУдьЧИыЛд. ${ending}`);
    })();
    const timerPromise = new Promise(r => setTimeout(r, 5000));
    await Promise.all([summaryPromise, timerPromise]);
    setPhase("reborn");
  };
  const reborn = () => {
    setGENRES(buildGenres());
    usedScenes.current = new Set();
    setSeason(s => s + 1); setDay(0); setCtx(""); setLines([]); setBets([]); setMyBets([]);
    setResults([]); setActive([]); setGenre(null); setSetting(null); setSceneArt(null);
    setBetTimer(null); setBetLocked(false); setTimerActive(false); setStorySummary(null); setPhase("genre");
  };

  // Scroll to bottom
  useEffect(() => { if (ref.current) ref.current.scrollTop = ref.current.scrollHeight; }, [lines]);

  // Bet timer countdown
  useEffect(() => {
    if (!timerActive || betTimer === null || betTimer <= 0) return;
    const id = setInterval(() => {
      setBetTimer(prev => {
        if (prev !== null && prev <= 1) {
          clearInterval(id);
          setBetLocked(true);
          setTimerActive(false);
          return 0;
        }
        return prev !== null ? prev - 1 : null;
      });
    }, 1000);
    return () => clearInterval(id);
  }, [timerActive]);

  // Notify when betting locks
  useEffect(() => {
    if (betLocked && betTimer === 0) { notify("ы▓аэМЕ ызИъ░Р!", "error"); if (myBets.length > 0) setTimeout(() => resolve(), 1500); }
  }, [betLocked]);

  // Day 7 season end is now handled by explicit button

  const gc = genre ? GENRES[genre].color : "#888";
  const mono = "'JetBrains Mono',monospace";
  const serif = "'Noto Serif KR',serif";
  const css = `@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;700;900&family=JetBrains+Mono:wght@400;700&display=swap');
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes betSlideIn{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
@keyframes slideIn{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:translateX(0)}}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:1}}@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
@keyframes notifIn{from{opacity:0;transform:translateY(-20px) translateX(-50%)}to{opacity:1;transform:translateY(0) translateX(-50%)}}
@keyframes flicker{0%,100%{opacity:1}96%{opacity:1}97%{opacity:.7}98%{opacity:1}}
@keyframes glitchHard{0%{transform:translate(0);filter:hue-rotate(0)}20%{transform:translate(-4px,2px);filter:hue-rotate(90deg)}40%{transform:translate(2px,-4px);filter:hue-rotate(180deg)}100%{transform:translate(0);filter:hue-rotate(360deg)}}
@keyframes expand{from{letter-spacing:2px;opacity:.5}to{letter-spacing:10px;opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes braillePulse{0%,100%{opacity:.04}50%{opacity:.08}}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}::-webkit-scrollbar{width:3px}::-webkit-scrollbar-track{background:#0a0a0a}::-webkit-scrollbar-thumb{background:#222;border-radius:2px}
body{margin:0;overscroll-behavior:none}`;
  const bp = { background: "#0a0a0a", height: "100vh", fontFamily: serif, color: "#e2e2e2", position: "relative", overflow: "hidden" };
  // Apply dvh for mobile browsers
  if (typeof CSS !== "undefined" && CSS.supports && CSS.supports("height", "100dvh")) bp.height = "100dvh";
  const NB = notif && <div style={{ position: "fixed", top: 16, left: "50%", transform: "translateX(-50%)", background: notif.t === "success" ? "#0a1a0a" : notif.t === "error" ? "#1a0a0a" : "#0a0a1a", border: `1px solid ${notif.t === "success" ? "#4ade80" : notif.t === "error" ? "#f87171" : "#60a5fa"}33`, color: notif.t === "success" ? "#4ade80" : notif.t === "error" ? "#f87171" : "#60a5fa", padding: "10px 16px", fontSize: mobile ? 11 : 11, zIndex: 200, fontFamily: mono, animation: "notifIn .3s ease-out", maxWidth: "92vw", textAlign: "left", wordBreak: "break-all", lineHeight: 1.6 }}>{notif.m}</div>;
  const scan = <div style={{ position: "absolute", inset: 0, background: "repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,255,255,.015) 2px,rgba(255,255,255,.015) 4px)", pointerEvents: "none", zIndex: 10 }} />;

  // ===== MODAL HELPER =====
  // Modal uses stable ModalOverlay component defined outside

  // ===== INTRO =====
  if (phase === "intro") return (
    <div style={{ ...bp, display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", padding: mobile ? 24 : 0 }}>
      <style>{css}</style>{scan}
      <div style={{ position: "absolute", top: "50%", left: "50%", transform: "translate(-50%, -50%)", zIndex: 1, width: "100%", maxWidth: 500 }}>
        <BrailleBlock art={BRAILLE.logo} color="#fff" opacity={0.5} maxW={mobile ? 340 : 480} />
      </div>
      <div style={{ animation: "flicker 8s infinite", textAlign: "center", zIndex: 5, position: "relative" }}>
        <div style={{ fontSize: mobile ? 9 : 11, letterSpacing: mobile ? 4 : 8, color: "#444", marginBottom: 24, fontFamily: mono, textTransform: "uppercase" }}>simulation ┬╖ betting ┬╖ reincarnation</div>
        <h1 style={{ fontSize: mobile ? 32 : 48, fontWeight: 900, letterSpacing: -1, margin: "0 0 6px", color: "#fff" }}>An we man we man</h1>
        <div style={{ fontSize: mobile ? 10 : 12, color: "#555", fontFamily: mono, letterSpacing: 3, marginBottom: 40 }}>a╠╖╠вn╠╡╠иw╠╢╠зe╠╖╠вm╠╡╠и ┬╖ a╠╖╠вn╠╡╠иw╠╢╠зe╠╖╠вm╠╡╠и</div>
        <div style={{ maxWidth: 340, margin: "0 auto 40px", fontSize: mobile ? 13 : 14, lineHeight: 2, color: "#999", fontWeight: 300 }}>
          AIъ░А ызМыУЬыКФ ьЛЬыомыаИьЭ┤ьЕШ ьД╕ъ│Д.<br />ьзАь╝Ьы│┤ъ│а, ьШИь╕бэХШъ│а, ъ▒╕ьЦ┤ыЭ╝.<br />
          <span style={{ color: "#555", fontSize: 11 }}>ыодыВШыКФ ызды▓И ыЛдые╕ ыкиьК╡ьЬ╝ыбЬ эЩШьГЭэХЬыЛд.</span>
        </div>
        <button onClick={() => setPhase("genre")} style={{ background: "transparent", border: "1px solid #333", color: "#ccc", padding: mobile ? "12px 36px" : "14px 48px", fontSize: 14, fontFamily: serif, cursor: "pointer", letterSpacing: 4, transition: "all .3s" }}>ъ┤А ьаД ьЛЬ ьЮС</button>
      </div>
      <div style={{ position: "absolute", bottom: 20, fontSize: 9, color: "#2a2a2a", fontFamily: mono, letterSpacing: 2, zIndex: 5 }}>mewnaьЭШ ъ▒░ьЪ╕ ┬╖ ыПДэММып╝ьЭШ ьД╕ъ│Д</div>
    </div>
  );

  // ===== GENRE =====
  if (phase === "genre") return (
    <div style={{ ...bp, display: "flex", flexDirection: "column", alignItems: "center", justifyContent: mobile ? "flex-start" : "center", padding: mobile ? "40px 16px" : 20, overflowY: "auto" }}>
      <style>{css}</style>{NB}
      <div style={{ position: "fixed", bottom: -40, right: -40, zIndex: 0, opacity: 0.43, pointerEvents: "none" }}>
        <BrailleBlock art={BRAILLE.logo} color="#fff" opacity={1} maxW={mobile ? 200 : 300} />
      </div>
      <div style={{ textAlign: "center", zIndex: 5, width: "100%", maxWidth: 720 }}>
        <div style={{ fontSize: 11, letterSpacing: 6, color: "#444", marginBottom: 8, fontFamily: mono }}>SEASON {season}</div>
        <h2 style={{ fontSize: mobile ? 22 : 28, fontWeight: 300, marginBottom: 6 }}>ьД╕ъ│Дые╝ ьДаэГЭэХШьД╕ьЪФ</h2>
        <p style={{ fontSize: mobile ? 13 : 12, color: "#777", marginBottom: 28 }}>ыодыВШыКФ ьЭ┤ ьД╕ъ│Д ьЦ┤ыФШъ░АьЧР ьИиьЦ┤ ьЮИьК╡ыЛИыЛд</p>
        <div style={{ display: "flex", gap: 8, justifyContent: "center", flexWrap: "wrap", marginBottom: 28 }}>
          {Object.entries(GENRES).map(([k, g], i) => (
            <div key={k} onClick={() => { setGenre(k); setSetting(null); }} style={{
              width: mobile ? "calc(33% - 6px)" : 115, padding: mobile ? "14px 6px" : "22px 10px",
              border: `1px solid ${genre === k ? g.color + "88" : "#1a1a1a"}`,
              background: genre === k ? g.color + "0a" : "#0c0c0c", cursor: "pointer", textAlign: "center",
              transition: "all .3s", animation: `fadeUp .5s ease-out ${i * .06}s both`,
            }}>
              <pre style={{ fontFamily: "'JetBrains Mono',monospace", fontSize: mobile ? 8 : 9, lineHeight: 1.1, color: genre === k ? g.color : "#444", margin: "0 0 4px", textAlign: "center" }}>{ART.genre[k]}</pre>
              <div style={{ fontSize: mobile ? 14 : 13, color: genre === k ? g.color : "#aaa", fontWeight: genre === k ? 700 : 400 }}>{g.name}</div>
              <div style={{ fontSize: mobile ? 11 : 10, color: "#555", marginTop: 4, lineHeight: 1.4 }}>{g.desc}</div>
            </div>
          ))}
        </div>
        {genre && <div style={{ animation: "fadeUp .4s ease-out" }}>
          <p style={{ fontSize: 11, color: "#555", marginBottom: 12 }}>ьЛЬыВШыжмьШд</p>
          <div style={{ display: "flex", gap: 8, justifyContent: "center", flexWrap: "wrap", marginBottom: 28 }}>
            {GENRES[genre].settings.map((s, i) => (
              <div key={i} onClick={() => { setSetting(s); setMewna(GENRES[genre].mewnaForms[Math.floor(Math.random() * GENRES[genre].mewnaForms.length)]); }} style={{
                width: mobile ? "100%" : 240, padding: mobile ? 14 : 18, textAlign: "left",
                border: `1px solid ${setting === s ? GENRES[genre].color + "66" : "#1a1a1a"}`,
                background: setting === s ? GENRES[genre].color + "08" : "#0c0c0c", cursor: "pointer",
              }}>
                <div style={{ fontSize: mobile ? 15 : 14, color: setting === s ? GENRES[genre].color : "#ccc", fontWeight: 700, marginBottom: 4 }}>{s.title}</div>
                <div style={{ fontSize: mobile ? 13 : 12, color: "#666", lineHeight: 1.5 }}>{s.desc}</div>
                <div style={{ marginTop: 6, display: "flex", gap: 4 }}>
                  {s.characters.map(c => <span key={c.id} style={{ fontSize: mobile ? 11 : 10, color: "#555", fontFamily: mono, background: "#111", padding: "2px 8px" }}>{c.name} {c.gender}</span>)}
                </div>
              </div>
            ))}
          </div>
        </div>}
        {setting && <button onClick={() => setPhase("playing")} style={{
          background: "transparent", border: `1px solid ${GENRES[genre].color}44`, color: GENRES[genre].color,
          padding: "12px 40px", fontSize: 13, fontFamily: serif, cursor: "pointer", letterSpacing: 3,
          animation: "fadeUp .5s ease-out", marginBottom: 40,
        }}>ьЛЬ ыом ыаИ ьЭ┤ ьЕШ ьЛЬ ьЮС</button>}
      </div>
    </div>
  );

  // ===== DEATH =====
  if (phase === "death") return (
    <div style={{ ...bp, display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", padding: 24 }}>
      <style>{css}</style>
      <div style={{ position: "absolute", top: "50%", left: "50%", transform: "translate(-50%, -50%)", zIndex: 1, width: "100%", maxWidth: 500, animation: "glitchHard .5s infinite" }}>
        <BrailleBlock art={BRAILLE.logo} color="#f87171" opacity={0.53} maxW={mobile ? 340 : 480} />
      </div>
      <div style={{ textAlign: "center", zIndex: 5, position: "relative" }}>
        <div style={{ fontSize: 14, color: "#f87171", marginBottom: 16, fontFamily: mono }}>SEASON {season} тАФ COLLAPSE</div>
        <div style={{ fontSize: mobile ? 28 : 38, fontWeight: 900, marginBottom: 24 }}><GlitchText text="An we man we man" intensity={3} /></div>
        <div style={{ fontSize: 12, color: "#555", lineHeight: 2.5, fontFamily: mono, animation: "expand 2s ease-out forwards" }}>
          An we man we man we man<br /><span style={{ color: "#f87171" }}>An we man we man we man we man</span>
        </div>
      </div>
    </div>
  );

  // ===== REBORN =====
  if (phase === "gameover") return (
    <div style={{ ...bp, display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", textAlign: "center", padding: 24 }}>
      <style>{css}</style>
      <div style={{ position: "absolute", top: "50%", left: "50%", transform: "translate(-50%, -50%)", zIndex: 1, width: "100%", maxWidth: 500, opacity: 0.3 }}>
        <BrailleBlock art={BRAILLE.logo} color="#f87171" opacity={0.6} maxW={mobile ? 340 : 480} />
      </div>
      <div style={{ zIndex: 5, position: "relative", animation: "fadeIn 1s ease-out" }}>
        <div style={{ fontSize: 11, color: "#f87171", fontFamily: mono, letterSpacing: 4, marginBottom: 20 }}>GAME OVER</div>
        <div style={{ fontSize: mobile ? 24 : 32, fontWeight: 900, color: "#f87171", marginBottom: 12 }}>
          <GlitchText text="ьЧЕьЭ┤ ьЖМьзДыРШьЧИьК╡ыЛИыЛд" intensity={1} />
        </div>
        <div style={{ fontSize: mobile ? 14 : 13, color: "#555", lineHeight: 2, marginBottom: 8 }}>
          ьЛЬьжМ {season} ┬╖ ьЮеый┤ {day}/{SEASON_LEN}
        </div>
        <div style={{ fontSize: mobile ? 13 : 12, color: "#444", lineHeight: 1.8, marginBottom: 30, maxWidth: 300, margin: "0 auto 30px" }}>
          ыодыВШьЭШ эЩШьГЭьЭА ыБКъ╕░ьзА ьХКыКФыЛд.<br />ыЛдьЛЬ 1000ьЧЕьЬ╝ыбЬ ьЛЬьЮСэХйыЛИыЛд.
        </div>
        <button onClick={() => {
          setGENRES(buildGenres());
          setKarma(1000); setSeason(1); setDay(0); setCtx(""); setLines([]); setBets([]); setMyBets([]);
          setResults([]); setActive([]); setInv([]); setGenre(null); setSetting(null); setSceneArt(null);
          setBetTimer(null); setBetLocked(false); setTimerActive(false); setStorySummary(null); setPhase("genre");
        }} style={{
          background: "transparent", border: "1px solid #f8717144", color: "#f87171",
          padding: "14px 40px", fontSize: 14, fontFamily: serif, cursor: "pointer", letterSpacing: 3,
        }}>
          ь▓Ш ьЭМ ы╢А эД░
        </button>
      </div>
    </div>
  );

  if (phase === "reborn") return (
    <div style={{ ...bp, display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", textAlign: "center", padding: 24 }}>
      <style>{css}</style>
      <div style={{ position: "absolute", top: "50%", left: "50%", transform: "translate(-50%, -55%)", zIndex: 1, width: "100%", maxWidth: 400 }}>
        <BrailleBlock art={BRAILLE.tpose} color="#fff" opacity={0.5} maxW={mobile ? 300 : 380} glow />
      </div>
      <div style={{ animation: "fadeIn 2s ease-out", zIndex: 5, position: "relative", maxWidth: 400, width: "100%" }}>
        <div style={{ fontSize: 11, color: "#444", letterSpacing: 6, fontFamily: mono, marginBottom: 24 }}>REINCARNATION</div>
        <div style={{ fontSize: mobile ? 24 : 30, fontWeight: 300, marginBottom: 8 }}>ьЛЬьжМ {season} ьвЕыгМ</div>
        <div style={{ fontSize: 13, color: "#777", marginBottom: 6 }}>{SEASON_LEN}ьЮеый┤ ьЩДыгМ ┬╖ ьЧЕ {karma}</div>
        {storySummary && (() => {
          const titleMatch = storySummary.match(/ьаЬыкй[:я╝Ъ]\s*(.+)/);
          const summaryMatch = storySummary.match(/ьЪФьХ╜[:я╝Ъ]\s*([\s\S]+)/);
          const title = titleMatch ? titleMatch[1].trim() : null;
          const summary = summaryMatch ? summaryMatch[1].trim() : storySummary;
          return (
            <div style={{ margin: "20px auto", padding: "16px 20px", background: "#0a0a0a", border: `1px solid ${gc}22`, maxWidth: 360, textAlign: "left", animation: "fadeIn 1.5s ease-out" }}>
              {title && <div style={{ fontSize: mobile ? 15 : 14, color: gc, fontWeight: 700, marginBottom: 10, textAlign: "center", fontFamily: serif }}>уАМ{title}уАН</div>}
              <div style={{ fontSize: mobile ? 13 : 12, color: "#999", lineHeight: 2, fontFamily: serif }}>{summary}</div>
              <div style={{ fontSize: 9, color: "#333", fontFamily: mono, marginTop: 10, textAlign: "right" }}>тАФ {GENRES[genre]?.name || "???"} ┬╖ {setting?.characters?.map(c => c.name).join(" & ")}</div>
            </div>
          );
        })()}
        <div style={{ fontSize: 11, color: "#444", marginBottom: 30, lineHeight: 1.8 }}>ьГИыбЬьЪ┤ ьД╕ъ│Дъ░А ьЧ┤ыж╜ыЛИыЛд.<br />ыодыВШыКФ ыЛдьЛЬ ьЦ┤ыФШъ░АьЧР...</div>
        <button onClick={reborn} style={{ background: "transparent", border: "1px solid #333", color: "#ccc", padding: "12px 40px", fontSize: 13, fontFamily: serif, cursor: "pointer", letterSpacing: 4 }}>ыЛд ьЭМ ьД╕ ъ│Д</button>
      </div>
    </div>
  );

  // ===== PLAYING =====
  const StoryPanel = () => (
    <div style={{ flex: 1, display: "flex", flexDirection: "column", minHeight: 0 }}>
      {/* Characters */}
      <div style={{ display: "flex", justifyContent: "center", gap: mobile ? 30 : 44, padding: mobile ? "14px 12px 6px" : "20px 16px 10px", background: "#0c0c0c" }}>
        {setting?.characters.map(c => (
          <div key={c.id} style={{ textAlign: "center" }}>
            <pre style={{ fontFamily: "'JetBrains Mono',monospace", fontSize: mobile ? 9 : 10, lineHeight: 1.1, color: c.id === "A" ? gc + "66" : "#a0c4e866", margin: "0 auto 4px", textAlign: "center" }}>{c.id === "A" ? ART.charA : ART.charB}</pre>
            <div style={{ fontSize: mobile ? 17 : 15, color: c.id === "A" ? gc : "#a0c4e8", fontWeight: 700 }}>{c.name}</div>
            <div style={{ fontSize: mobile ? 9 : 8, color: "#444", fontFamily: mono, marginTop: 1 }}>{c.age > 0 ? c.age : "?"} ┬╖ {c.gender}</div>
          </div>
        ))}
      </div>
      <div style={{ textAlign: "center", padding: "2px 0", borderBottom: "1px solid #131313" }}>
        <span style={{ fontSize: 8, color: "#1a1a1a", fontFamily: mono, letterSpacing: 4 }}>{ART.divider}</span>
      </div>
      {/* Inventory */}
      {inv.length > 0 && (
        <div style={{ display: "flex", gap: 4, padding: "5px 12px", borderBottom: "1px solid #131313", flexWrap: "wrap" }}>
          {inv.map((id, i) => { const it = SHOP_ITEMS.find(x => x.id === id); return (
            <button key={i} onClick={() => use(id)} style={{ background: "#0a0a0a", border: `1px solid ${RC[it?.rarity]}33`, color: RC[it?.rarity], padding: mobile ? "5px 10px" : "3px 8px", fontSize: mobile ? 11 : 10, cursor: "pointer", fontFamily: mono }}>{it?.icon} {it?.name}</button>
          ); })}
        </div>
      )}
      {/* Scene */}
      <div ref={ref} style={{ flex: 1, overflowY: "auto", WebkitOverflowScrolling: "touch", height: 0, padding: mobile ? "12px 16px" : "14px 22px", display: "flex", flexDirection: "column", gap: 1 }}>
        {day === 0 && !genning && (
          <div style={{ textAlign: "center", marginTop: 10 }}>
            <div style={{ maxWidth: mobile ? 260 : 300, margin: "0 auto", opacity: 0.8 }}>
              <BrailleBlock art={BRAILLE.tpose} color={gc} opacity={0.55} maxW={mobile ? 220 : 280} />
            </div>
            <div style={{ color: "#555", fontSize: mobile ? 20 : 17, lineHeight: 2, marginTop: 8 }}>
              {setting?.title}<br /><span style={{ fontSize: mobile ? 16 : 14, color: "#444" }}>{setting?.desc}</span><br /><br />
              <span style={{ color: "#444", fontSize: mobile ? 16 : 14 }}>ыодыВШъ░А ьЦ┤ыФШъ░АьЧР ьЮИьК╡ыЛИыЛд...</span>
            </div>
          </div>
        )}
        {genning && (
          <div style={{ textAlign: "center", marginTop: mobile ? 60 : 80 }}>
            <div style={{ color: "#333", fontSize: mobile ? 14 : 13, animation: "pulse 3s infinite", letterSpacing: 2, fontFamily: mono }}>
              ьЮеый┤ ьГЭьД▒ ьдС...
            </div>
          </div>
        )}
        {sceneArt && day > 0 && (
          <div style={{ textAlign: "center", margin: "6px 0 10px", animation: "fadeUp .6s ease-out" }}>
            <ArtBlock art={sceneArt} color={gc + "44"} size={mobile ? 7 : 8} />
            <div style={{ fontSize: 8, color: "#1a1a1a", fontFamily: mono, marginTop: 2, letterSpacing: 4 }}>{ART.divider}</div>
          </div>
        )}
        {lines.map((l, i) => (
          <div key={i} style={{ padding: "5px 0", ...(i === lines.length - 1 ? { animation: "fadeIn .4s ease-out" } : {}) }}>
            {l.s === "n" ? <div style={{ color: "#7090a8", fontSize: mobile ? 17 : 16, fontStyle: "italic", textAlign: "center", padding: "4px 0" }}>{
              l.t.split(/(\([^)]+\))/).map((part, pi) =>
                part.startsWith("(") && part.endsWith(")") ?
                  <span key={pi} style={{ color: "#a78bfa", fontWeight: 400 }}>{part}</span> :
                  <span key={pi}>{part}</span>
              )
            }</div> : (
              <div style={{ display: "flex", gap: 8, alignItems: "flex-start" }}>
                <span style={{ color: l.s === "A" ? gc : l.s === "C" ? "#f59e0b" : "#a0c4e8", fontSize: mobile ? 17 : 15, fontWeight: 700, minWidth: 28, fontFamily: mono }}>{setting?.characters.find(c => c.id === l.s)?.name || (l.s === "C" ? "C" : "?")}</span>
                <span style={{ color: "#fff", fontSize: mobile ? 20 : 18, lineHeight: 1.8, fontWeight: 700 }}>{
                  l.t.split(/(\([^)]+\))/).map((part, pi) =>
                    part.startsWith("(") && part.endsWith(")") ?
                      <span key={pi} style={{ color: "#a78bfa", fontStyle: "italic", fontWeight: 300, fontSize: mobile ? 16 : 14 }}>{part}</span> :
                      <span key={pi}>{part}</span>
                  )
                }</span>
              </div>
            )}
          </div>
        ))}
        {revealing && <div style={{ color: "#333", fontSize: 11, padding: "5px 0", animation: "pulse 1.5s infinite" }}>тЦН</div>}
        {results.length > 0 && (
          <div style={{ margin: "12px 0", padding: mobile ? 14 : 12, border: "1px solid #60a5fa33", background: "#0a0a14", animation: "fadeIn .4s ease-out" }}>
            <div style={{ fontSize: mobile ? 12 : 11, color: "#60a5fa", fontFamily: mono, marginBottom: 8, letterSpacing: 2 }}>тмв RESULT</div>
            {correctBet && <div style={{ fontSize: mobile ? 16 : 14, color: "#60a5fa", padding: "6px 0 10px", borderBottom: "1px solid #60a5fa22", marginBottom: 8 }}>
              <span style={{ color: "#60a5fa88", fontFamily: mono, fontSize: mobile ? 11 : 10, marginRight: 8 }}>ьаХыЛ╡</span>
              <span style={{ fontWeight: 700 }}>{correctBet.text}</span>
              <span style={{ color: "#60a5fa88", fontFamily: mono, fontSize: mobile ? 11 : 10, marginLeft: 8 }}>├Ч{correctBet.odds.toFixed(1)}</span>
            </div>}
            {results.map((r, i) => (
              <div key={i} style={{ display: "flex", justifyContent: "space-between", padding: "5px 0", fontSize: mobile ? 17 : 15, color: r.won ? "#4ade80" : "#f87171" }}>
                <span style={{ fontWeight: r.won ? 700 : 400 }}>{r.won ? "тЬУ " : "тЬЧ "}{r.text}</span>
                <span style={{ fontFamily: mono, fontWeight: 700 }}>{r.won ? `+${r.pay}` : r.insured && r.pay > 0 ? `тИТ${r.amount - r.pay} (ы│┤эЧШ)` : `тИТ${r.amount}`}</span>
              </div>
            ))}
          </div>
        )}
      </div>
      {/* Action */}
      <div className="safe-bottom" style={{ padding: mobile ? "8px 12px" : "10px 14px", borderTop: "1px solid #131313", display: "flex", gap: 6 }}>
        {day < SEASON_LEN ? (
          results.length > 0 ? (
            <button onClick={() => { setTimerActive(false); setBetTimer(null); setBetLocked(false); genScene(); }}
              style={{ flex: 1, background: "#0a1a0a", border: "1px solid #4ade8033", color: "#4ade80", padding: mobile ? "14px 0" : "10px 0", fontSize: mobile ? 15 : 14, fontFamily: serif, cursor: "pointer", letterSpacing: 2 }}>
              тЦ╢  ъ▓░ъ│╝ эЩХьЭ╕ тЖТ ыЛдьЭМ ьЮеый┤
            </button>
          ) : (
          <button onClick={() => {
            if (myBets.length) { resolve(); return; }
            setTimerActive(false); setBetTimer(null); setBetLocked(false); genScene();
          }} disabled={genning || revealing}
            style={{ flex: 1, background: genning ? "#0c0c0c" : day === SEASON_LEN - 1 ? "#1a0a0a" : "#111", border: `1px solid ${genning ? "#151515" : day === SEASON_LEN - 1 ? "#f8717133" : "#222"}`, color: genning ? "#333" : day === SEASON_LEN - 1 ? "#f87171" : "#aaa", padding: mobile ? "14px 0" : "10px 0", fontSize: mobile ? 15 : 14, fontFamily: serif, cursor: genning ? "not-allowed" : "pointer", letterSpacing: 2 }}>
            {genning ? "ьГЭьД▒ ьдС..." : day === 0 ? "тЦ╢  ь▓л ьЮеый┤" : myBets.length > 0 ? "тмв  ы▓аэМЕ ъ▓░ъ│╝ эЩХьЭ╕" : day === SEASON_LEN - 1 ? "тШа  ызИьзАызЙ ьЮеый┤" : `тЦ╢  ыЛдьЭМ ьЮеый┤ (${day}/${SEASON_LEN})`}
          </button>
          )
        ) : (
          results.length > 0 ? (
            <button onClick={() => { setResults([]); setCorrectBet(null); die(); }}
              style={{ flex: 1, background: "#1a0a0a", border: "1px solid #f8717133", color: "#f87171", padding: mobile ? "14px 0" : "10px 0", fontSize: mobile ? 15 : 14, fontFamily: serif, cursor: "pointer", letterSpacing: 2 }}>
              тШа  ъ▓░ъ│╝ эЩХьЭ╕ тЖТ ьЛЬьжМ ьвЕыгМ
            </button>
          ) : myBets.length > 0 ? (
            <button onClick={() => resolve()}
              style={{ flex: 1, background: "#1a1a0a", border: "1px solid #f59e0b33", color: "#f59e0b", padding: mobile ? "14px 0" : "10px 0", fontSize: mobile ? 15 : 14, fontFamily: serif, cursor: "pointer", letterSpacing: 2 }}>
              тмв  ызИьзАызЙ ы▓аэМЕ ъ▓░ъ│╝ эЩХьЭ╕
            </button>
          ) : (
            <button onClick={() => die()}
              style={{ flex: 1, background: "#1a0a0a", border: "1px solid #f8717133", color: "#f87171", padding: mobile ? "14px 0" : "10px 0", fontSize: mobile ? 15 : 14, fontFamily: serif, cursor: "pointer", letterSpacing: 2, animation: "pulse 2s infinite" }}>
              тШа  ьЛЬ ьжМ  ьвЕ ыгМ
            </button>
          )
        )}
      </div>
    </div>
  );

  const BetPanel = () => {
    const timerPct = betTimer !== null ? (betTimer / 120) * 100 : 0;
    const timerColor = betTimer !== null && betTimer <= 30 ? "#f87171" : betTimer !== null && betTimer <= 60 ? "#f59e0b" : "#4ade80";
    const timerMin = betTimer !== null ? Math.floor(betTimer / 60) : 0;
    const timerSec = betTimer !== null ? betTimer % 60 : 0;
    return (
    <div style={{ display: "flex", flexDirection: "column", flex: mobile ? 1 : undefined, width: mobile ? "100%" : 290, background: "#0b0b0b", minHeight: 0 }}>
      {!mobile && <div style={{ padding: "10px 12px", borderBottom: "1px solid #131313", fontFamily: mono, fontSize: 9, color: "#444", letterSpacing: 3 }}>BETTING</div>}
      {/* Timer bar */}
      {betTimer !== null && betTimer > 0 && (
        <div style={{ padding: "8px 12px", borderBottom: "1px solid #131313" }}>
          <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 4 }}>
            <span style={{ fontSize: mobile ? 11 : 9, color: timerColor, fontFamily: mono, fontWeight: 700 }}>
              {betLocked ? "CLOSED" : `${timerMin}:${timerSec.toString().padStart(2, "0")}`}
            </span>
            <span style={{ fontSize: 8, color: "#444", fontFamily: mono }}>ы▓аэМЕ ызИъ░Ръ╣МьзА</span>
          </div>
          <div style={{ width: "100%", height: 3, background: "#1a1a1a", borderRadius: 2, overflow: "hidden" }}>
            <div style={{ width: `${timerPct}%`, height: "100%", background: timerColor, transition: "width 1s linear, background .3s", borderRadius: 2 }} />
          </div>
        </div>
      )}
      {betLocked && betTimer === 0 && (
        <div style={{ padding: "8px 12px", borderBottom: "1px solid #131313", textAlign: "center" }}>
          <span style={{ fontSize: mobile ? 12 : 10, color: "#f87171", fontFamily: mono, fontWeight: 700, animation: "pulse 1.5s infinite" }}>тКШ ы▓аэМЕ ызИъ░Р</span>
        </div>
      )}
      <div style={{ padding: "8px 12px", borderBottom: "1px solid #131313", display: "flex", alignItems: "center", gap: 5 }}>
        <span style={{ fontSize: mobile ? 11 : 10, color: "#555", fontFamily: mono }}>ы▓аэМЕьХб</span>
        {[50, 100, 200, 500].map(a => (
          <button key={a} onClick={() => karma >= a && setBetAmt(a)} style={{ background: betAmt === a ? "#1a1a0a" : "#0c0c0c", border: `1px solid ${betAmt === a ? "#f59e0b33" : "#151515"}`, color: karma < a ? "#222" : betAmt === a ? "#f59e0b" : "#444", padding: mobile ? "6px 12px" : "3px 8px", fontSize: mobile ? 13 : 10, cursor: karma < a ? "not-allowed" : "pointer", fontFamily: mono, opacity: karma < a ? 0.4 : 1, textDecoration: karma < a ? "line-through" : "none" }}>{a}</button>
        ))}
      </div>
      <div style={{ flex: 1, overflowY: "auto", WebkitOverflowScrolling: "touch", height: 0, padding: "4px 0" }}>
        {bets.length === 0 && !betsLoading && <div style={{ textAlign: "center", marginTop: 20, padding: "0 14px" }}>
              <ArtBlock art={ART.bet} color="#252525" size={mobile ? 10 : 9} />
              <div style={{ color: "#333", fontSize: mobile ? 18 : 15, marginTop: 8, lineHeight: 1.8 }}>ьЮеый┤ьЭ┤ ыВШьШдый┤<br />ы▓аэМЕьЭ┤ ьЧ┤ыж╜ыЛИыЛд</div>
            </div>}
        {betsLoading && bets.length === 0 && <div style={{ textAlign: "center", marginTop: 20, padding: "0 14px" }}>
              <div style={{ color: "#4ade80", fontSize: mobile ? 14 : 12, fontFamily: mono, animation: "pulse 1.5s ease-in-out infinite" }}>тЯ│ ы▓аэМЕ ьГЭьД▒ ьдС...</div>
              <div style={{ color: "#333", fontSize: mobile ? 11 : 9, marginTop: 6, fontFamily: mono }}>ьКдэЖаыжмые╝ ьЭ╜ьЬ╝ый┤ьДЬ ъ╕░ыЛдыадьг╝ьД╕ьЪФ</div>
            </div>}
        {bets.slice(0, betsRevealed).map((b, idx) => {
          const p = myBets.find(x => x.id === b.id);
          return (
            <div key={b.id} onClick={() => !betLocked && placeBet(b)} style={{
              margin: "3px 8px", padding: mobile ? "12px" : "10px",
              background: p ? "#0a1a0a" : betLocked ? "#0a0a0a" : "#0c0c0c",
              border: `1px solid ${p ? "#4ade8033" : "#131313"}`,
              cursor: betLocked ? "default" : "pointer",
              opacity: betLocked && !p ? 0.5 : 1,
              animation: "betSlideIn 0.4s ease-out",
              animationFillMode: "backwards",
              animationDelay: `${idx * 0.05}s`,
            }}>
              <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
                <span style={{ fontSize: mobile ? 18 : 15, color: p ? "#4ade80" : betLocked ? "#666" : "#bbb", flex: 1, lineHeight: 1.5 }}>{b.text}</span>
                <div style={{ textAlign: "right", marginLeft: 8 }}>
                  <OddsTicker baseOdds={b.odds} active={!p && !betLocked && day > 0} />
                  {p && <div style={{ fontSize: mobile ? 10 : 9, color: "#4ade80", marginTop: 2, fontFamily: mono }}>{p.amount}ьЧЕ <span style={{ color: "#4ade8066", fontSize: mobile ? 9 : 8 }}>эГнтЖТь╖иьЖМ</span></div>}
                </div>
              </div>
            </div>
          );
        })}
      </div>
      {myBets.length > 0 && (
        <div style={{ padding: "8px 12px", borderTop: "1px solid #131313", background: "#0a0f0a" }}>
          <div style={{ fontSize: mobile ? 11 : 10, color: "#4ade80", fontFamily: mono, display: "flex", justifyContent: "space-between" }}>
            <span>ы▓аэМЕ {myBets.length}ъ▒┤</span><span>{myBets.reduce((s, b) => s + b.amount, 0)}ьЧЕ</span>
          </div>
        </div>
      )}
      <div className="safe-bottom" style={{ padding: "10px 12px", borderTop: "1px solid #131313", display: "flex", justifyContent: "space-between", alignItems: "center" }}>
        <div>
          <div style={{ fontSize: mobile ? 10 : 9, color: "#444", fontFamily: mono, letterSpacing: 2 }}>KARMA</div>
          <div style={{ fontSize: mobile ? 22 : 18, color: "#f59e0b", fontFamily: mono, fontWeight: 700 }}>{karma.toLocaleString()}</div>
        </div>
        <div style={{ fontSize: 8, color: "#262626", fontFamily: mono }}>S{season} #{day}/{SEASON_LEN}</div>
      </div>
    </div>
  );};

  return (
    <div style={{ ...bp, display: "flex", flexDirection: "column" }}>
      <style>{css}</style>{NB}

      {/* Modals */}
      {cardModal && <ModalOverlay mobile={mobile} onClose={() => setCardModal(null)}>
        <div style={{ textAlign: "center" }}>
          <div style={{ fontSize: 10, color: gc, fontFamily: mono, letterSpacing: 3, marginBottom: 4 }}>SCREENSHOT CARD</div>
          <div style={{ fontSize: 8, color: "#444", fontFamily: mono, marginBottom: 14 }}>S{season} ┬╖ #{day} ┬╖ {GENRES[genre]?.name}</div>
          <div style={{ background: "#0a0a0a", border: "1px solid #1a1a1a", padding: 14, marginBottom: 14, textAlign: "left" }}>
            {cardModal.map((l, i) => (
              <div key={i} style={{ fontSize: 12, color: l.s === "n" ? "#555" : "#bbb", fontStyle: l.s === "n" ? "italic" : "normal", marginBottom: 3 }}>
                {l.s !== "n" && <span style={{ color: l.s === "A" ? gc : l.s === "C" ? "#f59e0b" : "#a0c4e8", fontWeight: 700, fontFamily: mono, fontSize: 10, marginRight: 4 }}>{setting?.characters.find(c => c.id === l.s)?.name || (l.s === "C" ? "C" : "?")}</span>}{l.t}
              </div>
            ))}
          </div>
          <div style={{ fontSize: 8, color: "#333", fontFamily: mono }}>An we man we man</div>
          <ArtBlock art={ART.divider} color="#1a1a1a" size={7} />
        </div>
      </ModalOverlay>}

      {peekModal && <ModalOverlay mobile={mobile} onClose={() => setPeekModal(null)}>
        <div style={{ textAlign: "center" }}>
          <div style={{ fontSize: 10, color: "#a78bfa", fontFamily: mono, letterSpacing: 3, marginBottom: 4 }}>тЧИ PEEK тАФ ы╣Ды░А ьЧ┐ы│┤ъ╕░</div>
          <div style={{ fontSize: 8, color: "#444", fontFamily: mono, marginBottom: 14 }}>S{season} ┬╖ #{day}</div>
          <div style={{ textAlign: "left" }}>
            {peekModal.map((c, i) => (
              <div key={i} style={{ background: "#0a0a0a", border: "1px solid #a78bfa11", padding: "12px 14px", marginBottom: 8, animation: `fadeIn ${0.5 + i * 0.3}s ease-out` }}>
                <div style={{ fontSize: mobile ? 14 : 13, color: i === 0 ? gc : "#a0c4e8", fontWeight: 700, marginBottom: 6, fontFamily: mono }}>{c.name} <span style={{ fontSize: 10, color: "#555", fontWeight: 400 }}>{c.gender}</span></div>
                <div style={{ fontSize: mobile ? 13 : 12, color: "#a78bfa", lineHeight: 1.8, fontFamily: serif }}>"{c.secret}"</div>
              </div>
            ))}
          </div>
        </div>
      </ModalOverlay>}

      {whisperOpen && <ModalOverlay mobile={mobile} onClose={() => { setWhisperOpen(false); setInv(p => [...p, "whisper"]); }}>
        <div style={{ textAlign: "center" }}>
          <div style={{ fontSize: 12, color: "#f59e0b", marginBottom: 8, fontFamily: mono }}>ьЖНьВньЮД</div>
          <div style={{ fontSize: 11, color: "#666", marginBottom: 12 }}>ь║РыжнэД░ьЧРъ▓М ьаДэХа ыйФьЛЬьзА</div>
          <input value={whisper} onChange={e => setWhisper(e.target.value)} placeholder="ьШИ: ьЖФьзБэХ┤ьа╕..."
            autoFocus
            style={{ width: "100%", background: "#0a0a0a", border: "1px solid #222", color: "#ccc", padding: "10px 12px", fontSize: 13, fontFamily: serif, marginBottom: 12, boxSizing: "border-box" }} />
          <div style={{ display: "flex", gap: 8, justifyContent: "center" }}>
            <button onClick={() => { setWhisperOpen(false); notify("ьЖНьВньЮД ьаДыЛм...", "success"); }}
              style={{ background: "#1a1a0a", border: "1px solid #f59e0b44", color: "#f59e0b", padding: "8px 24px", fontSize: 12, cursor: "pointer", fontFamily: mono }}>ьаДыЛм</button>
            <button onClick={() => { setWhisperOpen(false); setWhisper(""); setInv(p => [...p, "whisper"]); }}
              style={{ background: "#111", border: "1px solid #222", color: "#666", padding: "8px 24px", fontSize: 12, cursor: "pointer", fontFamily: mono }}>ь╖иьЖМ</button>
          </div>
        </div>
      </ModalOverlay>}

      {shop && <ModalOverlay mobile={mobile} onClose={() => setShop(false)}>
        <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 14 }}>
          <div style={{ fontSize: 11, color: "#555", fontFamily: mono, letterSpacing: 3 }}>ьЧЕ SHOP</div>
          <button onClick={() => setShop(false)} style={{ background: "none", border: "none", color: "#555", cursor: "pointer", fontSize: 16 }}>тЬХ</button>
        </div>
        <div style={{ fontSize: 10, color: "#f59e0b", fontFamily: mono, marginBottom: 12 }}>ы│┤ьЬа: {karma}</div>
        {["ъ░ЬьЮЕ", "ьаХы│┤", "ы▓аэМЕ", "ьИШьзС"].map(cat => (
          <div key={cat} style={{ marginBottom: 12 }}>
            <div style={{ fontSize: 9, color: "#444", fontFamily: mono, letterSpacing: 2, marginBottom: 5 }}>{cat}</div>
            {SHOP_ITEMS.filter(i => i.cat === cat).map(item => (
              <div key={item.id} style={{ display: "flex", justifyContent: "space-between", alignItems: "center", padding: "8px 8px", marginBottom: 2, background: "#111", border: "1px solid #151515" }}>
                <div style={{ flex: 1 }}>
                  <span style={{ color: RC[item.rarity], fontSize: 12, fontWeight: 700 }}>{item.icon} {item.name}</span>
                  <div style={{ fontSize: 10, color: "#555", marginTop: 1 }}>{item.desc}</div>
                </div>
                <button onClick={() => buy(item)} style={{
                  background: karma >= item.price ? "#1a1a0a" : "#111", border: `1px solid ${karma >= item.price ? "#f59e0b33" : "#151515"}`,
                  color: karma >= item.price ? "#f59e0b" : "#333", padding: "4px 12px", fontSize: 11,
                  cursor: karma >= item.price ? "pointer" : "not-allowed", fontFamily: mono,
                }}>{item.price}</button>
              </div>
            ))}
          </div>
        ))}
      </ModalOverlay>}

      {/* API Settings Modal */}
      {showApiCfg && <ModalOverlay mobile={mobile} onClose={() => setShowApiCfg(false)}>
        <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 16 }}>
          <span style={{ color: "#888", fontFamily: mono, fontSize: 13 }}>тЪЩ AI ьЧФьзД ьДдьаХ</span>
          <button onClick={() => setShowApiCfg(false)} style={{ background: "none", border: "none", color: "#555", cursor: "pointer", fontSize: 16 }}>тЬХ</button>
        </div>
        <div style={{ color: "#555", fontSize: 11, marginBottom: 12, lineHeight: 1.6 }}>
          AIыбЬ ьЮеый┤ьЭД ьГЭьД▒эХйыЛИыЛд. API эВдызМ ыДгьЬ╝ый┤ ыБЭ.
        </div>
        {/* Provider buttons */}
        <div style={{ display: "flex", flexWrap: "wrap", gap: 6, marginBottom: 14 }}>
          {Object.entries(API_PRESETS).map(([k, v]) => (
            <button key={k} onClick={() => {
              const preset = API_PRESETS[k];
              const recModel = preset.models?.find(m => m.rec)?.id || preset.models?.[0]?.id || "";
              setApiCfg(prev => ({ provider: k, key: k === "off" ? "" : prev.key, model: recModel, endpoint: preset.endpoint || prev.endpoint }));
            }} style={{
              background: apiCfg.provider === k ? "#1a2a1a" : "#111",
              border: `1px solid ${apiCfg.provider === k ? "#2a6" : "#222"}`,
              color: apiCfg.provider === k ? "#4d8" : "#777",
              padding: "6px 12px", fontSize: 11, cursor: "pointer", borderRadius: 3,
            }}>{v.label}</button>
          ))}
        </div>
        {apiCfg.provider !== "off" && (() => {
          const preset = API_PRESETS[apiCfg.provider];
          return <>
            <div style={{ color: "#555", fontSize: 10, marginBottom: 10 }}>{preset?.note}</div>
            {/* API Key */}
            <div style={{ marginBottom: 12 }}>
              <div style={{ color: "#666", fontSize: 10, marginBottom: 4 }}>API эВд</div>
              <input value={apiCfg.key} onChange={e => setApiCfg(p => ({ ...p, key: e.target.value }))}
                placeholder={apiCfg.provider === "gemini" ? "AIza..." : apiCfg.provider === "claude" ? "sk-ant-..." : "sk-..."}
                type="password"
                style={{ width: "100%", background: "#0a0a0a", border: "1px solid #222", color: "#ccc", padding: "8px 10px", fontSize: 12, fontFamily: mono, borderRadius: 3, boxSizing: "border-box" }} />
              {apiCfg.provider === "claude" && <div style={{ color: "#a85", fontSize: 9, marginTop: 4 }}>тЪа ы╕МыЭ╝ьЪ░ьаА CORS ьаЬэХЬьЬ╝ыбЬ ьзБьаС эШ╕ь╢Ь ы╢Иъ░А. эФДыбЭьЛЬ ьДЬы▓Д ыШРыКФ ь╗дьКдэЕА ьЧФыУЬэПмьЭ╕эК╕ эХДьЪФ.</div>}
            </div>
            {/* Model selector */}
            {preset?.models?.length > 0 ? (
              <div style={{ marginBottom: 12 }}>
                <div style={{ color: "#666", fontSize: 10, marginBottom: 6 }}>ыкиыН╕ ьДаэГЭ</div>
                <div style={{ display: "flex", flexDirection: "column", gap: 4 }}>
                  {preset.models.map(m => (
                    <button key={m.id} onClick={() => setApiCfg(p => ({ ...p, model: m.id }))} style={{
                      display: "flex", justifyContent: "space-between", alignItems: "center",
                      background: apiCfg.model === m.id ? "#1a2a1a" : "#0a0a0a",
                      border: `1px solid ${apiCfg.model === m.id ? "#2a6" : "#1a1a1a"}`,
                      padding: "8px 12px", borderRadius: 3, cursor: "pointer", textAlign: "left",
                    }}>
                      <div>
                        <span style={{ color: apiCfg.model === m.id ? "#4d8" : "#aaa", fontSize: 12 }}>{m.name}</span>
                        {m.rec && <span style={{ color: "#f59e0b", fontSize: 9, marginLeft: 6 }}>ь╢Фь▓Ь</span>}
                      </div>
                      <span style={{ color: "#555", fontSize: 10 }}>{m.desc}</span>
                    </button>
                  ))}
                </div>
              </div>
            ) : (
              /* Custom: manual model + endpoint input */
              <>
                <div style={{ marginBottom: 10 }}>
                  <div style={{ color: "#666", fontSize: 10, marginBottom: 4 }}>ыкиыН╕ыкЕ</div>
                  <input value={apiCfg.model} onChange={e => setApiCfg(p => ({ ...p, model: e.target.value }))}
                    placeholder="ыкиыН╕ ID ьЮЕыае"
                    style={{ width: "100%", background: "#0a0a0a", border: "1px solid #222", color: "#ccc", padding: "8px 10px", fontSize: 12, fontFamily: mono, borderRadius: 3, boxSizing: "border-box" }} />
                </div>
                <div style={{ marginBottom: 10 }}>
                  <div style={{ color: "#666", fontSize: 10, marginBottom: 4 }}>ьЧФыУЬэПмьЭ╕эК╕</div>
                  <input value={apiCfg.endpoint} onChange={e => setApiCfg(p => ({ ...p, endpoint: e.target.value }))}
                    placeholder="https://api.example.com/v1/chat/completions"
                    style={{ width: "100%", background: "#0a0a0a", border: "1px solid #222", color: "#ccc", padding: "8px 10px", fontSize: 11, fontFamily: mono, borderRadius: 3, boxSizing: "border-box" }} />
                </div>
              </>
            )}
            {/* Test button */}
            {(apiCfg.provider === "claude" || apiCfg.provider === "custom") && preset?.models?.length > 0 && <div style={{ marginBottom: 10 }}>
              <div style={{ color: "#666", fontSize: 10, marginBottom: 4 }}>ьЧФыУЬэПмьЭ╕эК╕ {apiCfg.provider === "claude" ? "(эФДыбЭьЛЬ URL)" : ""}</div>
              <input value={apiCfg.endpoint} onChange={e => setApiCfg(p => ({ ...p, endpoint: e.target.value }))}
                placeholder={apiCfg.provider === "claude" ? "https://your-proxy.com/v1/messages" : "https://api.example.com/v1/chat/completions"}
                style={{ width: "100%", background: "#0a0a0a", border: "1px solid #222", color: "#ccc", padding: "8px 10px", fontSize: 11, fontFamily: mono, borderRadius: 3, boxSizing: "border-box" }} />
            </div>}
            <button onClick={async () => {
              try {
                notify("эЕМьКдэК╕ ьдС...", "info");
                const res = await llmCall("Say 'OK' in Korean. Nothing else.", 1000);
                notify(`тЬЕ ьЧ░ъ▓░ ьД▒ъ│╡: "${res.slice(0,30)}"`, "success");
              } catch (e) {
                notify(`тЭМ ьЛдэМи: ${e.message?.slice(0,60) || "ьЧ░ъ▓░ ьШдыеШ"}`, "error");
              }
            }} style={{ width: "100%", background: "#1a2a1a", border: "1px solid #2a6", color: "#4d8", padding: "10px", fontSize: 12, cursor: "pointer", borderRadius: 3, marginTop: 4 }}>
              ьЧ░ъ▓░ эЕМьКдэК╕
            </button>
          </>;
        })()}
        {apiCfg.provider === "off" && <div style={{ color: "#444", fontSize: 11, textAlign: "center", padding: "20px 0", lineHeight: 1.8 }}>
          ьШдэФДыЭ╝ьЭ╕ ыкиыУЬ<br/>
          <span style={{ color: "#555", fontSize: 10 }}>эЕЬэФМыж┐ ьКдэЖаыжмыбЬ эФМыаИьЭ┤ыРйыЛИыЛд</span>
        </div>}
      </ModalOverlay>}

      {/* Top bar */}
      <div className="safe-top" style={{ display: "flex", justifyContent: "space-between", alignItems: "center", padding: mobile ? "10px 14px" : "10px 16px", borderBottom: "1px solid #131313", fontFamily: mono, fontSize: mobile ? 12 : 11 }}>
        <div style={{ display: "flex", gap: mobile ? 8 : 12, alignItems: "center" }}>
          <span style={{ color: "#444", letterSpacing: 2, fontSize: mobile ? 10 : 11 }}>ANWEM v5</span>
          {apiCfg.provider !== "off" && <span style={{ color: "#2a6", fontSize: 8, marginLeft: 6, opacity: 0.7 }}>тЧП {API_PRESETS[apiCfg.provider]?.label || apiCfg.provider}</span>}
          <span style={{ color: gc + "88", fontSize: mobile ? 10 : 9 }}>{GENRES[genre]?.name}</span>
          <span style={{ color: "#888" }}>{day}<span style={{ color: "#444" }}>/{SEASON_LEN}</span></span>
          {day > 0 && <div style={{ width: mobile ? 40 : 60, height: 3, background: "#1a1a1a", borderRadius: 2, overflow: "hidden" }}>
            <div style={{ width: `${(day / SEASON_LEN) * 100}%`, height: "100%", background: day >= SEASON_LEN - 1 ? "#f87171" : gc, transition: "width .5s" }} />
          </div>}
          {day >= SEASON_LEN - 1 && <span style={{ color: "#f87171", animation: "pulse 1s infinite", fontSize: 9 }}>FINAL</span>}
          {day > 0 && day < SEASON_LEN - 1 && <span style={{ color: "#f87171", animation: "pulse 2s infinite", fontSize: 9 }}>тЧП</span>}
        </div>
        <div style={{ display: "flex", gap: 8, alignItems: "center" }}>
          <span style={{ color: karma <= 100 ? "#f87171" : karma <= 300 ? "#f59e0b" : "#f59e0b", fontSize: mobile ? 13 : 11, animation: karma <= 100 ? "pulse 1s infinite" : "none" }}>ьЧЕ {karma.toLocaleString()}{karma <= 100 && karma > 0 ? " тЪа" : ""}</span>
          <button onClick={() => setShop(true)} style={{ background: "#111", border: "1px solid #1a1a1a", color: "#777", padding: mobile ? "4px 10px" : "3px 8px", fontSize: mobile ? 11 : 9, cursor: "pointer", fontFamily: mono }}>SHOP</button>
          <button onClick={() => setShowApiCfg(true)} style={{ background: "#111", border: "1px solid #1a1a1a", color: apiCfg.provider !== "off" ? "#2a6" : "#555", padding: mobile ? "4px 8px" : "3px 6px", fontSize: mobile ? 11 : 9, cursor: "pointer" }}>тЪЩ</button>
          <button onClick={() => setDebugMode(p => !p)} style={{ background: debugMode ? "#1a1a0a" : "#111", border: `1px solid ${debugMode ? "#f59e0b33" : "#1a1a1a"}`, color: debugMode ? "#f59e0b" : "#333", padding: mobile ? "4px 8px" : "3px 6px", fontSize: mobile ? 11 : 9, cursor: "pointer" }}>ЁЯФз</button>
        </div>
      </div>

      {/* Mobile: Tab nav */}
      {mobile && (
        <div style={{ display: "flex", borderBottom: "1px solid #131313" }}>
          {[["story", "ьКдэЖаыжм"], ["bet", "ы▓аэМЕ"]].map(([k, label]) => (
            <button key={k} onClick={() => setTab(k)} style={{
              flex: 1, padding: "10px 0", background: tab === k ? "#111" : "#0a0a0a",
              border: "none", borderBottom: tab === k ? `2px solid ${gc}` : "2px solid transparent",
              color: tab === k ? "#ccc" : "#555", fontSize: 13, fontFamily: mono, cursor: "pointer",
              letterSpacing: 2, transition: "all .2s",
            }}>
              {label}
              {k === "bet" && myBets.length > 0 && <span style={{ color: "#4ade80", marginLeft: 4, fontSize: 9 }}>({myBets.length})</span>}
              {k === "bet" && betTimer !== null && betTimer > 0 && !betLocked && (
                <span style={{ color: betTimer <= 30 ? "#f87171" : "#f59e0b", marginLeft: 4, fontSize: 9, fontWeight: 700 }}>
                  {Math.floor(betTimer / 60)}:{(betTimer % 60).toString().padStart(2, "0")}
                </span>
              )}
              {k === "bet" && betLocked && <span style={{ color: "#f87171", marginLeft: 4, fontSize: 9 }}>тКШ</span>}
            </button>
          ))}
        </div>
      )}

      {/* Main content */}
      {mobile ? (
        <div style={{ flex: 1, display: "flex", flexDirection: "column", minHeight: 0 }}>
          {tab === "story" ? StoryPanel() : BetPanel()}
        </div>
      ) : (
        <div style={{ display: "flex", flex: 1, minHeight: 0 }}>
          <div style={{ flex: 1, display: "flex", flexDirection: "column", borderRight: "1px solid #131313" }}>
            {StoryPanel()}
          </div>
          {BetPanel()}
        </div>
      )}

      {/* Debug Panel */}
      {debugMode && (
        <div style={{ position: "fixed", bottom: 0, left: 0, right: 0, height: "45vh", background: "#0a0a0a", borderTop: "2px solid #333", zIndex: 300, display: "flex", flexDirection: "column", fontFamily: "monospace", fontSize: 11 }}>
          <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", padding: "6px 12px", background: "#111", borderBottom: "1px solid #222" }}>
            <span style={{ color: "#f59e0b", fontWeight: 700 }}>ЁЯФз DEBUG CONSOLE ({debugLogs.length})</span>
            <div style={{ display: "flex", gap: 8 }}>
              <button onClick={() => { const txt = debugLogs.map(l => `${l.time} ${l.label}\n${l.data}`).join('\n---\n'); navigator.clipboard.writeText(txt).then(() => alert('ы│╡ьВм ьЩДыгМ!')); }} style={{ background: "#1a1a1a", border: "1px solid #555", color: "#0f0", padding: "2px 8px", fontSize: 10, cursor: "pointer" }}>COPY ALL</button>
              <button onClick={() => setDebugLogs([])} style={{ background: "#1a1a1a", border: "1px solid #333", color: "#888", padding: "2px 8px", fontSize: 10, cursor: "pointer" }}>CLEAR</button>
              <button onClick={() => setDebugMode(false)} style={{ background: "#1a0a0a", border: "1px solid #f8717133", color: "#f87171", padding: "2px 8px", fontSize: 10, cursor: "pointer" }}>тЬХ</button>
            </div>
          </div>
          <div style={{ flex: 1, overflow: "auto", padding: 8 }}>
            {debugLogs.map((log, i) => {
              const colors = { send: "#60a5fa", raw: "#a78bfa", ok: "#4ade80", error: "#f87171", warn: "#f59e0b", parse: "#e8a0b4", bet: "#c084fc", info: "#94a3b8" };
              return (
                <div key={i} style={{ marginBottom: 6, borderBottom: "1px solid #1a1a1a", paddingBottom: 4 }}>
                  <div style={{ display: "flex", gap: 8, alignItems: "center", marginBottom: 2 }}>
                    <span style={{ color: "#444", fontSize: 9 }}>{log.time}</span>
                    <span style={{ color: colors[log.type] || "#888", fontWeight: 700, fontSize: 10 }}>{log.label}</span>
                  </div>
                  <pre style={{ color: "#888", margin: 0, whiteSpace: "pre-wrap", wordBreak: "break-all", fontSize: 10, lineHeight: 1.4, maxHeight: 200, overflow: "auto", background: "#0c0c0c", padding: 4, borderRadius: 2 }}>{log.data}</pre>
                </div>
              );
            })}
          </div>
        </div>
      )}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>
</body>
</html>
